<!DOCTYPE html>
<!-- saved from url=(0067)http://www.shutupandship.com/2012/01/python-closures-explained.html -->
<html class="v2" dir="ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<script src="./Python Closures Explained _ Shut Up and Ship_files/cb=gapi.loaded_4" async=""></script><script src="./Python Closures Explained _ Shut Up and Ship_files/cb=gapi.loaded_3" async=""></script><script src="./Python Closures Explained _ Shut Up and Ship_files/cb=gapi.loaded_2" async=""></script><script src="./Python Closures Explained _ Shut Up and Ship_files/cb=gapi.loaded_1" async=""></script><script src="./Python Closures Explained _ Shut Up and Ship_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./Python Closures Explained _ Shut Up and Ship_files/ga.js"></script><script type="text/javascript">(function() { (function(){function c(a){this.t={};this.tick=function(a,c,b){var d=void 0!=b?b:(new Date).getTime();this.t[a]=[d,c];if(void 0==b)try{window.console.timeStamp("CSI/"+a)}catch(e){}};this.tick("start",null,a)}var a;window.performance&&(a=window.performance.timing);var h=a?new c(a.responseStart):new c;window.jstiming={Timer:c,load:h};if(a){var b=a.navigationStart,e=a.responseStart;0<b&&e>=b&&(window.jstiming.srt=e-b)}if(a){var d=window.jstiming.load;0<b&&e>=b&&(d.tick("_wtsrt",void 0,b),d.tick("wtsrt_",
"_wtsrt",e),d.tick("tbsd_","wtsrt_"))}try{a=null,window.chrome&&window.chrome.csi&&(a=Math.floor(window.chrome.csi().pageT),d&&0<b&&(d.tick("_tbnd",void 0,window.chrome.csi().startE),d.tick("tbnd_","_tbnd",b))),null==a&&window.gtbExternal&&(a=window.gtbExternal.pageT()),null==a&&window.external&&(a=window.external.pageT,d&&0<b&&(d.tick("_tbnd",void 0,window.external.startE),d.tick("tbnd_","_tbnd",b))),a&&(window.jstiming.pt=a)}catch(k){}})();window.tickAboveFold=function(c){var a=0;if(c.offsetParent){do a+=c.offsetTop;while(c=c.offsetParent)}c=a;750>=c&&window.jstiming.load.tick("aft")};var f=!1;function g(){f||(f=!0,window.jstiming.load.tick("firstScrollTime"))}window.addEventListener?window.addEventListener("scroll",g,!1):window.attachEvent("onscroll",g);
 })();</script>
<meta content="blogger" name="generator">
<link href="http://www.shutupandship.com/favicon.ico" rel="icon" type="image/x-icon">
<link href="./Python Closures Explained _ Shut Up and Ship_files/Python Closures Explained _ Shut Up and Ship.html" rel="canonical">
<link rel="alternate" type="application/atom+xml" title="Shut Up and Ship - Atom" href="http://www.shutupandship.com/feeds/posts/default">
<link rel="alternate" type="application/rss+xml" title="Shut Up and Ship - RSS" href="http://www.shutupandship.com/feeds/posts/default?alt=rss">
<link rel="service.post" type="application/atom+xml" title="Shut Up and Ship - Atom" href="https://www.blogger.com/feeds/9152575394739018798/posts/default">

<link rel="alternate" type="application/atom+xml" title="Shut Up and Ship - Atom" href="http://www.shutupandship.com/feeds/178682433303594871/comments/default">
<!--[if IE]><script type="text/javascript" src="https://www.blogger.com/static/v1/jsbin/1494333581-ieretrofit.js"></script>
<![endif]-->
<!--[if IE]> <script> (function() { var html5 = ("abbr,article,aside,audio,canvas,datalist,details," + "figure,footer,header,hgroup,mark,menu,meter,nav,output," + "progress,section,time,video").split(','); for (var i = 0; i < html5.length; i++) { document.createElement(html5[i]); } try { document.execCommand('BackgroundImageCache', false, true); } catch(e) {} })(); </script> <![endif]-->
<title>Python Closures Explained | Shut Up and Ship</title>
<meta content="!" name="fragment">
<meta content="dynamic" name="blogger-template">
<meta content="IE=9,chrome=1" http-equiv="X-UA-Compatible">
<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no, width=device-width" name="viewport">
<link type="text/css" rel="stylesheet" href="./Python Closures Explained _ Shut Up and Ship_files/1803457017-css_bundle_v2.css">
<link type="text/css" rel="stylesheet" href="./Python Closures Explained _ Shut Up and Ship_files/authorization.css">


<script src="./Python Closures Explained _ Shut Up and Ship_files/jquery.js" type="text/javascript"></script>
<script src="./Python Closures Explained _ Shut Up and Ship_files/jquery-mousewheel.js" type="text/javascript"></script>
<script src="./Python Closures Explained _ Shut Up and Ship_files/common.js" type="text/javascript"></script>
<script src="./Python Closures Explained _ Shut Up and Ship_files/classic.js" type="text/javascript"></script>
<script src="./Python Closures Explained _ Shut Up and Ship_files/gadgets.js" type="text/javascript"></script>
<script src="./Python Closures Explained _ Shut Up and Ship_files/comments.js"></script>
<script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-25361044-1']);
        _gaq.push(['_trackPageview']);
        (function() {
          var ga = document.createElement('script');
          ga.type = 'text/javascript';
          ga.async = true;
          ga.src = (document.location.protocol == 'https:' ?
                    'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
        })();
      </script>
<script type="text/javascript">var a="&m=1",d="(^|&)m=",e="?",f="?m=1";function g(){var b=window.location.href,c=b.split(e);switch(c.length){case 1:return b+f;case 2:return 0<=c[1].search(d)?null:b+a;default:return null}}var h=navigator.userAgent;if(-1!=h.indexOf("Mobile")&&-1!=h.indexOf("WebKit")&&-1==h.indexOf("iPad")||-1!=h.indexOf("Opera Mini")||-1!=h.indexOf("IEMobile")){var k=g();k&&window.location.replace(k)};
</script><script type="text/javascript">
if (window.jstiming) window.jstiming.load.tick('headEnd');
</script><style id="profilecss" class="singleton-element">.profile {
  color: #666;
  min-width: 280px;
  padding: 8px 16px 16px 16px;
}

.profile-data {
  margin: 0;
}

.profile-name {
  display: inline-block;
}

.profile-name-link {
  background: no-repeat left center;
  display: inline-block;
  min-height: 20px;
  padding-left: 20px;
}

.profile-photo {
  display: inline-block;
  float: left;
  margin: 0 12px 10px 0;
}

.profile-name, .profile-location, .profile-occupation {
  font-size: 16px;
  margin-bottom: 6px;
}

.profile-photo img {
  vertical-align: middle;
}
.profile-aboutme {
  clear: both;
  line-height: 1.2em;
  margin: 0;
}

.profile-link {
  clear: both;
  display: block;
  margin-top: 4px;
  text-align: right;
}</style><style id="labelcss" class="singleton-element">.gadget-label {
  padding: 12px;
  min-width: 320px;
}

.gadget-label-item {
  line-height: 14px;
  padding: 8px;
}

.gadget-label-cloud .gadget-label-item {
  display: inline-block;
}

.gadget-label-cloud .gadget-label-size-1 {
  font-size: 80%;
}
.gadget-label-cloud .gadget-label-size-2 {
  font-size: 90%;
}
.gadget-label-cloud .gadget-label-size-3 {
  font-size: 100%;
}
.gadget-label-cloud .gadget-label-size-4 {
  font-size: 120%;
}
.gadget-label-cloud .gadget-label-size-5 {
  font-size: 160%;
}

.gadget-label-count {
  display: none;
  color: #666;
  font-size: 12px;
}
.gadget-label-show-freq-numbers .gadget-label-count {
  display: inline;
}
.gadget-label-count:before {
  content: " (";
}
.gadget-label-count:after {
  content: ")";
}</style><style id="blogarchivecss" class="singleton-element">.blogarchive-tree {
  padding: 12px;
  -moz-transition: width 0.15s, height 0.15s;
-ms-transition: width 0.15s, height 0.15s;
-o-transition: width 0.15s, height 0.15s;
-webkit-transition: width 0.15s, height 0.15s;
transition: width 0.15s, height 0.15s;
}

.blogarchive-title {
  padding: 8px;
  vertical-align: middle;
  line-height: 14px;
  white-space: nowrap;
  cursor: pointer;
}

.blogarchive-title:after {
  content: "";
  display: inline-block;
  border-width: 5px;
  border-color: transparent transparent transparent #666;
  border-style: solid;
  width: 0;
  height: 0;
  position: relative;
  left: 4px;
  visibility: hidden;
}

.blogarchive-title:hover:after {
  border-color: transparent transparent transparent #ccc;
}

.blogarchive-expanded > .blogarchive-title:after {
  border-color: transparent transparent transparent #666;
}

.blogarchive-title:hover:after,
.blogarchive-expanded > .blogarchive-title:after {
  visibility: visible;
}

.blogarchive-expanded > .blogarchive-title a {
  color: #666;
  font-weight: bold;
}

.blogarchive-flat .blogarchive-title:after {
  display: none;
}

.blogarchive-loading {
  background-image: url(data:image/gif;base64,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);
  background-repeat: no-repeat;
  background-position: left center;
  height: 28px;
}

.blogarchive-loading:after {
  content: "loading";
  color: #666;
  display: inline-block;
  line-height: 28px;
  margin-left: 28px;
  min-width: 192px;
}

.blogarchive-dates {
  min-width: 128px;
}

.blogarchive-tree > .blogarchive-dates {
  position: relative;
}

.blogarchive-date > .blogarchive-dates {
  display: none;
  position: absolute;
  top: 0;
  left: 90%;
  -moz-transition: left 0.15s ease-out;
-ms-transition: left 0.15s ease-out;
-o-transition: left 0.15s ease-out;
-webkit-transition: left 0.15s ease-out;
transition: left 0.15s ease-out;
}

.blogarchive-date.blogarchive-expanded > .blogarchive-dates {
  display: block;
  left: 100%;
}

.blogarchive-expanded > .blogarchive-dates {
  display: inline-block;
}

.blogarchive-post-count {
  color: #666;
  font-size: 12px;
}
.blogarchive-post-count:before {
  content: " (";
}
.blogarchive-post-count:after {
  content: ")";
}
.blogarchive-post {
  padding: 8px 0 0 16px;
  text-indent: -8px;
  min-width: 200px;
}

@media only screen and (max-width : 546px) {
  .blogarchive-tree {
    height: auto !important;
    width: auto !important;
  }

  .blogarchive-date > .blogarchive-dates {
    position: static;
    margin-left: 12px;
  }

  .blogarchive-post {
    padding: 4px 0 4px 16px;
  }
}</style><style id="subscribecss" class="singleton-element">#subscribe {
  text-align: left;
  margin: 10px;
  vertical-align: middle;
  white-space: nowrap;
}

.subscribe-by-email,
.subscribe-rss-feed {
  min-width: 250px;
  padding: 4px 16px 16px 16px;
}

.subscribe-by-email {
  border-bottom: 1px solid #ddd;
}

.subscribe-by-email-title,
.subscribe-rss-feed-title {
  font-size: 16px;
  margin: 8px 0;
}

.subscribe-by-email-address {
  border: 1px solid #ddd;
  -moz-box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.3);
-ms-box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.3);
-o-box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.3);
-webkit-box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.3);
box-shadow: inset 0 0 1px rgba(0, 0, 0, 0.3);;
  font-size: 12px;
  height: 27px;
  line-height: 27px;
  min-width: 192px;
  padding: 0 0 0 6px;
}

.subscribe-by-email-submit {
  display: inline-block;
  min-width: 54px;
  border: 1px solid #dcdcdc;
  text-align: center;
  color: #444;
  font-size: 11px;
  font-weight: bold;
  height: 27px;
  padding: 0 8px;
  line-height: 27px;
  -moz-border-radius: 2px;
-ms-border-radius: 2px;
-o-border-radius: 2px;
-webkit-border-radius: 2px;
border-radius: 2px;
  -moz-transition: right 0.218s;
-ms-transition: right 0.218s;
-o-transition: right 0.218s;
-webkit-transition: right 0.218s;
transition: right 0.218s;;
  background-color: #f5f5f5;
  background-image: -webkit-gradient(linear,left top,left bottom,from(#f5f5f5),to(#f1f1f1));
  background-image: -webkit-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: -moz-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: -ms-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: -o-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: linear-gradient(top,#f5f5f5,#f1f1f1);
  filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#f5f5f5',EndColorStr='#f1f1f1');
  -moz-box-sizing: content-box;
-ms-box-sizing: content-box;
-o-box-sizing: content-box;
-webkit-box-sizing: content-box;
box-sizing: content-box;;
}
.subscribe-by-email-submit:hover {
  border: 1px solid #c6c6c6;
  color: #222;
  -webkit-transition: all 0.0s;
  -moz-transition: all 0.0s;
  -o-transition: all 0.0s;
  transition: all 0.0s;
  background-color: #f8f8f8;
  background-image: -webkit-gradient(linear,left top,left bottom,from(#f8f8f8),to(#f1f1f1));
  background-image: -webkit-linear-gradient(top,#f8f8f8,#f1f1f1);
  background-image: -moz-linear-gradient(top,#f8f8f8,#f1f1f1);
  background-image: -ms-linear-gradient(top,#f8f8f8,#f1f1f1);
  background-image: -o-linear-gradient(top,#f8f8f8,#f1f1f1);
  background-image: linear-gradient(top,#f8f8f8,#f1f1f1);
  filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#f8f8f8',EndColorStr='#f1f1f1');
  -moz-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);
-ms-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);
-o-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);
-webkit-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);
box-shadow: 0px 1px 1px rgba(0,0,0,0.1);;
}
.subscribe-by-email-submit:active {
  background-color: #f6f6f6;
  background-image: -webkit-gradient(linear,left top,left bottom,from(#f6f6f6),to(#f1f1f1));
  background-image: -webkit-linear-gradient(top,#f6f6f6,#f1f1f1);
  background-image: -moz-linear-gradient(top,#f6f6f6,#f1f1f1);
  background-image: -ms-linear-gradient(top,#f6f6f6,#f1f1f1);
  background-image: -o-linear-gradient(top,#f6f6f6,#f1f1f1);
  background-image: linear-gradient(top,#f6f6f6,#f1f1f1);
  filter: progid:DXImageTransform.Microsoft.gradient(startColorStr='#f6f6f6',EndColorStr='#f1f1f1');
  -moz-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
-ms-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
-o-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
-webkit-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);;
}
.subscribe-by-email-submit:visited {
  color: #666;
}

.subscribe-rss-feed-view-rss {
  display: inline-block;
  height: 24px;
  line-height: 24px;
  padding-left: 28px;
}

.subscribe-rss-feed-add-to {
  /* http://www.google.com/images/icons/product/reader-16.png */
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACfElEQVQ4T22TXUhTYRjH/0dn6pZNkkZa2rKrRMgshO4q6KbooqCbbrwqQhMsEPqAvsuK6KYuoroRQigogkxErMhMIqxZGNTWtjbSmcO5zfOx856vznlOmx3Zc3He8/7f5/k9H7wvh2XG3+gwLIml0tCEHJ3K8wvgY3MFz4aHj+FuauYsgT55ywcL3lp4MokCxAKwVBZsMQeFFyGlJbTFZ4sDKk7ehKowYrKJUagvn0CMW7AlgCIxtIamiwNcXVcoWNNUaLoKXeAhPLgLefw9VSAm01BlDb43g/BvauUcLaRudRu5PYcKLa30b4RugVQV2etXwY+8hpU9JyioHx82k+j2DMqvKTS4vOnZP47RtrgT6D9YAv54B5RIDKqqLwHKezUDhl402JBFGIwHFBmt610Y8A0hfOkO+RYqsLILPTKiKRVvf+noHdUQn5fJ6X+Atf99rgrRtt10VvduCKqmgbMAme5Fx+DufdRwZlCyIf8qsP5jZz1Ith+BFIw6AcN7g/BVV6ChpsqevDm4L/FFHHikIZMVCu0F/M+hTwQgfpgkgCQzu4JU1wIFBqILaFxTiapKF03+WSCNY09lsxXBdPRgZLKLYDWXL2Dd1ibMzCZsQLIzSVmpzKTdTq23jNZ99zP4FM7AUCTM3t4CZvrV+nyQcyLCP7+Dc50IGq/aFXJurqukNZKUsKGmzKyCYeAbw9G+adKVvl0QxSzc7lW0D4WmwJV2fjbmzleTMDUjYfNaO/NYMI0djW66LPWnY6R9PbWaVsbshNu27+QIMNXjJYE3Xx9XWgJPxQqM/cigzV9OesvFCK1G/37HzbU0+0EcfuG4ieS9zIoFWy5/AXxpdXGYm4ahAAAAAElFTkSuQmCC);
  background-repeat: no-repeat;
  background-position: 4px center;
  padding-left: 25px;
}

a.feed-reader-link {
  margin: .5em 0;
}

.subscribe-netvibes,
.subscribe-myyahoo {
  background-repeat: no-repeat;
  height: 17px;
  width: 91px;
}

.subscribe-netvibes {
  /* http://img1.blogblog.com/img/widgets/subscribe-netvibes.png */
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAARCAMAAACFKyChAAAC7lBMVEX////////o8f9fti79/v/y9/+It/55rv5Fbrj8/f76+/33+v/z+P/q8//l7/+Cs/5rpv5dnf76/P9VmP74+vyUvv6Gtv56r/41oTVLcrqqqqr2+Pvv9f/h7f/e6//Y4fDL4P/R2+3F3P/C2v/N2OyqzP+2xuSix/5Ysy/5+//MzMxxqf5qpf6EntBno/5Zm/5fti9eti41ojQ1oTSSvf4+aLYsWa4iUqv5/P/4+fz0+f/29/v09vrx9Pro8v/r7/jm8P/g7P/j6fXa6f/e5fLU5f/T5P/a4vHV3u/J3//E2//L1uu+1/+51f+uzv+9y+atzv+6yeWoy/6myf+fxf6wweGcw/6awf6Nuv6gtNuJuP6EtP6CtP6As/6SqtV3rf51q/5tp/5mov5jof5env5bnP5ctS5ctC9btC9TsDBOrjFhg8NIqzI+pjM9pjM+pTM5pDRRdr1Mc7tIb7lBarcvkRg9Z7UrixgriRgqiRglghkxXbEifxkifRkgeRqQvP4ddhuuv+AyoDX+/v/2+f/2+Pzy9vvy9frt9P/w8/rs8//s7/fq7vfo7fbi7v/i7f/n7Pbg7f/k7Pnn6/bh7P/f7P/d6v/h6PTh5/Tf5vPY5//W5v/d5PLR5P/a4fHO4v/X4PDH3f/D2//C2v7C2f7M1+zM1+u/2P671/+61f+31P630/7Cz+ix0P+/zeawz/60xOOyw+KywuGawv6Zwv6rvd+YwP6XwP6Svv+httuLuf+Luf6Kuf6LuP6KuP6es9qbsdl+sv58r/6PptOFp9+JotKGoNCDndB9ms5enf50kspRlv5dtC5ctC5XszBYsi9TsTBTsC9oiMVPrjFPrjBjhcRJrDFJqzJFqjJFqTJCqTJDqDI/pzNApjNYfMA8pTQ7pDM5pDNWer84pDQ5ozQ5ozM4ozU3ozQ0ojU0oTRKcbpJcLpIcLkvkRcvjxgtjhgtjBg8ZbI6ZbQohhgohRk0YLIifxoifRooVq4aTKg1STZjAAAAAXRSTlMAQObYZgAAAmVJREFUeF611EOMbE0ch+H+tc2xbdu2bdv2XNu2bdu2bdv8uLsnmaRzchaTWUw/VUn9a/Puqmg2KkOj2UBFbHSINkYpDXr7I0NJC/3xVU6pbkhziB9A+11FZcW39vavVyuvvEc/TlgoR7oB9IstB9B+bmVl9R34QRwvQBIZpbsw0R+A7rYt3kBUx+lZM4OnM6fNFdP1WYAkRWAUCgIz3EgIQGi0KIhFbT+t7uruBjo7u24+Acnd3mdcj1pvGH9u+dQchkueP89wyiTWJ8uPpDlmABocjt3FQ0KI8m01i8NB1yzUVGygth/W/O67/VXzACQL3GvDdv4dotZqz+PbN6tN5R4fJ7YzRZKtng97OHCsPEZvaak52DnW2ChlbXJgebHXUNv36nr6bj1190Hi9yUZxu6zzTzOFxTY/78WLSOBTHWc2gq4EW3JPgApuQElB5LMzRVxYmlRhomA2r7z6J+hQ4AhQ/99fBsk41t3wMx9SqxHdnq6RXKgrzbRnmcbJxURbTcgLxOApSSoJDVm1cpoOs8gIbcsntq+0VjfOAwY1tBQXw2SGdy9PLMOw7Hcc8C6C/663Gw+mDmO+wF5VpbcS0NmIlgu2w6Nw3LQd09azfYZfZRNbV9787JpBOHt66brIHnl2Rsb+V/bZGPtNu1fZ/nMW54HgfWKCMBS4Ziw53I+p1SmLgA9T8pxUB+zWVZUaBdNbVd9cHUhlpaWi2sVSJYYrvBTW2bIx8TEXfMBBFqEAHIxDxAFz9ETGQgnmCxmArCOMNUHWAGhpnRQ23BmMJwYTs7EHtw3r9q/SlWINk1HZf4AwCDWutwHXcUAAAAASUVORK5CYII=);
}

.subscribe-myyahoo {
  /* http://img1.blogblog.com/img/widgets/subscribe-yahoo.png */
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAAARCAMAAACFKyChAAAAe1BMVEX////8GSH///9UVFT+xcj/8PH8KzL+jZH/5eb9SlH/Zmb+19j+sbP8dnv9bnOjz//8PEP+n6KZmZn09PT9f4P9WmDU1NRmZmYNJppeXl7f398pXOZ0dHR+fn7q6ur/9vbMzMwPQtuJiYm0tLQAAJmpqakYMqUAM8xKc+0wAtJHAAAAAXRSTlMAQObYZgAAAXdJREFUeF6108eu2zAYhFHPsDd1ubfbkrz/E4bShQ3aSRYBrE+ACGhx8IMiV91irVYdF6rbZPvnY58vtX/lDofD29z2xfY07jY3rf+yvfcpGcWHLorFF2WtJS0Qn23Whf0hjuRanNZi1/MqvkhZAU6x9aMbJUkb8mM0BjJIaUnlkNOKgC3seWrW+XWzv4T44FGc2Imu3x05FQBJpdGkNgQaIJESVA1yLedxrYaFK/bkkEXOlfauE9nuN+Jd7DnXAjbCUAEjmdAa4xyhSUa4iSYtDNKTXdes67qw34Xoss1rXvkdBwCSDFqnya5G3zgJyRya73FHSB0L++1ve7I+bfrJ5lH0vDXT1KOHooYlBxggStngEoFUaUQalnb5L+/2+crZPgne0yBVg0hU0ulByqGKtnKjc4EMlfeDZQv/h517sMlne9CAdu1glATSpTiJ5dFUVSDu9o9t2WyfJ5rrM8n9/mbI7/7r7nw+9NJ7uUyzvVTZXm0W6zcSt0JtZ/HJvQAAAABJRU5ErkJggg==);
}</style><style id="attributioncss" class="singleton-element">.attribution {
  background-color: #f5f5f5;
  background-image: -webkit-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: -moz-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: -ms-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: -o-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: linear-gradient(top,#f5f5f5,#f1f1f1);
  bottom: 0;
  color: #444;
  font-size: 11px;
  padding: 5px;
  position: fixed;
  text-align: center;
  width: 100%;
  z-index: 998;
}</style><style id="css">/* Begin: reset styles */

body,div,ul,ol,li,input,textarea,p,abbr {
  margin:0;
  outline: none;
  padding:0;
}
ol,ul {
  list-style:none;
}
h1,h2,h3,h4,h5,h6 {
  font-size: 100%;
  font-weight: normal;
  margin: 0;
  padding: 0;
}
img {
  border: none;
}

/* End: reset */

#chromefix {
  -webkit-transform: perspective(1); /* Chrome 12/13/14 flicker fix. */
}

body {
  background-color: rgba(238, 238, 238, 1);
  
  background-image: url(#EEEEEE none repeat scroll top left);
  background-position: left top;
  background-repeat: no-repeat;
  
  
}

body, input, textarea {
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 14px;
}

a,
a:focus {
  color: rgba(0, 158, 184, 1);
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  outline: none;
  text-decoration: none;
  -moz-transition: color .3s;
-ms-transition: color .3s;
-o-transition: color .3s;
-webkit-transition: color .3s;
transition: color .3s;
}

a:visited {
  color: rgba(0, 158, 184, 1);
}

a:hover {
  color: rgba(0, 158, 184, 1);
  text-decoration: underline;
}

abbr.published {
  outline: none;
  text-decoration: none;
  border: none;
}

.title {
  color: rgba(51, 51, 51, 1);
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 14px;
}

.title a {
  color: rgba(51, 51, 51, 1);
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

/* Way to prevent any css animations during dom manip. */
.instant, .instant * {
  -moz-transition: none !important;
-ms-transition: none !important;
-o-transition: none !important;
-webkit-transition: none !important;
transition: none !important;
  -moz-animation-iteration-count: 0 !important;
-ms-animation-iteration-count: 0 !important;
-o-animation-iteration-count: 0 !important;
-webkit-animation-iteration-count: 0 !important;
animation-iteration-count: 0 !important;
}

.adsense {
  margin: 0 auto;
  text-align: center;
}

/* Admin restricted links - obviously verified on server, but for easy templates. */

.blog-admin,
.item-control {
  display: none;
}

@media only screen and (min-width: 768px) and (max-width: 1024px) {
  .blog-admin,
  .item-control {
    margin-left: 14px;
  }
}

#injected-iframe {
  z-index: 9999 !important;
}



.kd-button {
  background-color: #f5f5f5;
  background-image: -webkit-gradient(linear,left top,left bottom,from(#f5f5f5),to(#f1f1f1));
  background-image: -webkit-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: -moz-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: -ms-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: -o-linear-gradient(top,#f5f5f5,#f1f1f1);
  background-image: linear-gradient(top,#f5f5f5,#f1f1f1);
  border: 1px solid #DCDCDC;
  border: 1px solid rgba(0,0,0,0.1);
  -moz-border-radius: 2px;
-ms-border-radius: 2px;
-o-border-radius: 2px;
-webkit-border-radius: 2px;
border-radius: 2px;
  -moz-box-sizing: content-box;
-ms-box-sizing: content-box;
-o-box-sizing: content-box;
-webkit-box-sizing: content-box;
box-sizing: content-box;
  color: #222;
  cursor:default;
  display: inline-block;
  font-size: 11px;
  font-weight: bold;
  height: 27px;
  line-height: 27px;
  min-width: 54px;
  padding: 0 8px;
  text-align: center;
  -moz-transition: all 0.218s;
-ms-transition: all 0.218s;
-o-transition: all 0.218s;
-webkit-transition: all 0.218s;
transition: all 0.218s;
  -moz-user-select: none;
-ms-user-select: none;
-o-user-select: none;
-webkit-user-select: none;
user-select: none;
}
.kd-button:hover {
  background-color: #f8f8f8;
  background-image: -webkit-gradient(linear,left top,left bottom,from(#f8f8f8),to(#f1f1f1));
  background-image: -webkit-linear-gradient(top,#f8f8f8,#f1f1f1);
  background-image: -moz-linear-gradient(top,#f8f8f8,#f1f1f1);
  background-image: -ms-linear-gradient(top,#f8f8f8,#f1f1f1);
  background-image: -o-linear-gradient(top,#f8f8f8,#f1f1f1);
  background-image: linear-gradient(top,#f8f8f8,#f1f1f1);
  border: 1px solid #C6C6C6;
  -moz-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);
-ms-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);
-o-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);
-webkit-box-shadow: 0px 1px 1px rgba(0,0,0,0.1);
box-shadow: 0px 1px 1px rgba(0,0,0,0.1);
  color: #222;
  -moz-transition: all 0.0s;
-ms-transition: all 0.0s;
-o-transition: all 0.0s;
-webkit-transition: all 0.0s;
transition: all 0.0s;
}
.kd-button:active {
  background-color: #f6f6f6;
  background-image: -webkit-gradient(linear,left top,left bottom,from(#f6f6f6),to(#f1f1f1));
  background-image: -webkit-linear-gradient(top,#f6f6f6,#f1f1f1);
  background-image: -moz-linear-gradient(top,#f6f6f6,#f1f1f1);
  background-image: -ms-linear-gradient(top,#f6f6f6,#f1f1f1);
  background-image: -o-linear-gradient(top,#f6f6f6,#f1f1f1);
  background-image: linear-gradient(top,#f6f6f6,#f1f1f1);
  border: 1px solid #C6C6C6;
  -moz-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
-ms-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
-o-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
-webkit-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
  color: #333;
}

.kd-button:focus, .kd-button.right:focus, .kd-button.left:focus{
  border: 1px solid #4d90fe;
  outline: none;
  z-index: 4 !important;
}

.kd-button.left {
  -moz-border-radius: 2px 0 0 2px;
-ms-border-radius: 2px 0 0 2px;
-o-border-radius: 2px 0 0 2px;
-webkit-border-radius: 2px 0 0 2px;
border-radius: 2px 0 0 2px;
  border-right-color: transparent;
  margin-right: 0;
}
.kd-button.left:hover {
  border-right: 1px solid #c6c6c6;
}
.kd-button.right {
  -moz-border-radius: 0 2px 2px 0;
-ms-border-radius: 0 2px 2px 0;
-o-border-radius: 0 2px 2px 0;
-webkit-border-radius: 0 2px 2px 0;
border-radius: 0 2px 2px 0;
  margin-left:-5px;
}

.kd-button.right:hover {
  border-left: 1px solid #c6c6c6;
}
.kd-button img {
  display: inline-block;
  margin: -3px 0 0;
  *margin:4px 0 0; /*IE7*/
  opacity: 0.55;
  vertical-align: middle;
}

.kd-button.selected img {
  opacity: 0.9;
}
.kd-button:hover img {
  opacity: 0.72;
}
.kd-button:active img {
  opacity: 1.0;
}
/*disabled buttons*/
.kd-button.disabled,
.kd-button.disabled:hover,
.kd-button.disabled:active {
  background: #FFF;
  border: 1px solid #f3f3f3;
  border: 1px solid rgba(0,0,0,0.05);
  color: #b8b8b8;
  cursor: default;
  pointer-events: none;
}
.kd-button.disabled:active{
  -moz-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
-ms-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
-o-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
-webkit-box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
box-shadow: inset 0px 1px 2px rgba(0,0,0,0.1);
}
.kd-button.disabled img {
  opacity: 0.5;
}
.kd-button.small {
  min-width: 36px;
  padding: 0;
  width: 36px;
}



.ribbon {
  color: #eee;
  cursor: default;
  display: inline-block;
  text-align: center;
  width: 35px;
}
a.ribbon {
  color: #eee;
  cursor: pointer;
  text-decoration: none;
}

.ribbon .ribbon-piece {
  background-color: rgba(102, 102, 102, 1);
  -moz-box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
-ms-box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
-o-box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
-webkit-box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
  -moz-transition: background-color 0.5s ease-in;
-ms-transition: background-color 0.5s ease-in;
-o-transition: background-color 0.5s ease-in;
-webkit-transition: background-color 0.5s ease-in;
transition: background-color 0.5s ease-in;
}

/* On hover color change. */
a.ribbon:hover .ribbon-piece {
  background-color: rgba(173, 58, 43, 1);
  color: #eee;
}

.ribbon .top {
  border-bottom: solid 1px rgba(255, 255, 255, 0.6);
  -moz-border-radius: 1px 1px 0px 0px;
-ms-border-radius: 1px 1px 0px 0px;
-o-border-radius: 1px 1px 0px 0px;
-webkit-border-radius: 1px 1px 0px 0px;
border-radius: 1px 1px 0px 0px;
  font-size: 11px;
  padding: 4px 0;
  position: relative;
  text-transform: uppercase;
}

.ribbon .bottom {
  font-size: 17px;
  padding: 5px 0;
}

.ribbon .tail {
  height: 10px;
  overflow: hidden;
  position: relative;
}

.ribbon .tail .left,
.ribbon .tail .right {
  height: 10px;
  position: absolute;
  top: -10px;
  width: 50px;
}

.ribbon .tail .left{
  left: -9px;
  -moz-transform: rotate(-25deg);
-ms-transform: rotate(-25deg);
-o-transform: rotate(-25deg);
-webkit-transform: rotate(-25deg);
transform: rotate(-25deg);
}

.ribbon .tail .right{
  right: -9px;
  -moz-transform: rotate(25deg);
-ms-transform: rotate(25deg);
-o-transform: rotate(25deg);
-webkit-transform: rotate(25deg);
transform: rotate(25deg);
}

/* Do this with a transform? */
.ribbon.small {
  width: 25px;
}
.ribbon.small .top {
  font-size: 9px;
  padding: 2px 0;
}
.ribbon.small .bottom {
  font-size: 12px;
  padding: 3px 0;
}
.ribbon.small .tail {
  height: 6px;
}
.ribbon.small .tail .left,
.ribbon.small .tail .right {
  height: 6px;
  top: -7px;
  width: 40px;
}
.ribbon.small .tail .left {
  left: -6px;
}
.ribbon.small .tail .right {
  right: -6px;
}




.bubble {
  background-color: rgba(102, 102, 102, 1);
  background-position: center center;
  border-radius: 3px;
  border: solid 1px rgba(102, 102, 102, 1);
  color: white;
  cursor: default;
  display: inline-block;
  font-size: 12px;
  padding: 2px 0;
  position: relative;
  text-align: center;
  -moz-transition-property: background-color, border-color;
-ms-transition-property: background-color, border-color;
-o-transition-property: background-color, border-color;
-webkit-transition-property: background-color, border-color;
transition-property: background-color, border-color;
  -moz-transition-duration: 0.5s;
-ms-transition-duration: 0.5s;
-o-transition-duration: 0.5s;
-webkit-transition-duration: 0.5s;
transition-duration: 0.5s;
  -moz-transition-timing-function: ease-in;
-ms-transition-timing-function: ease-in;
-o-transition-timing-function: ease-in;
-webkit-transition-timing-function: ease-in;
transition-timing-function: ease-in;
  width: 26px;
}

.bubble.light {
  background-color: rgba(217, 217, 217, 1);
  border-color: rgba(217, 217, 217, 1);
}

.bubble.empty {
  color: rgba(102, 102, 102, 1);
  border: solid 1px rgba(153, 153, 153, 1);
  -moz-box-shadow: none;
-ms-box-shadow: none;
-o-box-shadow: none;
-webkit-box-shadow: none;
box-shadow: none;
  background-color: white;
}

.bubble .bubble-tail,
.bubble.empty .bubble-tail:after {
  border-color: rgba(102, 102, 102, 1) transparent transparent transparent;
  border-style:solid;
  border-width: 5px;
  bottom: -10px;
  content: '';
  height: 0;
  left: 50%;
  margin-left: -5px;
  position: absolute;
  -moz-transition: border-color 0.5s ease-in;
-ms-transition: border-color 0.5s ease-in;
-o-transition: border-color 0.5s ease-in;
-webkit-transition: border-color 0.5s ease-in;
transition: border-color 0.5s ease-in;
  width: 0;
}

.bubble.light .bubble-tail {
  border-color: rgba(217, 217, 217, 1) transparent transparent transparent;
}

.bubble.empty .bubble-tail {
  border-color: rgba(153, 153, 153, 1) transparent transparent transparent;
}

.bubble.empty .bubble-tail:after {
  left: 0;
  top: -6px;
  border-color: white transparent transparent transparent;
}

/* On hover color change.
.bubble:hover {
  background-color: #d14836;
  border-color: #d14836;
}

.bubble.empty:hover {
  /*background-color: white;
  border-color: #d14836;
  color: #d14836;
}

.bubble:hover .bubble-tail {
  border-color: #d14836 transparent transparent transparent !important;
}
*/




body.loading #loading {
  opacity: 0.75;
  margin-bottom: 0;
}

#loading {
  background-color: #000;
  border-radius: 6px 6px 0px 0px;
  border: solid 1px #666;
  border-bottom: none;
  bottom: 0;
  box-shadow: 0 0 4px #333;
  color: white;
  font-size: 18px;
  left: 50%;
  margin-bottom: -50px;
  margin-left: -60px;
  opacity: 0;
  padding: 5px 0px;
  position: fixed;
  text-align: center;
  -moz-transition: opacity 0.5s, margin-bottom 0.5s;
-ms-transition: opacity 0.5s, margin-bottom 0.5s;
-o-transition: opacity 0.5s, margin-bottom 0.5s;
-webkit-transition: opacity 0.5s, margin-bottom 0.5s;
transition: opacity 0.5s, margin-bottom 0.5s;
  -moz-transition-delay: 279ms;
-ms-transition-delay: 279ms;
-o-transition-delay: 279ms;
-webkit-transition-delay: 279ms;
transition-delay: 279ms;
  width: 120px;
  z-index: 999;
}

#loading span {
  background-repeat: no-repeat;
  background-position: right center;
  background-image: url(data:image/gif;base64,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);
  display: inline-block;
  height: 30px;
  line-height: 30px;
  padding-right: 30px;
}

#loading span:after {
  content: '...';
}

.blogger-gear {
  background-repeat: no-repeat;
  background-position: center center;
  background-image: url(data:image/gif;base64,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);
  display: inline-block;
  height: 95px;
  width: 95px;
}



#message {
  position: fixed;
  text-align: center;
  top: 40%;
  width: 100%;
}
#message span {
  background-color: white;
  border-radius: 6px;
  color: #333;
  box-shadow: 0 0 4px #666;
  display: inline-block;
  font-family: arial;
  font-size: 16px;
  padding: 15px;
  white-space: no-wrap;
}



.quick-search {
  background-color: white;
  border: 1px solid rgba(0, 0, 0, 0.2);
  -moz-border-radius: 5px;
-ms-border-radius: 5px;
-o-border-radius: 5px;
-webkit-border-radius: 5px;
border-radius: 5px;
  -moz-box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
-ms-box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
-o-box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
-webkit-box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
  padding: 5px;
  width: 450px;
  z-index: 10001;
}

.quick-search li {
  cursor: pointer;
}

.quick-search .result {
  border: solid 1px transparent;
  clear: both;
  font-size: 13px;
  height: 48px;
  margin: -1px;
  overflow: hidden;
  padding: 7px;
  position: relative;
}

.quick-search .title {
  display: inline-block;
  font-size: 15px;
  left: 60px;
  overflow: hidden;
  position: absolute;
  right: 130px;
  text-overflow: ellipsis;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
  top: 5px;
  white-space: nowrap;
}

.quick-search .date {
  color: #dd4b39;
  font-size: 15px;
  margin-left: 5px;
  position: absolute;
  right: 5px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
  top: 5px;
}

.quick-search .snippet {
  color: #888;
  left: 60px;
  line-height: 1.25;
  max-height: 35px;
  overflow: hidden;
  position: absolute;
  right: 5px;
  text-align: justify;
  top: 24px;
}

.quick-search .thumbnail {
  -moz-border-radius: 5px;
-ms-border-radius: 5px;
-o-border-radius: 5px;
-webkit-border-radius: 5px;
border-radius: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
  left: 5px;
  margin-right: 7px;
  position: absolute;
  top: 5px;
}

.quick-search .result:hover,
.quick-search .result.active {
  background-color: #f9edbe;
  border: solid 1px #f0c36d;
  -moz-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
-ms-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
-o-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
-webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.quick-search .result:hover .snippet,
.quick-search .result.active .snippet {
  color: #333;
}

.quick-search .result .term {
  background-color: #f9edbe;
  color: black;
}

.quick-search .result:hover .term,
.quick-search .result:active .term {
  background-color: transparent;
}

.quick-search .server {
  border: solid 1px transparent;
  margin: -1px;
  padding: 10px;
  text-align: center;
}

.quick-search li + .server {
  border-top: solid 1px #ddd;
}

.quick-search .server:hover,
.quick-search .server.active {
  background-color: #eaeaea;
  border: solid 1px #ccc;
  -moz-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
-ms-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
-o-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
-webkit-box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.quick-search .message {
  color: #4d90fe;
  display: block;
  font-size: 16px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

.quick-search .search_query {
  color: black;
}

.quick-search .count {
  color: #222;
  display: block;
  font-size: 14px;
}

#search.searching {
  background-image: url(data:image/gif;base64,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);
  background-position: center right;
  background-repeat: no-repeat;
  -moz-transition: none;
-ms-transition: none;
-o-transition: none;
-webkit-transition: none;
transition: none;
}



@media print {
  /* Printing on white is cleaner. */
  .article {
    background-color: white !important;
    margin: 0 !important;
  }
  .article img {
    border: none !important;
    box-shadow: none !important;
  }

  .ribbon.date .ribbon-piece {
    display: none;
  }
  .ribbon.date {
    display: inline-block;
    height: 100%;
    margin: 0 !important;
    padding: 0;
    position: static !important;
    top: 0;
    white-space: nowrap;
    width: auto;
  }
  .ribbon.date:after{
    content: attr(title);
    color: rgba(51, 51, 51, 1);
    font-size: 20px;
  }

  /* Include the links to all anchors */
  .article-content a:after {
    content: " [" attr(href) "] ";
    font-size: 90%;
  }

  /* Fix printing for the viewitem --------------------------------- */

  /* Hide lots of things. */
  .overview-open > *,
  .overview-backdrop,
  .overview-header,
  .share-controls,
  .adsense-aside,
  .adsense-aside {
    display: none !important;
  }

   /* Show the main content. */
  .overview-open > #overview {
    display: block !important;
  }

   /* Reset colors, padding, and positions. */
  body.overview-open,
  .overview-panel,
  .overview-wrap,
  .overview-inner,
  .overview-content {
    background-color: white !important;
    border: none !important;
    box-shadow: none !important;
    margin: 0 !important;
    overflow: visible !important;
    padding: 0 !important;
    position: static !important;
  }
   /* Ensure content positioned - but keep padding. */
  .overview-panel .overview-content {
    position: static !important;
  }

  /* Fix printing for the viewitem --------------------------------- */

  /* Hide lots of things. */
  .viewitem-open > *,
  .viewitem-background,
  .viewitem-header,
  .share-controls {
    display: none !important;
  }

   /* Show the main content. */
  .viewitem-open > .viewitem-panel {
    display: block !important;
  }

   /* Reset colors, padding, and positions. */
  body.viewitem-open,
  .viewitem-panel,
  .viewitem-wrap,
  .viewitem-inner,
  .viewitem-content {
    background-color: white !important;
    border: none !important;
    box-shadow: none !important;
    margin: 0 !important;
    overflow: visible !important;
    padding: 0 !important;
    position: static !important;
  }

   /* Ensure content positioned - but keep padding. */
  .viewitem-panel .viewitem-content {
    position: static !important;
  }

  /* View specific (eg Sidebar and Mosaic) fixes should go elsewhere */
}



#attribution-container {
  padding: 8px;
}




#header-container {
  height: 105px;
}

#header {
  
  left: 0;
  position: fixed;
  top: 0;
  
  width: 100%;
  z-index: 1000;
}

#header .header-bar {
   /* No custom image, put slight gradient. */
  background-image: -moz-linear-gradient(
      center top,
      rgba(255, 255, 255, 0.1),
      rgba(100, 100, 100, 0.05)
  );
  background-image: -webkit-gradient(
      linear,
      left top,
      left bottom,
      from(rgba(255, 255, 255, 0.3)),
      to(rgba(255, 255, 255, 0.05))
  );
  
  
  
  background-attachment: scroll; /* Chrome, really? */
  background-color: rgba(243, 243, 243, 1);
  -moz-box-shadow: 0 0 5px 0px rgba(0, 0, 0, 0.3);
-ms-box-shadow: 0 0 5px 0px rgba(0, 0, 0, 0.3);
-o-box-shadow: 0 0 5px 0px rgba(0, 0, 0, 0.3);
-webkit-box-shadow: 0 0 5px 0px rgba(0, 0, 0, 0.3);
box-shadow: 0 0 5px 0px rgba(0, 0, 0, 0.3);
  height: 65px;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1001;
}

#header .header-bar .title {
  display: block;
  height: 65px;
  line-height: 65px;
  margin-left: 20px;
  margin-right: 235px;
  overflow: hidden;
  text-decoration: none;
  text-overflow: ellipsis;
  white-space: nowrap;
}

#header .header-bar .title h1,
#header .header-bar .title h3 {
  display: inline;
  height: 65px;
  
  text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.3);
  
  white-space: nowrap;
}

#header .header-bar .title h1 {
  color: rgba(85, 85, 85, 1);
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 28px;
}

#header .header-bar .title h3 {
  color: rgba(85, 85, 85, 1);
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 20px;
  margin-left: 5px;
}

#header input#search {
  background-color: #fafafa;
  -moz-border-radius: 3px;
-ms-border-radius: 3px;
-o-border-radius: 3px;
-webkit-border-radius: 3px;
border-radius: 3px;
  border: none;
  -moz-box-shadow: inset 1px 1px 2px #bbb;
-ms-box-shadow: inset 1px 1px 2px #bbb;
-o-box-shadow: inset 1px 1px 2px #bbb;
-webkit-box-shadow: inset 1px 1px 2px #bbb;
box-shadow: inset 1px 1px 2px #bbb;
  font-size: 15px;
  height: 30px;
  margin: 0;
  padding: 0px 7px;
  right: 10px;
  text-align: left;
  text-transform: lowercase;
  top: 18px;
  -moz-transition: background-color 0.3s ease-in-out;
-ms-transition: background-color 0.3s ease-in-out;
-o-transition: background-color 0.3s ease-in-out;
-webkit-transition: background-color 0.3s ease-in-out;
transition: background-color 0.3s ease-in-out;;
  width: 200px;
  position: absolute;
}

#header input#search:focus {
  background-color: white;
}

#header .header-drawer {
  /* the drawer scrolls with the page initially, then gets fixed (.sticky) */
  background-color: rgba(51, 51, 51, 1);
  -moz-box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
-ms-box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
-o-box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
-webkit-box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);;
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  height: 35px;
  margin-top: 31px; /* use margin to match back to un-scrolled */
  position: absolute;
  top: 34px; /* top here must match top when sticky */
  width: 100%;
  z-index: 1000;
}


#header .header-drawer.sticky {
  margin-top: 0px;
  top: 34px; /* now stuck, just peeking out from the top */
  -moz-transition: top 0.2s linear;
-ms-transition: top 0.2s linear;
-o-transition: top 0.2s linear;
-webkit-transition: top 0.2s linear;
transition: top 0.2s linear;
  -moz-transition-delay: 0.3s;
-ms-transition-delay: 0.3s;
-o-transition-delay: 0.3s;
-webkit-transition-delay: 0.3s;
transition-delay: 0.3s; /* don't surprise on quick hover */
}

#header:hover .header-drawer,
#header .header-drawer.open {
  margin-top: 0px;
  top: 65px; /* animate back down to full unscrolled height */
}


/* Views and Pages */

#header #views {
  float: left;
  position: relative;
  z-index: 999;
}

#header .menu .menu-item,
#header .menu .menu-heading {
  border-radius: 4px;
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  color: rgba(255, 255, 255, 1);
  cursor: pointer;
  display: inline-block;
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 15px;
  font-weight: 100;
  line-height: 30px;
  height: 30px;
  padding-left: 15px;
  padding-right: 15px;
  text-shadow: -1px -1px rgba(0, 0, 0, 0.1); /* subtle inset */
  -moz-transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
-ms-transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
-o-transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
-webkit-transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
  -moz-user-select: none;
-ms-user-select: none;
-o-user-select: none;
-webkit-user-select: none;
user-select: none;;
  width: 100%;
}

#header a.menu-item {
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

#views .menu-item {
  text-transform: capitalize;
}

#header .menu .menu-heading {
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  height: 35px;
  line-height: 35px;
  margin-right: 15px;
  position: relative;
  width: auto;
}

#header .indicator {
  /* instead of using a .heading::after actually put this in as elements
     which will allow us to animate it rotating! */
  border-color: rgba(255, 255, 255, 1) transparent transparent transparent;
  border-style: solid;
  border-width: 5px;
  height: 0px;
  margin: 0;
  margin-top: -1px;
  overflow: visible;
  padding: 0;
  position: absolute;
  right: 0;
  top: 50%;
  -moz-transition: all .3s linear;
-ms-transition: all .3s linear;
-o-transition: all .3s linear;
-webkit-transition: all .3s linear;
transition: all .3s linear;
  -moz-transform-origin: center 2px;
-ms-transform-origin: center 2px;
-o-transform-origin: center 2px;
-webkit-transform-origin: center 2px;
transform-origin: center 2px;
}

#header .menu:hover .indicator {
  -moz-transform: rotate(180deg);
-ms-transform: rotate(180deg);
-o-transform: rotate(180deg);
-webkit-transform: rotate(180deg);
transform: rotate(180deg);
}

#header .menu ul {
  -moz-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
-ms-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
-o-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
-webkit-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
  max-height: 0px;
  overflow: hidden;
  padding: 0;
  -moz-transition: all 0.3s linear;
-ms-transition: all 0.3s linear;
-o-transition: all 0.3s linear;
-webkit-transition: all 0.3s linear;
transition: all 0.3s linear;
  visibility: hidden;
  width: 100%;

}

#header .menu:hover ul {
  max-height: 500px;
  opacity: 1;
  -moz-transition: all 0.6s linear;
-ms-transition: all 0.6s linear;
-o-transition: all 0.6s linear;
-webkit-transition: all 0.6s linear;
transition: all 0.6s linear; /* show slower than hide */
  visibility: visible;
}

#header .menu li {
  display: list-item;
  margin: 0;
  overflow: hidden;
  padding: 0;
  position: relative;
  text-overflow: ellipsis;
  white-space: nowrap;
  width: 100%;
}

#header .menu li a {
  opacity: 0.99; /* Chrome12+ has different subpixel anti-aliasing rules, this looks worse, but prevents flicker. */
}

#header .menu .menu-background {
  background-color: rgba(51, 51, 51, 1);
  height: 100%;
  left: 0;
  opacity: 0.75;
  position: absolute;
  top: 0;
  -moz-transition: opacity 0.3s ease-in;
-ms-transition: opacity 0.3s ease-in;
-o-transition: opacity 0.3s ease-in;
-webkit-transition: opacity 0.3s ease-in;
transition: opacity 0.3s ease-in;
  width: 100%;
  z-index: -1; /* Negative isn't great... but otherwise the a needs to be positioned. */
}

#header .menu li:hover .menu-background {
  opacity: 0.95;
}

#header .menu li {
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
}

#header .tabs li {
  display: inline;
  height: 35px;
  line-height: 35px;
  margin-left: 10px;
}

#header .tags li .menu-background {
  display: none;
}

#header .tabs li .menu-item {
  color: rgba(255, 255, 255, 0.6);
  -moz-transition: color 286ms ease-in;
-ms-transition: color 286ms ease-in;
-o-transition: color 286ms ease-in;
-webkit-transition: color 286ms ease-in;
transition: color 286ms ease-in;
}

#header .tabs li .menu-item:hover,
#header .menu li .menu-item:hover,
#header .tabs li .menu-item.current {
  color: rgba(255, 255, 255, 1) !important;
}

#header .tabs .menu-heading {
  display: none;
}

#header #pages {
  float: left;
  margin-left: 0px;
  position: relative;
}

#header #pages:before {
  border-left: solid 1px rgba(255, 255, 255, 1);
  content: '';
  height: 20px;
  left: 0px;
  opacity: 0.5;
  position: absolute;
  top: 8px;
  z-index: 1000;
}

#header #pages.tabs ul {
  margin-left: 0px;
  overflow: hidden;
  white-space: nowrap;
}

#header .admin-controls {
  height: 35px;
  position: absolute;
  right: 10px;
  top: 0px;
}

#header .admin-controls .dashboard {
  background-repeat: no-repeat;
  background-position: center center;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAANCAYAAAB2HjRBAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAVdEVYdENyZWF0aW9uIFRpbWUAMTEvNy8xMZe/cygAAADVSURBVCiRpZG9agJBFEbPxB/E1mCTV4iFldW+hZWIRdqAr2EtIX2a9Ja24jPoE1gKWqmIyUnhqqvuqpDTzB34Dtz5BjJQG+pMbak1deeeroqaKUbqNA7P1b66vSurzUQwjaP8dCG2gW+gkPUcYHcYjrL6BnwBxRsiwCuQP0gFtXdjzTQGahX1Q/1RNw+KK/VXHQY1ApZABHzeWRngHRgBlXwIYRyvX0l2ByyADZADnuMTYApMzgoDyol5DXRCCC9AHZin5c6+KkHg1Hopvl+RJT/Ev+Q/DML6Kx8BC7sAAAAASUVORK5CYII=);
  /*background-size: 18px 18px;*/
  display: block;
  height: 35px;
  opacity: 0.8;
  position: absolute;
  right: 0px;
  top: 0;
  width: 18px;
}

#header .admin-controls .new-post {
  background-repeat: no-repeat;
  background-position: center center;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAVdEVYdENyZWF0aW9uIFRpbWUAMTEvNy8xMZe/cygAAADaSURBVCiRhdIxS0JRGMbx/z1a0KdwcyxttcXRLxBIEFgOfp0W5yAn56DNxUm3oiXItUmEgmwo/Dd4g+7p3HzW8/w45305sCNqW31QB2pQd4K6euc2C7WjVv8Dh+rcYl7Us0oJaAA3QDM6CsBTCjTVR/9mqXbV/RgclYA39TTvFMBxvqU4a/X8V68w9HMCfKiX0WtA3VOv8tImAheJmUGtqSO1pQ5z8K72SjZLAE6AT2ANtIAV0FevUwggU2fAAXALLIGJeh9CSP4XlSowBqbAAnjNsuyr7IaffAOehB+C7e2WDgAAAABJRU5ErkJggg==);
  /*background-size: 18px 18px;*/
  display: block;
  height: 35px;
  opacity: 0.8;
  position: absolute;
  right: 24px;
  top: 0;
  width: 18px;
}

#header .admin-controls .dashboard:hover,
#header .admin-controls .new-post:hover {
  opacity: 1;
}

#header #follow-author {
  height: 65px;
  right: 0px;
  overflow: hidden;
  position: absolute;
  top: 0;
  width: 300px;
}






body.overview-open,
body.lightbox-open {
  overflow: hidden;
}

/* overview background. */
#overview .overview-backdrop,
#lightbox .lightbox-backdrop {
  background-color: black;
  bottom: 0;
  left: 0;
  opacity: 0;
  pointer-events: none;
  position: fixed;
  right: 0;
  top: 0;
  -moz-transition: all 1004ms ease-in;
-ms-transition: all 1004ms ease-in;
-o-transition: all 1004ms ease-in;
-webkit-transition: all 1004ms ease-in;
transition: all 1004ms ease-in;
  z-index: 3000;
}

#overview.open .overview-backdrop,
#lightbox.open .lightbox-backdrop {
  opacity: 0.7;
}

#overview.closing .overview-backdrop,
#lightbox.closing .lightbox-backdrop {
  opacity: 0;
  -moz-transition: opacity 0.5s;
-ms-transition: opacity 0.5s;
-o-transition: opacity 0.5s;
-webkit-transition: opacity 0.5s;
transition: opacity 0.5s;
}

.overview-panel,
.lightbox-panel {
  bottom: 0;
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  left: 20px;
  pointer-events: none;
  position: fixed;
  right: 20px;
  top: 50px;
  -moz-transition: all 1009ms ease-in-out;
-ms-transition: all 1009ms ease-in-out;
-o-transition: all 1009ms ease-in-out;
-webkit-transition: all 1009ms ease-in-out;
transition: all 1009ms ease-in-out;
  z-index: 3001; /* Way up in the air. */
}

.lightbox-title {
  bottom: 0;
  display: table-cell;
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  font-size: 20px;
  height: 100%;
  left: 60px;
  line-height: 50px;
  overflow: hidden;
  position: absolute;
  right: 60px;
  text-align: center;
  text-overflow: ellipsis;
  top: 0;
  white-space: nowrap;
}

.lightbox-contentwrap {
  font-size: 14px;
  margin: 0 auto;
  max-width: 750px;
}

#overview.closing .overview-panel,
#lightbox.closing .lightbox-panel {
  opacity: 0;
  -moz-transition: opacity 0.5s;
-ms-transition: opacity 0.5s;
-o-transition: opacity 0.5s;
-webkit-transition: opacity 0.5s;
transition: opacity 0.5s;
}

/* Bounding box of our overview item. */
.overview-panel .overview-wrap,
.lightbox-panel .lightbox-wrap {
  background-color: transparent;
  -moz-border-radius: 6px 6px 0px 0px;
-ms-border-radius: 6px 6px 0px 0px;
-o-border-radius: 6px 6px 0px 0px;
-webkit-border-radius: 6px 6px 0px 0px;
border-radius: 6px 6px 0px 0px;
  
  
  -moz-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAABTUlEQVRIx+2W3WrDMAyF47hJWzrY+z/mYKNtnNhLxlE5PZNhN3NuahB24qDP+nMUOn8EmW1dVony7UJ7NorMvxTXQKa87/42Mh3CBasFJhEQftdVTq17JhlgfvdkUQBkgx2wLhX3eoOtCQDOgGaDsrIeoIFcGARYHPdmiWGh9baXAM4GNDFYJKW9424PWBxQR2416BNwBJBdG5xYDgJMTuyKuHL7ZjIgxy2SmIs1iUYBTk6SzPRs8hNPBg4OLALQk7VnAV7JkowDLA40MXCgzIxk8QAZqS4vAvyiupugOFGGLpSxKZBydekBIAMfsX4T4CeU3Qk0CdAsntXCSO5l4DafVnmvxPBjlRuBbE4CTIHqji01i44AnRC7c6Xor5Ab5C4WPy6AF/BfgM2TZteyaFL4u1xtTS/v5r+n5j/g5i3GLk1U8zZxl0a4Sav/DRDkGFoKi/1vAAAAAElFTkSuQmCC) 12 / 12px repeat;


-ms-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAABTUlEQVRIx+2W3WrDMAyF47hJWzrY+z/mYKNtnNhLxlE5PZNhN3NuahB24qDP+nMUOn8EmW1dVony7UJ7NorMvxTXQKa87/42Mh3CBasFJhEQftdVTq17JhlgfvdkUQBkgx2wLhX3eoOtCQDOgGaDsrIeoIFcGARYHPdmiWGh9baXAM4GNDFYJKW9424PWBxQR2416BNwBJBdG5xYDgJMTuyKuHL7ZjIgxy2SmIs1iUYBTk6SzPRs8hNPBg4OLALQk7VnAV7JkowDLA40MXCgzIxk8QAZqS4vAvyiupugOFGGLpSxKZBydekBIAMfsX4T4CeU3Qk0CdAsntXCSO5l4DafVnmvxPBjlRuBbE4CTIHqji01i44AnRC7c6Xor5Ab5C4WPy6AF/BfgM2TZteyaFL4u1xtTS/v5r+n5j/g5i3GLk1U8zZxl0a4Sav/DRDkGFoKi/1vAAAAAElFTkSuQmCC) 12 / 12px repeat;


-o-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAABTUlEQVRIx+2W3WrDMAyF47hJWzrY+z/mYKNtnNhLxlE5PZNhN3NuahB24qDP+nMUOn8EmW1dVony7UJ7NorMvxTXQKa87/42Mh3CBasFJhEQftdVTq17JhlgfvdkUQBkgx2wLhX3eoOtCQDOgGaDsrIeoIFcGARYHPdmiWGh9baXAM4GNDFYJKW9424PWBxQR2416BNwBJBdG5xYDgJMTuyKuHL7ZjIgxy2SmIs1iUYBTk6SzPRs8hNPBg4OLALQk7VnAV7JkowDLA40MXCgzIxk8QAZqS4vAvyiupugOFGGLpSxKZBydekBIAMfsX4T4CeU3Qk0CdAsntXCSO5l4DafVnmvxPBjlRuBbE4CTIHqji01i44AnRC7c6Xor5Ab5C4WPy6AF/BfgM2TZteyaFL4u1xtTS/v5r+n5j/g5i3GLk1U8zZxl0a4Sav/DRDkGFoKi/1vAAAAAElFTkSuQmCC) 12 / 12px repeat;

/* If border-image is declared below -webkit-border-image */
/* Webkit doesn't render correctly.                       */

border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAABTUlEQVRIx+2W3WrDMAyF47hJWzrY+z/mYKNtnNhLxlE5PZNhN3NuahB24qDP+nMUOn8EmW1dVony7UJ7NorMvxTXQKa87/42Mh3CBasFJhEQftdVTq17JhlgfvdkUQBkgx2wLhX3eoOtCQDOgGaDsrIeoIFcGARYHPdmiWGh9baXAM4GNDFYJKW9424PWBxQR2416BNwBJBdG5xYDgJMTuyKuHL7ZjIgxy2SmIs1iUYBTk6SzPRs8hNPBg4OLALQk7VnAV7JkowDLA40MXCgzIxk8QAZqS4vAvyiupugOFGGLpSxKZBydekBIAMfsX4T4CeU3Qk0CdAsntXCSO5l4DafVnmvxPBjlRuBbE4CTIHqji01i44AnRC7c6Xor5Ab5C4WPy6AF/BfgM2TZteyaFL4u1xtTS/v5r+n5j/g5i3GLk1U8zZxl0a4Sav/DRDkGFoKi/1vAAAAAElFTkSuQmCC) 12 / 12px repeat;


-webkit-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAABTUlEQVRIx+2W3WrDMAyF47hJWzrY+z/mYKNtnNhLxlE5PZNhN3NuahB24qDP+nMUOn8EmW1dVony7UJ7NorMvxTXQKa87/42Mh3CBasFJhEQftdVTq17JhlgfvdkUQBkgx2wLhX3eoOtCQDOgGaDsrIeoIFcGARYHPdmiWGh9baXAM4GNDFYJKW9424PWBxQR2416BNwBJBdG5xYDgJMTuyKuHL7ZjIgxy2SmIs1iUYBTk6SzPRs8hNPBg4OLALQk7VnAV7JkowDLA40MXCgzIxk8QAZqS4vAvyiupugOFGGLpSxKZBydekBIAMfsX4T4CeU3Qk0CdAsntXCSO5l4DafVnmvxPBjlRuBbE4CTIHqji01i44AnRC7c6Xor5Ab5C4WPy6AF/BfgM2TZteyaFL4u1xtTS/v5r+n5j/g5i3GLk1U8zZxl0a4Sav/DRDkGFoKi/1vAAAAAElFTkSuQmCC) 12 / 12px repeat;
  -moz-box-sizing: content-box;
-ms-box-sizing: content-box;
-o-box-sizing: content-box;
-webkit-box-sizing: content-box;
box-sizing: content-box;
  background-clip: padding-box;
  top: -12px;
  
  height: 100%;
  left: 0;
  margin: 0 auto;
  max-width: 1000px;
  overflow: hidden;
  padding: 0px 1px; /* The controls the inset of the overview-inner. */
  pointer-events: auto;
  position: relative;
  -moz-transition: left 0.5s linear;
-ms-transition: left 0.5s linear;
-o-transition: left 0.5s linear;
-webkit-transition: left 0.5s linear;
transition: left 0.5s linear;
  z-index: 3002;
}

.overview-panel.left .overview-wrap {
  left: -110%;
}

.overview-panel.right .overview-wrap {
  left: 110%;
}

/* This is the box that things can be draw in. */
.overview-panel .overview-inner,
.lightbox-panel .lightbox-inner {
  background-color: #fafafa;
  -moz-border-radius: 6px 6px 0px 0px;
-ms-border-radius: 6px 6px 0px 0px;
-o-border-radius: 6px 6px 0px 0px;
-webkit-border-radius: 6px 6px 0px 0px;
border-radius: 6px 6px 0px 0px;
  bottom: 0px;
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  height: 100%;
  position: relative;
  width: 100%;
}

.overview-panel .article {
  /* Defend against Chrome 12+ antialiasing bug. */
  background-color: #fafafa;
}

/* Header section for the overview-inner. */
.overview-panel .overview-header,
.lightbox-panel .lightbox-header {
  -moz-border-radius: 6px 6px 0px 0px;
-ms-border-radius: 6px 6px 0px 0px;
-o-border-radius: 6px 6px 0px 0px;
-webkit-border-radius: 6px 6px 0px 0px;
border-radius: 6px 6px 0px 0px;
  -moz-box-shadow: 0px 3px 3px rgba(200, 200, 200, .4);
-ms-box-shadow: 0px 3px 3px rgba(200, 200, 200, .4);
-o-box-shadow: 0px 3px 3px rgba(200, 200, 200, .4);
-webkit-box-shadow: 0px 3px 3px rgba(200, 200, 200, .4);
box-shadow: 0px 3px 3px rgba(200, 200, 200, .4);
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  height: 50px;
  padding: 10px;
  position: absolute;
  top: 0px;
  -moz-transition: box-shadow 0.2s linear;
-ms-transition: box-shadow 0.2s linear;
-o-transition: box-shadow 0.2s linear;
-webkit-transition: box-shadow 0.2s linear;
transition: box-shadow 0.2s linear;
  z-index: 5;
  width: 100%;
}

.overview-header .share-controls {
  float: left;
  margin-left: 10px;
  margin-top: 4px;
}

.overview-header .overview-controls-left {
  float: left;
}

.overview-header .overview-controls-right,
.lightbox-header .lightbox-controls-right {
  float: right;
}

/* overview container where we put the real stuff. */
.overview-panel .overview-content,
.lightbox-panel .lightbox-content {
  bottom: 0px;
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  overflow-y: scroll; /* Always show: comments may cause it to bounce. */
  padding: 10px;
  position: absolute;
  top: 50px;
  -moz-transition: all 1s linear;
-ms-transition: all 1s linear;
-o-transition: all 1s linear;
-webkit-transition: all 1s linear;
transition: all 1s linear;
  width: 100%;
  z-index: 1;
}

.overview-panel.start .overview-header,
.lightbox-panel.start .lightbox-header {
  -moz-box-shadow: none;
-ms-box-shadow: none;
-o-box-shadow: none;
-webkit-box-shadow: none;
box-shadow: none;
  min-width: 200px; /* Stop any buttons wrapping. */
}

/* Custom webkit scrollbars */

.overview-panel .overview-content::-webkit-scrollbar,
.lightbox-panel .lightbox-content::-webkit-scrollbar {
  background: transparent;
  height: 10px;
  width: 10px;
}

/* the start/end of bar  */
.overview-panel .overview-content::-webkit-scrollbar-button:start:decrement,
.overview-panel .overview-content::-webkit-scrollbar-button:end:increment,
.lightbox-panel .lightbox-content::-webkit-scrollbar-button:start:decrement,
.lightbox-panel .lightbox-content::-webkit-scrollbar-button:end:increment {
  display: block;
  height: 10px;
  width: 10px;
}

/* the track background */
.overview-panel.overview-content::-webkit-scrollbar-track-piece,
.lightbox-panel.lightbox-content::-webkit-scrollbar-track-piece {
  background-color: #eee;
}

/* the scrollbar itself */
.overview-panel .overview-content::-webkit-scrollbar-thumb,
.lightbox-panel .lightbox-content::-webkit-scrollbar-thumb {
  background-color: #666;
  height: 50px;
  width: 50px;
}

.overview-panel.start .overview-content:not(:hover)::-webkit-scrollbar-thumb,
.lightbox-panel.start .lightbox-content:not(:hover)::-webkit-scrollbar-thumb {
  background-color: #eee;
}

.overview-panel .overview-content::-webkit-scrollbar-thumb:hover,
.lightbox-panel .lightbox-content::-webkit-scrollbar-thumb:hover {
  background-color: #333;
  height: 50px;
  width: 50px;
}




body.viewitem-open {
  overflow: hidden;
}

/* Ensure header drawer is visible. */
body.viewitem-open #header .header-drawer {
  margin-top: 0px;
  position: fixed;
  top: 65px; /* animate back down to full unscrolled height */
}

/* While open, don't highlight the view menu. */
body.viewitem-open #header #views .menu-heading {
  color: rgba(255, 255, 255, 0.6) !important;
}

body.viewitem-open #header #views .menu-heading .indicator {
  border-color: rgba(255, 255, 255, 0.6) transparent transparent transparent !important;
}

.viewitem-panel {
  bottom: 0;
  border-top: solid 1px rgba(51, 51, 51, 1);
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  left: 0;
  margin-top: 0;
  position: fixed;
  right: 0;
  top: 100px;
  -moz-transition: margin-top 1s ease-in-out, bottom 1s ease-in-out;
-ms-transition: margin-top 1s ease-in-out, bottom 1s ease-in-out;
-o-transition: margin-top 1s ease-in-out, bottom 1s ease-in-out;
-webkit-transition: margin-top 1s ease-in-out, bottom 1s ease-in-out;
transition: margin-top 1s ease-in-out, bottom 1s ease-in-out;
  z-index: 999; /* Way up in the air. */
}

.viewitem-panel.new,
.viewitem-panel.closing {
  margin-top: -100%;
  bottom: 100%;
}

/* Bounding box of our overview item. */
.viewitem-panel .viewitem-wrap {
  background-color: white;
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  height: 100%;
  left: 0;
  margin: 0;
  overflow: hidden;
  position: relative;
  z-index: 9999;
}

/* Header section for the overview-inner. */
.viewitem-panel .viewitem-header {
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  height: 50px;
  padding: 10px;
  position: absolute;
  top: 0px;
  z-index: 5;
  width: 100%;
}

/* This is the box that things can be draw in. */
.viewitem-panel .viewitem-inner {
  bottom: 0px;
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  height: 100%;
  overflow-y: scroll;
  padding: 30px 0px;
  position: absolute;
  top: 0;
  width: 100%;
}

/* This allows us to be cute with continuous backgrounds */
.viewitem-panel .viewitem-background {
  background-color: rgba(238, 238, 238, 1);
  
  background-image: url(#EEEEEE none repeat scroll top left);
  background-position: left top;
  background-repeat: no-repeat;
  
  
  background-attachment: scroll; /* Chrome, really? */
  bottom: 0;
  left: 0;
  position: absolute;
  top: -100px; /* This should be the height of the header. */
  width: 100%;
}

/* overview container where we put the real stuff. */
.viewitem-panel .viewitem-content {
  background-color: white;
  background-clip: padding-box;
  /* TODO(kiyono): re-enable box-shadow when the performance of box-shadow */
  /* gets better.                                                          */
  
  
  -moz-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;


-ms-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;


-o-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;

/* If border-image is declared below -webkit-border-image */
/* Webkit doesn't render correctly.                       */

border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;


-webkit-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;
  border-width: 2px;
  
  padding: 20px 70px;
  left: 8px; /* Align it with classic in center - why is ther an offset? */
  max-width: 750px;
  margin: 0px auto;
  position: relative;
}

.viewitem-panel .article {
  background-color: white; /* Chrome12+ anti-aliasing bug. */
}

.viewitem-panel button.close {
  margin-right: 10px;
}

.viewitem-panel .blogger-gear {
  position: absolute;
  left: 50%;
  margin-left: -47px;
  margin-top: -47px;
  top: 50%;
}




/* Styles here should be minimized to limit amount of explicit casing. */

.article {
  font-size: 14px;
  margin: 0 auto;
  max-width: 750px;
  position: relative;
  word-wrap: break-word;
}

/* Post Header */

.article .article-header {
  display: table;
  text-align: center;
  width: 100%;
}

.article .article-header .title {
  font-size: 20px;
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  width: 100%;
  display: table-cell;
  vertical-align: middle;
  text-align: center;
  padding-right: 40px; /* Compensate for ribbon, to stay centered. */
}

.article .title .edit {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAA+UlEQVR42s3U2QmDQBAG4JRgKZbio4qieIAniniiYgkpwRIsISVYQkqwhMlMiHkIhITNhGRgYNeHz/1xncPhn0pV1dkwjNW2bYkNRAzCMIQ4jj+HdzBJEmiaBtq2hSzLxOFHcBgGGMcRuq4Tg5+Be9/gmQ2kxmdrnucSG9j3/TxNEy/IGvl3oKIokqZpC+sJdV1fHceBNE2vl5oDlC3LInBjAakw9tF13TPeNRljbwh8BlKZpnnGAXGkdRRFclEUd1gIpOj0cQijPa6VIAhOdV2LgXt03/cBoy8Ib57n0QvWsixz4XFG0XEuQlVVC8a23/6HX6A80DfrAlIMSJorw8fYAAAAAElFTkSuQmCC);
  background-repeat: no-repeat;
  background-position: center center;
  cursor: pointer;
  display: inline-block;
  height: 21px;
  opacity: 0.8;
  position: relative;
  top: 3px;
  width: 21px;
}

.article .title .edit:hover {
  opacity: 1;
}

.article .article-header .date {
  float: left;
  left: 0px;
  margin: 0px 5px 5px 0px;
  position: relative;
  top: 5px;
}

/* Post Content */

.article .article-content {
  clear: both;
  color: rgba(51, 51, 51, 1);
  line-height: 1.4;
  margin-top: 10px;
  margin: 10px auto 5px auto;
  text-align: justify;
}

/* This shouldn't really be added at all... it is from feeds. */
.article .article-content .blogger-post-footer {
  display: none;
}

/* Restore a lot of the styles we reset globally. */
.article-content ol {
  list-style-type: decimal;
  margin: 0.5em 0;
  padding-left: 2em;
}
.article-content ul {
  list-style-type: disc;
  margin: 0.5em 0;
  padding-left: 2em;
}

.article-content p {
  margin: 1em 0;
}

/* Defaults from: http://www.w3.org/TR/CSS2/sample.html */
.article-content h1,
.article-content h2,
.article-content h3,
.article-content h4,
.article-content h5,
.article-content h6 {
  font-weight: bolder;
}
.article-content h1 {
  font-size: 2em;
  margin: .67em 0;
}
.article-content h2 {
  font-size: 1.5em;
  margin: .75em 0;
}
.article-content h3 {
  font-size: 1.17em;
  margin: .83em 0;
}
.article-content h4 {
  margin: 1.12em 0;
}
.article-content h5 {
  font-size: .83em;
  margin: 1.5em 0;
}
.article-content h6 {
  font-size: .75em;
  margin: 1.67em 0;
}

.article .article-content a {
  display: inline;
}

.article .article-content img {
  -moz-box-sizing: border-box;
-ms-box-sizing: border-box;
-o-box-sizing: border-box;
-webkit-box-sizing: border-box;
box-sizing: border-box;
  display: inline-block;
  height: auto;
  margin: 10px auto; /* Attempt to horizontally center. */
  /* For Sally-Anne. Keep images to the width of the post. */
  /* It's needed to avoid IE because of b/5420328 */
  
  max-width: 100%;
  
}

.article .article-content img:not(.deferred) {
  padding: 8px;
  /* TODO(kiyono): re-enable box-shadow when the performance of box-shadow */
  /* gets better.                                                          */
  
  
  -moz-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAOVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+8yHYvAAAAEnRSTlMAAgEDBAUJBwYzCw0UChARDghnBteEAAAAhElEQVR4XnWRSxJDIQgEEx1Axd/L/Q8bKCuuyOzsohHxdZLS25LSOV2ULQdflgEiIDu9KqiIFILXXpeEx2ChXwdnKNxUGxc4dZbNfXjPufkp5H0Nwtymq/dltUIweNy9qmXt08EgydDZ6+dT+9Qh9AeGenhROFI0fPjMaCHx6uIlh9/xBSJuB3l0A/6JAAAAAElFTkSuQmCC) 9 / 9px stretch;


-ms-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAOVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+8yHYvAAAAEnRSTlMAAgEDBAUJBwYzCw0UChARDghnBteEAAAAhElEQVR4XnWRSxJDIQgEEx1Axd/L/Q8bKCuuyOzsohHxdZLS25LSOV2ULQdflgEiIDu9KqiIFILXXpeEx2ChXwdnKNxUGxc4dZbNfXjPufkp5H0Nwtymq/dltUIweNy9qmXt08EgydDZ6+dT+9Qh9AeGenhROFI0fPjMaCHx6uIlh9/xBSJuB3l0A/6JAAAAAElFTkSuQmCC) 9 / 9px stretch;


-o-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAOVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+8yHYvAAAAEnRSTlMAAgEDBAUJBwYzCw0UChARDghnBteEAAAAhElEQVR4XnWRSxJDIQgEEx1Axd/L/Q8bKCuuyOzsohHxdZLS25LSOV2ULQdflgEiIDu9KqiIFILXXpeEx2ChXwdnKNxUGxc4dZbNfXjPufkp5H0Nwtymq/dltUIweNy9qmXt08EgydDZ6+dT+9Qh9AeGenhROFI0fPjMaCHx6uIlh9/xBSJuB3l0A/6JAAAAAElFTkSuQmCC) 9 / 9px stretch;

/* If border-image is declared below -webkit-border-image */
/* Webkit doesn't render correctly.                       */

border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAOVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+8yHYvAAAAEnRSTlMAAgEDBAUJBwYzCw0UChARDghnBteEAAAAhElEQVR4XnWRSxJDIQgEEx1Axd/L/Q8bKCuuyOzsohHxdZLS25LSOV2ULQdflgEiIDu9KqiIFILXXpeEx2ChXwdnKNxUGxc4dZbNfXjPufkp5H0Nwtymq/dltUIweNy9qmXt08EgydDZ6+dT+9Qh9AeGenhROFI0fPjMaCHx6uIlh9/xBSJuB3l0A/6JAAAAAElFTkSuQmCC) 9 / 9px stretch;


-webkit-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAOVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///+8yHYvAAAAEnRSTlMAAgEDBAUJBwYzCw0UChARDghnBteEAAAAhElEQVR4XnWRSxJDIQgEEx1Axd/L/Q8bKCuuyOzsohHxdZLS25LSOV2ULQdflgEiIDu9KqiIFILXXpeEx2ChXwdnKNxUGxc4dZbNfXjPufkp5H0Nwtymq/dltUIweNy9qmXt08EgydDZ6+dT+9Qh9AeGenhROFI0fPjMaCHx6uIlh9/xBSJuB3l0A/6JAAAAAElFTkSuQmCC) 9 / 9px stretch;
  border-width: 9px;
  
}

/* Resize all images/videos in posts. */
.article .article-content iframe,
.article .article-content embed {
  display: inline-block;
  /* It's needed to avoid IE because of b/5420328 */
  
  max-width: 100%;
  
}

/* Post Footer */

.article .article-footer {
  clear: both;
  text-align: center;
}

.article .article-footer .publish-info,
.article .article-footer .geolocation-info,
.article .article-footer .labels {
  color: rgba(128, 128, 128, 1);
  font-family: 'Helvetica Neue Light', HelveticaNeue-Light, 'Helvetica Neue', Helvetica, Arial, sans-serif;
  padding: 5px 0;
}

.article .article-footer .publish-info .author a,
.article .article-footer .publish-info .time {
  color: rgba(51, 51, 51, 1);
}

.article .article-footer .label:not(:last-child):after {
  content: ',';
}

.article .article-footer .share-controls {
  display: inline-block;
  margin: 10px 5px;
  text-align: center;
}

/* AdSense */

.article.has-ads {
  padding-right: 220px;
  min-height: 650px; /* To accomodate skyscraper */
}

.article .adsense-aside {
  padding: 15px 5px 0 5px;
  position: absolute;
  right: 5px;
  text-align: center;
  top: 5px;
  width: 200px;
}

.article .adsense-footer .adsense {
  margin-top: 10px;
  padding: 10px 0;
}




.comments {
  clear: both;
  margin-top: 10px;
}

.comments .comments-header,
.comments .comments-footer {
  text-align: center;
}

.comments .comments-header .comments-count {
  top: -2px;
}

.comments .comments-header h3 {
  display: inline-block;
  padding: 5px;
}

@media only screen and (max-device-width: 1024px) {
  .comments .comments-header h3 {
    color: #222;
    font-family: arial,sans-serif;
    text-decoration: underline;
  }
}
.comments .toggle-switch:hover h3 {
  cursor: pointer;
  text-decoration: underline;
}

/* Added by blogger for ghosted/removed comments .*/
.comments .deleted-comment {
  font-style: italic;
  opacity: 0.5;
}

/* While loading, hide the comment count, and then show an indicator. */
.comments.loading .comments-header .comments-count .bubble-content {
  visibility: hidden;
}

.comments.loading .comments-header .comments-count {
  background-image: url(data:image/gif;base64,R0lGODlhEAAQAPQAAGZmZv///2lpadzc3K+vr/r6+ufn5319fZmZmfDw8Le3t8DAwHV1daOjo4eHh9LS0srKygAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAAFUCAgjmRpnqUwFGwhKoRgqq2YFMaRGjWA8AbZiIBbjQQ8AmmFUJEQhQGJhaKOrCksgEla+KIkYvC6SJKQOISoNSYdeIk1ayA8ExTyeR3F749CACH5BAAKAAEALAAAAAAQABAAAAVoICCKR9KMaCoaxeCoqEAkRX3AwMHWxQIIjJSAZWgUEgzBwCBAEQpMwIDwY1FHgwJCtOW2UDWYIDyqNVVkUbYr6CK+o2eUMKgWrqKhj0FrEM8jQQALPFA3MAc8CQSAMA5ZBjgqDQmHIyEAIfkEAAoAAgAsAAAAABAAEAAABWAgII4j85Ao2hRIKgrEUBQJLaSHMe8zgQo6Q8sxS7RIhILhBkgumCTZsXkACBC+0cwF2GoLLoFXREDcDlkAojBICRaFLDCOQtQKjmsQSubtDFU/NXcDBHwkaw1cKQ8MiyEAIfkEAAoAAwAsAAAAABAAEAAABVIgII5kaZ6AIJQCMRTFQKiDQx4GrBfGa4uCnAEhQuRgPwCBtwK+kCNFgjh6QlFYgGO7baJ2CxIioSDpwqNggWCGDVVGphly3BkOpXDrKfNm/4AhACH5BAAKAAQALAAAAAAQABAAAAVgICCOZGmeqEAMRTEQwskYbV0Yx7kYSIzQhtgoBxCKBDQCIOcoLBimRiFhSABYU5gIgW01pLUBYkRItAYAqrlhYiwKjiWAcDMWY8QjsCf4DewiBzQ2N1AmKlgvgCiMjSQhACH5BAAKAAUALAAAAAAQABAAAAVfICCOZGmeqEgUxUAIpkA0AMKyxkEiSZEIsJqhYAg+boUFSTAkiBiNHks3sg1ILAfBiS10gyqCg0UaFBCkwy3RYKiIYMAC+RAxiQgYsJdAjw5DN2gILzEEZgVcKYuMJiEAOwAAAAAAAAAAAA==);
  background-position: center center;
  background-repeat: no-repeat;
  -moz-transition: none;
-ms-transition: none;
-o-transition: none;
-webkit-transition: none;
transition: none;
}

.blogger-comments .comments-content {
  background-color: whitesmoke;
  font-size: 13px;
  margin-bottom: 16px;
  -moz-border-radius: 10px;
-ms-border-radius: 10px;
-o-border-radius: 10px;
-webkit-border-radius: 10px;
border-radius: 10px;
  -moz-transition: all 0.5s ease-in;
-ms-transition: all 0.5s ease-in;
-o-transition: all 0.5s ease-in;
-webkit-transition: all 0.5s ease-in;
transition: all 0.5s ease-in;
}

@media only screen and (max-device-width: 1024px) {
  .blogger-comments .comments-content {
    background-color: #f1f1f1;
    border: 1px solid #bbb;
    -moz-border-radius: 0;
-ms-border-radius: 0;
-o-border-radius: 0;
-webkit-border-radius: 0;
border-radius: 0;
  }
}
.blogger-comments .comments-content .comment-actions {
  color: #999;
}
.comments .comment .comment-actions a {
  padding-top: 5px;
  padding-right: 5px;
}
.comments .comment .comment-actions a:hover {
  text-decoration: underline;
}
.blogger-comments .comments-content .secondary-link {
  color: #69c;
}
.blogger-comments .comments-content .comment-thread {
  list-style-type: none;
  padding: 0;
  text-align: left;
}
.blogger-comments .comments-content .inline-thread {
  padding: 0.5em;
}
.blogger-comments .comments-content .comment-thread {
  margin: 8px;
}
.blogger-comments .comments-content .comment-thread:empty {
  display: none;
}
.blogger-comments .comments-content .comment-replies {
  background-color: #ebebeb;
  margin-top: 1em;
  margin-left: 36px;
  -moz-border-radius: 10px;
-ms-border-radius: 10px;
-o-border-radius: 10px;
-webkit-border-radius: 10px;
border-radius: 10px;
}
.blogger-comments .comments-content .comment {
  border-bottom: 1px solid #e3e3e3;
  margin-bottom: 16px;
  padding-bottom: 8px;
}
.blogger-comments .comments-content .comment:first-child {
  padding-top: 16px;
}
.blogger-comments .comments-content .comment:last-child {
  border-bottom: 0;
  padding-bottom: 0;
}
.blogger-comments .comments-content .comment-body {
  position: relative;
}
.blogger-comments .comments-content .user {
  font-style: normal;
  font-weight: bold;
}
.blogger-comments .comments-content .datetime {
  margin-left: 6px;
}
.blogger-comments .comments-content .comment-header,
.blogger-comments .comments-content .comment-content {
  margin: 0 0 8px;
}
.blogger-comments .comments-content .comment-content {
  text-align: justify;
}
.blogger-comments .comments-content .owner-actions {
  position: absolute;
  right: 0;
  top: 0;
}

.blogger-comments .comments-replybox {
  border: none;
  height: 250px;
  width: 100%;
}

.blogger-comments .comment-replybox-single {
  margin-top: 5px;
  margin-left: 48px;
}
.blogger-comments .comment-replybox-thread {
  margin-top: 5px;
}

.blogger-comments .comments-content .user,
.blogger-comments .comments-content .user a {
  color: rgba(51, 51, 51, 1);
}

.blogger-comments .icon.blog-author {
  width: 18px;
  height: 18px;
  display: inline-block;
  background-repeat: no-repeat;
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB9sLFwMeCjjhcOMAAAD+SURBVDjLtZSvTgNBEIe/WRRnm3U8RC1neQdsm1zSBIU9VVF1FkUguQQsD9ITmD7ECZIJSE4OZo9stoVjC/zc7ky+zH9hXwVwDpTAWWLrgS3QAe8AZgaAJI5zYAmc8r0G4AHYHQKVwII8PZrZFsBFkeRCABYiMh9BRUhnSkPTNCtVXYXURi1FpBDgArj8QU1eVXUzfnjv7yP7kwu1mYrkWlU33vs1QNu2qU8pwN0UpKoqokjWwCztrMuBhEhmh8bD5UDqur75asbcX0BGUB9/HAMB+r32hznJgXy2v0sGLBcyAJ1EK3LFcbo1s91JeLwAbwGYu7TP/3ZGfnXYPgAVNngtqatUNgAAAABJRU5ErkJggg==);
  margin: 0 0 -4px 6px;
}

.blogger-comments .comments-content .loadmore a {
  background: #fafafa;
  border-top: 1px solid #e3e3e3;
  display: block;
  padding: 10px 16px;
  text-align: center;
}

.blogger-comments .thread-toggle {
  cursor: pointer;
  display: inline-block;
  color: rgba(0, 158, 184, 1);
}

.blogger-comments .continue {
  cursor: pointer;
}

.blogger-comments .continue a {
  color: #888;
  display: block;
  padding: 0.5em;
  background: white;
  border: 1px solid #CCC;
  -moz-box-shadow: inset 1px 1px 3px #888;
-ms-box-shadow: inset 1px 1px 3px #888;
-o-box-shadow: inset 1px 1px 3px #888;
-webkit-box-shadow: inset 1px 1px 3px #888;
box-shadow: inset 1px 1px 3px #888;
}

.blogger-comments .comments-content .loadmore:hover a {
  background: #f1f1f1;
  border-top: 1px solid #fff;
}

.blogger-comments .comments-content .loadmore {
  cursor: pointer;
  max-height: 3em;
}

.blogger-comments .comments-content .loadmore.loaded {
  max-height: 0px;
  opacity: 0;
  overflow: hidden;
  -moz-transition: all 0.5s ease-in;
-ms-transition: all 0.5s ease-in;
-o-transition: all 0.5s ease-in;
-webkit-transition: all 0.5s ease-in;
transition: all 0.5s ease-in;
}

@media only screen and (max-device-width: 1024px) {
  .blogger-comments .comments-content .loadmore a,
  .blogger-comments .comments-content .loadmore:focus a {
    background: none;
    border-top: 1px solid #ccc;
  }
}
.blogger-comments .thread-chrome.thread-collapsed {
  display: none;
}

.blogger-comments .thread-toggle {
  display: inline-block;
}

.blogger-comments .thread-toggle .thread-arrow {
  display: inline-block;
  height: 6px;
  width: 7px;
  overflow: visible;
  margin: 0.3em;
  padding-right: 4px;
}

.blogger-comments .thread-expanded .thread-arrow {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAG0lEQVR42mNgwAfKy8v/48I4FeA0AacVDFQBAP9wJkE/KhUMAAAAAElFTkSuQmCC") no-repeat scroll 0 0 transparent;
}

.blogger-comments .thread-collapsed .thread-arrow {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAYAAADEUlfTAAAAJUlEQVR42mNgAILy8vL/DLgASBKnApgkVgXIkhgKiNKJ005s4gDLbCZBiSxfygAAAABJRU5ErkJggg==") no-repeat scroll 0 0 transparent;
}

.blogger-comments .avatar-image-container {
  float: left;
  width: 36px;
  max-height: 36px;
  overflow: hidden;
}

.blogger-comments .avatar-image-container img {
  width: 36px;
}

.blogger-comments .comment-block {
  margin-left: 48px;
  position: relative;
}

/* Responsive styles. */
@media screen and (max-device-width: 480px) {
  .blogger-comments .comments-content .comment-replies {
    margin-left: 0;
  }
}



.share-controls {
  overflow: hidden;
  text-align: center;
  white-space: nowrap;
}

.share-controls span,
.share-controls iframe {
  height: 20px !important;
}

.share-controls .share-plusone,
.share-controls .share-twitter,
.share-controls .share-facebook {
  /* PlusOne tries to reset a lot of settings, don't let it. */
  background-repeat: no-repeat !important;
  background-position: left center !important;
  display: inline-block;
  margin: 0;
}

/* To avoid the 'jitter' of buttons loading, set a background image
   of the button in its place. Once loaded, the button covers. */
.share-controls .share-plusone {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAUCAYAAADskT9PAAACrElEQVRIS8WW30tTYRjH37+roLyovKgor7xY0AySfoHSXRhSiRWUXYSEpAXRRSqsbSxlbI2xsaFt/aJEwTnn3Pm5n25uczi2b+d5ZQdP7JCVrYsP4zzPed7Pc973Pe8ZA8Ci0ahV44MGOgS5rORmkUhkeHl5GcViEfV6vSOQi5zkZouLi3KlUsHOzg6q1WpHIBc5yc0WFhZ4kAKdhJzkZuFwGOVy+b9AbhYKhVBKK5Cnn0MYv4e1/jNY7T2qsz7Qi8LKd2xvbx865GbBYBAx6ynkw++xu7uLZrMJ+ekdLleejaLRaPBuS6XSb5McGeDjmOXJzQKBABLaU9K6bG1tcWqlIuKXT/PizMewHj8oeTGFzbEhfRbN7iM38/v92LhpQaFQ0KGkMvFgbxZsrwy5dqxdPW+4phmNXzmH2MUTfAyzOnIzn8+HmKULOa3rfD6vo05P8uK0640h3o74tR7DtTT1GJVCjsdpDLM6cjOv18tvEmdfIpfL6UgTD7HW142SlDLE9xOznjRsWLqmOK0v/bYaMKsnN/N4PHvFluMQ7a+hajtefDeDeP9ZVFe+8k6z2WxbWu8ziVpnyf58qwGzenIzt9uNWmIV6tQjJO/eQOxCl1Z0BOWlT3wvZDKZXxLX9oBZnMYyqyM3m5+f50/Jj8hCnhfwoqUvSKfTB4Je03bxVgNmdeRmc3NzUBSFo6oqkrf6eFHsUjeEoFfP/Ql02FBzZnlyM5fLhZT7LTamxrAxPoLU6CDWr/fszYTlGM/JsvxPIDdzOp1IPrmNoiTwbmu1GurVinYO3NebEL59hiRJhw65mcPhEOj7TB2JosihJN/Rs5O8ic2ZF3rusEgkEiA3s9vtQ3QiUUAQBANFVeYNKNoy/Jz7G8hFTnIz+ltks9mGNWQNdAhyDZP7B9FT1Mw7jWv8AAAAAElFTkSuQmCC) !important;
  height: 20px;
  /* Don't touch anything other than min-width, causes havoc with +1 */
  min-width: 90px;
  -moz-transition: min-width 0.3s;
-ms-transition: min-width 0.3s;
-o-transition: min-width 0.3s;
-webkit-transition: min-width 0.3s;
transition: min-width 0.3s;
}
.share-controls .share-plusone.defer {
  min-width: 34px;
}
.share-controls .share-plusone.delay {
  min-width: 90px;
}

.share-controls .share-twitter {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAAUCAYAAAAp46XeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFSklEQVRYCd1Ye0yTVxT/9UFbCm15qKU8JhQQURFQfMBUog6VxMSJJo5tZsvcPzPGZJkxzmzLEmOWbZIlji1LZtxkbPMRzHyyKI4hWubkvWEtIC8RmEApKrUP2u6e28JaqMuMcYmc5Pb7zrn3PH73nHO/r5/A5XKhqt3oajNaMFVIGyZDZlyYQKBrG3TJpFKkRwZNFWyo6xmBxWqFkDI2lYBRhggP4RJOmXT5ASImmcXu9DP17Is4uMeBUXLdgC7jMDYsnA3tNOXjqP7vazk4u9Pl4/jkdT1yUhKgkAX4yPMOXYC+bwhJIRK8tjwN3nqkc7yyzmc9MevSEvD6qsWT5E8qaO4bRqBEiJgwxSNN8Z5zOJ3wHjcHHiBjXxF2H7sEXUs3n/v8ajNa7TKIFWEwDIxg99EyH515MZFYlpKItFgNatvuIE49jfMLtDN91nn7eZL7D4+W4svSqkfaJsR+D5S9uYsQGhGNMy0D2Pb9r3jv53qc67oPoSwYwiAlhMEh+KWlB0NmK9oHzXzn4mco8PbaxXhrjTtLr6xI43xtWycKzur4GrPNgY0fF6Gpq5/zV27cwo5Dp/l98eVGrN/3NZ8/VWOA1eGupurmbrz82Q987tOfKri8/M9b0N/uQ1mDHlsPHkePaYTbmPjDwZEh72G2O/DF5qUI08RAHKrGuc4H6LMI2FYIIRAFQEQAA4Px/P5i1Le2j+sOW0dxz+Y+nB5abSBeqVDgxJUavubiH624eacfP15t4PxRXRMkIgEITOH5CryzcRV2rs3EniNnoTN04dbd+9haeAy56bPw0db1KK014OCZy0iKjkCEMhBadTjeWJGOELlsPIYxHATUb+ZoYqZCgsWxaoiU4TxjBIwTAQyQInS6GkuTtRhm2fg3ot4dNttQ39GLi3UGZCTE8B03M/C/GTqQt2QOvi27hqykWKjkgVApg5Aep0GJrgEndbWIn65kpR7F+zsnNR7H2MaEK+QIVamgjZiBlWmJEIn8w+BSh4P1HBvdgw/4le6lYjEOrIxDUricZ2wcAOtPovx5kTj86krkZ6WM65Ce1cEy7CHiiVbPT8SZ32/gUmMLDr65gcsKTlVCzLK2KEnL+ebuPhRX1PBBQeekJ2HUMYqBEQu+Ka/m8hGbC/nZGdyf0xMHlTr5mTjIqM+jQMXSu4sdItroUMxRa9AwaMXdId93TpfDjsCHJuSnzgcZnkhOx2TZpoxkbD98GrOjpvNNeyE1GSVVDdiUmcqDWjY3AeV1TXh/yxqEyqU4WdmARfHRiFIEoaiiHttWL8VCbQTKGpshE0u5SyGroM5+I0xmCy/LiXEQzzNnZb1LQ86O1v2bstFpdODdC0040WLEkGeHaLHLbkWi3IVDL6bzIMf0vK+0QSq5BKpgBbdJc0vmaLmMSpD4LZlzyRzo0CF+R24mZrE+ytpTiOSdBfiOleRD1rsp8VHYm5eNzQeKELf9E+wqOs/1SOel5QtQ3Xobqz/4Cr0m87gvmqNBJCiuvuPKilWyI1UIkdBdRnKpBHr2OCjrMKHZkzmlVIzlEVKsm6WBeZStYyXzKIoLD0bPsAXW0X/WqIMksLkE/ISlkg+RCmGysjL2rNEo5XAymzb7KEJYT7WbWMUwnjIpE4tgZH0bqZKN26UYFZ66+8syOR5dxz03uCXPhUyKUxQghJS1j3ezEijHU35VI7/+fNDGUwL+K13rMvn2nLciOXA/wdzZ9J57mvf+gJG/xwE2Fh9PrOfRNCabMlf+Z9XMTjhNkO975LOMsHfEDrlIBMHYZwZ9S9uzjMcn9uRELf/M8DdRh83rstvalwAAAABJRU5ErkJggg==) !important;
  height: 20px;
  width: 110px;
  -moz-transition: width 0.3s;
-ms-transition: width 0.3s;
-o-transition: width 0.3s;
-webkit-transition: width 0.3s;
transition: width 0.3s;
}
.share-controls .share-twitter.defer {
  width: 57px;
}
.share-controls .share-twitter.delay {
  width: 110px;
}

.share-controls .share-facebook {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAUCAYAAAAk/dWZAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQElEQVRIDd1XXUhTYRh+tjPb5mwNpzV0aSiWZESihMQI7M6bEn8ujKKCQMIuDKurpMQLQxQWNEUIIoT0wkIrC4MMNCOiZUWU1tD5/5fzd87jNtf3HV2d6c5+jKD1wtn3/n/Pe973nJ1P5HK5YB6ZdVnmWThXXQgVYsQiRCql2BOrEon6h2dcizYHolUySBhxqNQAh3MVU7PLiJBLIKYdCLUC6J2mN5zipvjFdIRCqQP8UaG4Ofx8JZ+/XPkM3wd+8FWCfFJ8FKquZgna/7ZB8CEItAAKMBhfj4Kcc2h/+gmjrIc2aEGwCF+ZMlLj8Op+IXdR3iuxwyguqkejyROhtacTJ4o6MUeD2Fncav2ISafXDAErJQF78hyrrmRhdHIB30wTmJkWHjkbibE7PBEq4g6i8pITCpqPYaCBjJd5a+yWOkG3ogVcu/0CvYNLQe3MWvpQ83gAnv2hKZbwUN+A4oY+OIjETvWhrKSedK0ep/TvMO1jl6CK2KmOwNmcNC6dSr2d46kuGHIs2mA20R65iYGcsaO95gHuDcWjtCABEligv9EFWXYWWgy5yJn/ivLnE+6ATWtQ45QQF4nzeelckkP7doFePf1TmJxe3JRYULFhRzmsaKxtwvuh3aitPgI1CXSMD+M1WTVGI/S9DMwEf//YcqApBf04w5vuQehO1nEP9IfeCVwsa/YdwFkZPz4SyLZJgWULTON2xGjC4KTzREinS8Fh0miHLhkydfSa0stvUOPkJd6nSk6sC4tWOFg7rEssrGTlBp4XZSPDk12YjVKdE9XlTegYX4VUq0Um8TGaV5CYrEVKcgyiFMJQNzSXl52wqftjPRU8aUf4tl/27i8jPMtvlhbRdrcVbW6Vai/unCMC74VEfWysGOkF2ShZaSaFPIGy4jgulGbgZnkXcl92cdGazEzU5WndmTxWn0V4ePIE+uXrl6RaVBhOe3VrqV5XEx+9IX9dCMPRM/nkWheVSbhuSCQdJN1jwqCQbqET9FPiUYcRsaoojMyu/Re4+Y36Y2kHvIL9c6UYinDyvPgh0dvPY66EGKUft3/X3Dc6DzE9XNBv81AkipviF9PTET1chFoh7kMRxS/6H46nPwG0xCqstPx1sgAAAABJRU5ErkJggg==) !important;;
  height: 20px;
  width: 90px;
  -moz-transition: width 0.3s;
-ms-transition: width 0.3s;
-o-transition: width 0.3s;
-webkit-transition: width 0.3s;
transition: width 0.3s;
}
.share-controls .share-facebook.defer {
  width: 51px;
}
.share-controls .share-facebook.delay {
  width: 90px;
}





#gadget-dock {
  background-color: #333;
  width: 50px;
  -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
-ms-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
-o-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);;
  -moz-border-radius: 2px 0 0 2px;
-ms-border-radius: 2px 0 0 2px;
-o-border-radius: 2px 0 0 2px;
-webkit-border-radius: 2px 0 0 2px;
border-radius: 2px 0 0 2px;;
  
  -moz-transition: right 0.15s ease-in-out;
-ms-transition: right 0.15s ease-in-out;
-o-transition: right 0.15s ease-in-out;
-webkit-transition: right 0.15s ease-in-out;
transition: right 0.15s ease-in-out;;
  
  position: fixed;
  right: -40px;
  top: 124px;
  z-index: 3000;
}


#gadget-dock:hover,

#gadget-dock.gadget-notifying,
#gadget-dock.gadget-opening {
  right: 0;
}

/* expand the hover area */
#gadget-dock:after {
  content: '';
  display: block;
  width: 90px;
  height: 110%;
  position: absolute;
  top: -5%;
  left: -40px;
  z-index: -100;
}

#gadget-dock.gadget-opening:after {
  display: none;
}

.gadget-item {
  position: relative;
  z-index: 1;
}

.gadget-selected {
  z-index: 0;
}

.gadget-item:empty {
  display: none;
}

.gadget-menu {
  cursor: pointer;
  background-color: #333;
  border-top: 1px solid #585858;
  text-align: center;
  z-index: 0;
}

.gadget-icons {
  width: 50px;
  height: 50px;
  line-height: 50px;
}

.gadget-menu .gadget-title {
  display: none;
}

.gadget-selected .gadget-menu {
  background-color: white;
  border-color: #ccc;
}

.gadget-item:first-child .gadget-menu {
  border-top: 1px solid transparent;
  -moz-border-radius: 2px 0 0 0;
-ms-border-radius: 2px 0 0 0;
-o-border-radius: 2px 0 0 0;
-webkit-border-radius: 2px 0 0 0;
border-radius: 2px 0 0 0;
}

.gadget-selected.gadget-item:first-child .gadget-menu {
  border-color: #ccc;
  -moz-border-radius: 0;
-ms-border-radius: 0;
-o-border-radius: 0;
-webkit-border-radius: 0;
border-radius: 0;
}

.gadget-item:last-child .gadget-menu {
  -moz-border-radius: 0 0 0 2px;
-ms-border-radius: 0 0 0 2px;
-o-border-radius: 0 0 0 2px;
-webkit-border-radius: 0 0 0 2px;
border-radius: 0 0 0 2px;
}

.gadget-selected.gadget-item:last-child .gadget-menu {
  -moz-border-radius: 0;
-ms-border-radius: 0;
-o-border-radius: 0;
-webkit-border-radius: 0;
border-radius: 0;
}

.gadget-icon, .gadget-icon-selected {
  display: inline-block;
  max-width: 30px;
  max-height: 30px;
  vertical-align: middle;
}

.gadget-icon-selected {
  display: none;
}

.gadget-selected .gadget-icon {
  display: none;
}

.gadget-selected .gadget-icon-selected {
  display: inline-block;
}




.gadget-container {
  background-color: white;
  -moz-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
-ms-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
-o-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
-webkit-box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);;
  line-height: 1.4em;
  text-align: left;
  visibility: hidden;
  z-index: -1;
  margin-left: 100%;
  word-wrap: break-word;
  max-width: 700px;
}


.gadget-container {
  
  -moz-transition: right 0.15s ease-in-out, opacity 0.15s ease-in-out;
-ms-transition: right 0.15s ease-in-out, opacity 0.15s ease-in-out;
-o-transition: right 0.15s ease-in-out, opacity 0.15s ease-in-out;
-webkit-transition: right 0.15s ease-in-out, opacity 0.15s ease-in-out;
transition: right 0.15s ease-in-out, opacity 0.15s ease-in-out;;
  
  opacity: 0;
  position: absolute;
  top: 0;
  right: -100px;
}


.gadget-container:hover,
.gadget-item:hover .gadget-container,

.gadget-selected .gadget-container {
  visibility: visible;
  right: 49px;
  opacity: 1;
}

.gadget-selected .gadget-container {
  border: 1px solid #ccc;
  -moz-border-radius: 2px 0 0 2px;
-ms-border-radius: 2px 0 0 2px;
-o-border-radius: 2px 0 0 2px;
-webkit-border-radius: 2px 0 0 2px;
border-radius: 2px 0 0 2px;;
  cursor: auto;
  z-index: -100;
}

.gadget-selected.gadget-dock-overflow-bottom .gadget-container {
  position: fixed;
  bottom: 27px;
  top: auto;
}

.gadget-selected.gadget-dock-overflow-client-area .gadget-container {
  position: fixed;
  top: 0;
  bottom: 24px;
}




/* HACK: Because IE8 ignores max-width when "overflow-y: scroll" is set */
/* the scroll-bar is shown by the child element of .gadget-container.   */
.gadget {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  /* IE scroll-bar */
  scrollbar-arrow-color: white;
  scrollbar-track-color: white;
  scrollbar-face-color: #999;
  scrollbar-highlight-color: #999;
  scrollbar-shadow-color: #999;
  scrollbar-3dlight-color: white;
  scrollbar-darkshadow-color: white;
}
.gadget-selected.gadget-dock-overflow-client-area .gadget {
  overflow-y: scroll;
}

.gadget::-webkit-scrollbar {
  width: 14px;
}

.gadget::-webkit-scrollbar:hover {
  background-color: #f3f3f3;
}

.gadget::-webkit-scrollbar-thumb {
  border-width: 0 0 0 4px;
  border-color: #999;
  border-style: solid;
}

.gadget::-webkit-scrollbar-thumb:hover {
  border-width: 0 0 0 12px;
}

.gadget::-webkit-scrollbar-button {
  width: 14px;
  height: 16px;
}

.gadget::-webkit-scrollbar-corner {
  background-color: transparent;
}


.gadget-content {
  display: none;
  overflow: hidden;
  position: relative;
}

.gadget-selected .gadget-content {
  display: block;
}

.gadget-container .gadget-title {
  display: block;
  background-color: #333;
  color: white;
  display: block;
  font-size: 14px;
  padding: 1px 16px 0 16px;
  height: 50px;
  line-height: 50px;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  position: relative;
}

.gadget-container .gadget-title:hover {
  text-decoration: underline;
}

.gadget-selected .gadget-container .gadget-title {
  background-color: transparent;
  color: black;
  font-size: 16px;
  height: 40px;
}

.gadget-selected .gadget-container .gadget-title:hover {
  text-decoration: none;
}

.gadget-content {
  background-color: white;
}

.gadget-resize-detector {
  background-color: transparent;
  border-style: none;
  margin: 0;
  padding: 0;
  outline: 0;
  width: 0;
  height: 100%;
  position: absolute;
  right: 0;
  top: 0;
  z-index: -1;
}






/* Center align posts. Border between them. */
ol.items {
  text-align: center;
  
  
  padding: 18px 10px 20px 10px;
  
}
li.item {
  background-color: white;
  background-clip: padding-box;
  /* TODO(kiyono): re-enable box-shadow when the performance of box-shadow */
  /* gets better.                                                          */
  
  
  -moz-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;


-ms-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;


-o-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;

/* If border-image is declared below -webkit-border-image */
/* Webkit doesn't render correctly.                       */

border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;


-webkit-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAANUlEQVQIW2NkYGBgQ8JAJsMvEGYEEjxQzA0SBYKvQPwFJCEExIJAfBcqoQyk3+OVwGkUVssBP4wMT0ZBZV0AAAAASUVORK5CYII=) 2 / 2px repeat;
  border-width: 2px;
  
  padding: 20px 70px;
  max-width: 826px;
  margin: 0px auto;
  position: relative;
}
li.item + li.item {
  margin-top: 30px;
}
li.ad {
  padding: 0 0 20px 0;
  position: relative;
}
li.item + li.ad {
  padding-top: 20px;
}
li.ad ins.adsbygoogle {
  margin: 0px auto;
}
.article {
  position: static;
}

/* Ribbon to hang off the left. */
.article .article-header .date.ribbon {
  position: absolute;
  left: 20px;
  top: 20px;
}

/* Unloaded images to have loading indicator. */
img.deferred {
  background-repeat: no-repeat;
  background-position: center center;
  background-image: url(data:image/gif;base64,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);
  border: solid 1px #ccc;
}

@media only screen and (max-width : 600px) {
  #header-container {
    height: 81px;
  }
  #header .header-bar,
  #header .header-bar .title h1,
  #header .header-bar .title h3 {
    height: 48px;
  }
  #header .header-bar .title {
    height: 48px;
    line-height: 48px;
    margin-right: 50px;
  }
  #header .header-bar .title h1 {
    font-size: 20px;
  }
  #header .header-bar .title h3 {
    font-size: 16px;
  }
  /* Show magnifier icon instead of showing placeholder. */
  #header input#search {
    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAuElEQVQ4y72UQQ2GMAyFJwEJk1AJSEBCJUwCTiaB086/BCQgAQlQki55aSD/mhEO77Dt7UvXtQ2llPCWwlewKBpF1AO7Lv9EB2gXsRdGevECbKJFtAI0eWA1omz2GYCxBRYhojtz/hcdLkY1Lw/mSc/nFhipeX0wJw8sQPLtzw1wRq0wTHTWpyXzw646S6bGDgDVNLCnA6JCZ1V9GtYc9/Ymm2i5t9EtkHqnBkP+hjdGECHo03nm1gl0/D1dbs3/WAAAAABJRU5ErkJggg==);
    background-repeat: no-repeat;
    background-position: center center;
    color: transparent;
    top: 9px;
    -moz-transition: width 0.17s ease-in-out;
-ms-transition: width 0.17s ease-in-out;
-o-transition: width 0.17s ease-in-out;
-webkit-transition: width 0.17s ease-in-out;
transition: width 0.17s ease-in-out;;
    width: 22px;
  }
  #header input#search:focus {
    background-image: none;
    color: black;
    width: 200px;
  }
  #header input#search::-webkit-input-placeholder {
    color: transparent;
  }
  #header input#search:focus::-webkit-input-placeholder {
    color: #b5b5b5;
  }
  #header .header-drawer,
  #header .menu .menu-heading,
  #header .tabs li,
  #header .admin-controls,
  #header .admin-controls .dashboard,
  #header .admin-controls .new-post {
    height: 28px;
    line-height: 28px;
  }
  #header .header-drawer,
  #header .header-drawer.sticky {
    top: 17px;
  }
  
  #header:hover .header-drawer,
  #header .header-drawer.open {
    top: 48px;
  }
  
  #header .menu .menu-heading {
    height: 28px;
    line-height: 28px;
  }

  #header #pages::before {
  
    height: 14px;
  }
}

@media only screen and (max-width : 600px) {
  #gadget-dock {
    width: 40px;
    right: 0;
    top: 100px;
  }
  #gadget-dock:after {
    display: none;
  }
  .gadget-icons {
    width: 40px;
    height: 40px;
    line-height: 40px;
  }
  .gadget-container {
    max-width: 280px;
  }
  
  .gadget-container:hover,
  .gadget-item:hover .gadget-container,
  
  .gadget-selected .gadget-container {
    right: 39px;
  }
  .gadget-title {
    height: 40px;
    line-height: 40px;
  }
  .gadget-selected .gadget-title {
    line-height: 50px;
  }
}

@media only screen and (max-width : 600px) {
  li.item {
    padding: 20px 10px 20px 10px;
  }
  li.ad {
    padding: 0 0 20px 0;
  }
  .article .article-header {
    height: 64px;
  }
  .article .article-header .title {
    padding-right: 0px;
    padding-left: 50px;
  }
}



.article-content iframe {
  max-width: 100%;
}

.article-content a[imageanchor] {
  margin: 0 !important;
}


.highlight .hll{background-color:#ffffcc}.highlight{background:#eeffcc;}.highlight .c{color:#408090;font-style:italic}.highlight .err{border:1px solid #FF0000}.highlight .k{color:#007020;font-weight:bold}.highlight .o{color:#666666}.highlight .cm{color:#408090;font-style:italic}.highlight .cp{color:#007020}.highlight .c1{color:#408090;font-style:italic}.highlight .cs{color:#408090;background-color:#fff0f0}.highlight .gd{color:#A00000}.highlight .ge{font-style:italic}.highlight .gr{color:#FF0000}.highlight .gh{color:#000080;font-weight:bold}.highlight .gi{color:#00A000}.highlight .go{color:#303030}.highlight .gp{color:#c65d09;font-weight:bold}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#0040D0}.highlight .kc{color:#007020;font-weight:bold}.highlight .kd{color:#007020;font-weight:bold}.highlight .kn{color:#007020;font-weight:bold}.highlight .kp{color:#007020}.highlight .kr{color:#007020;font-weight:bold}.highlight .kt{color:#902000}.highlight .m{color:#208050}.highlight .s{color:#4070a0}.highlight .na{color:#4070a0}.highlight .nb{color:#007020}.highlight .nc{color:#0e84b5;font-weight:bold}.highlight .no{color:#60add5}.highlight .nd{color:#555555;font-weight:bold}.highlight .ni{color:#d55537;font-weight:bold}.highlight .ne{color:#007020}.highlight .nf{color:#06287e}.highlight .nl{color:#002070;font-weight:bold}.highlight .nn{color:#0e84b5;font-weight:bold}.highlight .nt{color:#062873;font-weight:bold}.highlight .nv{color:#bb60d5}.highlight .ow{color:#007020;font-weight:bold}.highlight .w{color:#bbbbbb}.highlight .mf{color:#208050}.highlight .mh{color:#208050}.highlight .mi{color:#208050}.highlight .mo{color:#208050}.highlight .sb{color:#4070a0}.highlight .sc{color:#4070a0}.highlight .sd{color:#4070a0;font-style:italic}.highlight .s2{color:#4070a0}.highlight .se{color:#4070a0;font-weight:bold}.highlight .sh{color:#4070a0}.highlight .si{color:#70a0d0;font-style:italic}.highlight .sx{color:#c65d09}.highlight .sr{color:#235388}.highlight .s1{color:#4070a0}.highlight .ss{color:#517918}.highlight .bp{color:#007020}.highlight .vc{color:#bb60d5}.highlight .vg{color:#bb60d5}.highlight .vi{color:#bb60d5}.highlight .il{color:#208050}</style><!-- Yo Dawg... --><meta name="meta" content="meta"></head>
<body class="variant-classic classic notouch viewitem-open"><div class="viewitem-panel">
  <div class="viewitem-wrap">
    <div class="viewitem-background"></div>
    <div class="viewitem-header"></div>
    <div class="viewitem-inner">
      
      
      <div class="viewitem-content" tabindex="0">
      
  
<div class="article hentry cell_object closure function python " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="178682433303594871">

  
  <div class="article-header">


<a class="ribbon date " title="2nd January 2012" href="./Python Closures Explained _ Shut Up and Ship_files/Python Closures Explained _ Shut Up and Ship.html" itemprop="url">


  <div class="top ribbon-piece">Jan</div>
  <div class="bottom ribbon-piece">2</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="./Python Closures Explained _ Shut Up and Ship_files/Python Closures Explained _ Shut Up and Ship.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="178682433303594871">



Python Closures Explained</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=178682433303594871&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody"><br>
A CLOSURE is a function object that remembers values in enclosing scopes regardless of whether those scopes are still present in memory. If you have ever written a function that returned another function, you probably may have used closures even without knowing about them.<br>
<br>
<span style="font-size: large;"><b>A quick look at closures</b></span><br>
<br>
For example, consider the following function&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>&nbsp;which returns another function.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">generate_power_func</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"id(n): </span><span class="si" style="color: #70a0d0; font-style: italic;">%X</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span> <span class="nb" style="color: #007020;">id</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">nth_power</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">x</span><span class="o" style="color: #666666;">**</span><span class="n">n</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"id(nth_power): </span><span class="si" style="color: #70a0d0; font-style: italic;">%X</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span> <span class="nb" style="color: #007020;">id</span><span class="p">(</span><span class="n">nth_power</span><span class="p">)</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">nth_power</span></pre>
The inner function&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">nth_power</span>&nbsp;is called a&nbsp;<b>closure</b>&nbsp;because, as you will see shortly, it will have access to&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">n</span>&nbsp;which is defined in&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>&nbsp;(the enclosing scope) even after program flow is leaves it. If you want to get too technical, you can say that the function&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">nth_power</span>&nbsp;is closed over the variable&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">n</span>. Let’s call&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>&nbsp;and assign the result to another variable to examine this further.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">raised_to_4</span> <span class="o" style="color: #666666;">=</span> <span class="n">generate_power_func</span><span class="p">(</span><span class="mf" style="color: #40a070;">4</span><span class="p">)</span>
<span class="go" style="color: grey;">id(n): CCF7DC</span>
<span class="go" style="color: grey;">id(nth_power): C46630</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: #007020;">repr</span><span class="p">(</span><span class="n">raised_to_4</span><span class="p">)</span>
<span class="go" style="color: grey;">'&lt;function nth_power at 0x00C46630&gt;'</span></pre>
As expected, when&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func(4)</span>&nbsp;was executed, it created an&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">nth_power</span>&nbsp;function object (at&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">0x00C46630</span>), and returned it, which we just assigned to&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">raised_to_4</span>&nbsp;(you can see that<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">&nbsp;id(raised_to_4) == 0x00C46630 == id(nth_power)</span>). Now let’s also delete the name of the original function&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>&nbsp;from the global namespace.<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: #007020; font-weight: bold;">del</span> <span class="n">generate_power_func</span></pre>
</div>
Now it’s time for the closure magic ...<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">raised_to_4</span><span class="p">(</span><span class="mf" style="color: #40a070;">2</span><span class="p">)</span>
<span class="go" style="color: grey;">16</span></pre>
Wait a minute! How did this work? We defined&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">n = 4</span>&nbsp;outside of the local scope of&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">nth_power</span>. How does&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">raised_to_4&nbsp;</span>(the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">nth_power</span>&nbsp;function object) know that the value of&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">n</span>&nbsp;is&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">4</span>? It makes sense that&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>&nbsp;would know about&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">n</span>&nbsp;(and its value,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">4</span>) when the program flow is&nbsp;<i>within</i>&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>. But the program flow is currently not within&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>. For that matter&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>&nbsp;does not even exist in the namespace anymore.<br>
<br>
The&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">nth_power</span>&nbsp;function object returned by&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>&nbsp;is a closure because it knows about the details of the variable&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">n</span>&nbsp;from the&nbsp;<i>enclosing</i>&nbsp;scope.<br>
<br>
<span style="font-size: large;"><b>Diving deeper - the __closure__ attribute and cell objects</b></span><br>
<br>
Luckily for us, functions in Python are first class objects. So we can gain a little more understanding of the closures by inspecting the function objects. And all Python functions have a&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__closure__</span>&nbsp;attribute that lets us examine the enclosing variables associated with a closure function.<br>
<br>
The&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__closure__</span>&nbsp;attribute returns a tuple of&nbsp;<b>cell objects</b>&nbsp;which contain details of the variables defined in the enclosing scope. Let’s examine this.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">raised_to_4</span><span class="o" style="color: #666666;">.</span><span class="n">__closure__</span>
<span class="go" style="color: grey;">(&lt;cell at 0x00FFFB70: int object at 0x00CCF7DC&gt;,)</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: #007020;">type</span><span class="p">(</span><span class="n">raised_to_4</span><span class="o" style="color: #666666;">.</span><span class="n">__closure__</span><span class="p">[</span><span class="mf" style="color: #40a070;">0</span><span class="p">])</span>
<span class="go" style="color: grey;">&lt;type 'cell'&gt;</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">raised_to_4</span><span class="o" style="color: #666666;">.</span><span class="n">__closure__</span><span class="p">[</span><span class="mf" style="color: #40a070;">0</span><span class="p">]</span><span class="o" style="color: #666666;">.</span><span class="n">cell_contents</span>
<span class="go" style="color: grey;">4</span></pre>
As you can see, the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__closure__</span>&nbsp;attribute of the function&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">raised_to_4</span>&nbsp;has a reference to&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">int</span>&nbsp;object at&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">0x00CCF7DC</span>&nbsp;which is none other than&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">n</span>&nbsp;(which was defined in&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">generate_power_func</span>).<br>
In case you’re wondering, every function object has&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__closure__</span>&nbsp;attribute. If there is not data for the closure, the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__closure__</span>&nbsp;attribute will just be&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">None</span>. For example<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">f</span><span class="p">():</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">... </span>    <span class="k" style="color: #007020; font-weight: bold;">pass</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">...</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: #007020;">repr</span><span class="p">(</span><span class="n">f</span><span class="p">);</span> <span class="nb" style="color: #007020;">repr</span><span class="p">(</span><span class="n">f</span><span class="o" style="color: #666666;">.</span><span class="n">__closure__</span><span class="p">)</span>
<span class="go" style="color: grey;">'&lt;function f at 0x0153A330&gt;'</span>
<span class="go" style="color: grey;">'None'</span></pre>
<span style="font-size: large;"><b>Summary</b></span><br>
<ul>
<li>Closure is just a fancy name for a function that remembers the values from the enclosing lexical scope even when the program flow is no longer in the enclosing scope.</li>
<li>If you've ever written a function that returned another function, you may have used closures.&nbsp;</li>
</ul>
<div>
<span style="font-size: large;"><b>See also</b></span></div>
<div>
<ul>
<li>Effbot (Fredrik Lundh) on&nbsp;<a href="http://effbot.org/zone/closure.htm">Closures in Python</a></li>
<li><a href="http://www.python.org/dev/peps/pep-0227/">PEP 227</a>&nbsp;- Statically nested scopes</li>
</ul>
</div><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-01-02T11:00:00.000Z" itemprop="datePublished">2nd January 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/cell%20object" target="_self">cell object</a> <a class="label" href="http://www.shutupandship.com/search/label/closure" target="_self">closure</a> <a class="label" href="http://www.shutupandship.com/search/label/function" target="_self">function</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> 
    </div>
    
    
    
<div class="share-controls  delay" data-defer="" data-delay="1000">
<span class="share-plusone g-plusone  delay" data-href="http://www.shutupandship.com/2012/01/python-closures-explained.html" data-hl="en" data-size="medium" data-source="blogger:blog:plusone" data-annotation="bubble" data-width="90" data-text="Python Closures Explained" id="___plusone_0"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: absolute; top: -10000px; width: 450px; margin: 0px; border-style: none; display: none !important;" tabindex="0" vspace="0" width="100%" id="I0_1445478974370" name="I0_1445478974370" src="./Python Closures Explained _ Shut Up and Ship_files/saved_resource.html" data-gapiattached="true"></iframe></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button  delay" data-url="http://www.shutupandship.com/2012/01/python-closures-explained.html" data-count="" data-size="" data-text="Python Closures Explained"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="./Python Closures Explained _ Shut Up and Ship_files/saved_resource.html" style="display: none !important;"></iframe></span>


<span class="share-facebook  delay" data-url="http://www.shutupandship.com/2012/01/python-closures-explained.html" data-count="" data-layout="" data-text="Python Closures Explained"><iframe allowtransparency="true" frameborder="0" scrolling="no" src="./Python Closures Explained _ Shut Up and Ship_files/saved_resource.html" style="display: none !important;"></iframe></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="0 comments">
  <span class="bubble-content">0</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    
    Add a comment
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container" data-itemid="178682433303594871" style="display: block;">
  <div class="comments-content"><div id="bc_0_1C" kind="c"><div id="bc_0_1CT"><div id="bc_0_0T" class="comment-thread" kind="r" t="0" u="0"><ol id="bc_0_0TB"></ol><div id="bc_0_0I" class="continue" kind="ci" style="display: none;"><a href="javascript:;" target="_self">Add comment</a></div><div id="bc_0_0T_box" class="comment-replybox-thread"><iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=178682433303594871" src="./Python Closures Explained _ Shut Up and Ship_files/comment-iframe.html"></iframe></div><div id="bc_0_0L" class="loadmore loaded" kind="rb" style="display: none;"><a href="javascript:;" target="_self">No more comments</a></div></div></div></div></div>
  <div class="comments-footer">
    
  </div>
</div>

</div>

    
    
  
  

  
</div>

  

      
      </div>
      
    </div>
  </div>
</div>









<div id="header-container">
  <div id="header" class="header">
    <div class="header-bar">
      
<span class="title" onclick="$(&#39;html,body&#39;).stop().animate({&#39;scrollTop&#39;: 0})">
  <a href="http://www.shutupandship.com/" target="_self"><h1 title="Shut Up and Ship">Shut Up and Ship</h1></a>
  <h3 title="Praveen Gollakota">Praveen Gollakota</h3>
</span>
<input type="text" id="search" autocomplete="off" placeholder="Search">

      
    </div>
    <div class="header-drawer sticky open">
      
      <div id="views" class="menu">
        <span class="menu-heading">Classic<span class="indicator"></span></span>
        <ul>
          
          <li class="Classic"><span class="menu-background"></span><a class="menu-item current" href="http://www.shutupandship.com/2012/01/python-closures-explained.html?view=classic" target="_self" data-view-name="classic">Classic</a></li>
          
          <li class="Flipcard"><span class="menu-background"></span><a class="menu-item" href="http://www.shutupandship.com/2012/01/python-closures-explained.html?view=flipcard" target="_self" data-view-name="flipcard">Flipcard</a></li>
          
          <li class="Magazine"><span class="menu-background"></span><a class="menu-item" href="http://www.shutupandship.com/2012/01/python-closures-explained.html?view=magazine" target="_self" data-view-name="magazine">Magazine</a></li>
          
          <li class="Mosaic"><span class="menu-background"></span><a class="menu-item" href="http://www.shutupandship.com/2012/01/python-closures-explained.html?view=mosaic" target="_self" data-view-name="mosaic">Mosaic</a></li>
          
          <li class="Sidebar"><span class="menu-background"></span><a class="menu-item" href="http://www.shutupandship.com/2012/01/python-closures-explained.html?view=sidebar" target="_self" data-view-name="sidebar">Sidebar</a></li>
          
          <li class="Snapshot"><span class="menu-background"></span><a class="menu-item" href="http://www.shutupandship.com/2012/01/python-closures-explained.html?view=snapshot" target="_self" data-view-name="snapshot">Snapshot</a></li>
          
          <li class="Timeslide"><span class="menu-background"></span><a class="menu-item" href="http://www.shutupandship.com/2012/01/python-closures-explained.html?view=timeslide" target="_self" data-view-name="timeslide">Timeslide</a></li>
          
        </ul>
      </div>
      
      
      <div id="pages" class="tabs">
        <span class="menu-heading">Pages<span class="indicator"></span></span>
        <ul>
          
          <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="" href="http://www.shutupandship.com/">Home</a></li>
          
          <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="663043035007133677" href="http://www.shutupandship.com/p/articles.html">Articles</a></li>
          
          <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="5446530541800692415" href="http://www.shutupandship.com/p/about_06.html">About</a></li>
          
          <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="5186413142303891500" href="http://www.shutupandship.com/p/feeds.html">Feeds</a></li>
          
          <li><span class="menu-background"></span><a class="menu-item" data-item-type="page" data-id="8979104612421236780" href="http://www.shutupandship.com/p/projects.html">Projects</a></li>
          
        </ul>
      </div>
      
      <div class="blog-admin admin-controls">
        <a class="new-post" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&from=pencil" target="_self" title="New post"></a>
        <a class="dashboard" href="https://www.blogger.com/home" target="_self" title="Dashboard"></a>
      </div>
    </div>
  </div>
</div>





<div id="main" class="hfeed " tabindex="0">
  <ol id="items" class="items"><li class="item" data-id="7255801870461862498">
  
<div class="article hentry django observer_design_pattern publishsubscribe_design_pattern pubsub_design_pattern python signal " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
    <meta itemprop="image_url" content="http://2.bp.blogspot.com/-RDijFyQmg68/T5ASvUin-zI/AAAAAAAACl8/Bmgh8JQhLRg/s320/telephone-exchange.jpg">
    <meta itemprop="thumbnailUrl" content="http://2.bp.blogspot.com/-RDijFyQmg68/T5ASvUin-zI/AAAAAAAACl8/Bmgh8JQhLRg/s320/telephone-exchange.jpg">
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="7255801870461862498">

  
  <div class="article-header">


<a class="ribbon date " title="20th April 2012" href="http://www.shutupandship.com/2012/04/django-signals-and-observer-design.html" itemprop="url">


  <div class="top ribbon-piece">Apr</div>
  <div class="bottom ribbon-piece">20</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/04/django-signals-and-observer-design.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="7255801870461862498">



Django Signals and the Observer Design Pattern</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=7255801870461862498&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody">Django implements the Observer (aka Publish/Subscribe) design pattern using Signals.&nbsp;A signal is an instance of the Signal class, i.e. a noun, not a verb. Think of signal as an exchange, that routes your calls. Like a real exchange, there are senders (callers) and receivers. If you (the sender) want to send a message to some receivers, you don't independently send it to all your receivers. You just send it to the the signal (exchange), and the signal (exchange) sends it to all the receivers who have connected to it. Easy!<br>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-RDijFyQmg68/T5ASvUin-zI/AAAAAAAACl8/Bmgh8JQhLRg/s1600/telephone-exchange.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="253" width="320" src="./Python Closures Explained _ Shut Up and Ship_files/telephone-exchange.jpg"></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Yes, this is a signal. All of it.</td></tr>
</tbody></table>
This is how a signal looks internally.<br>
<ul>
<li><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">receivers</span> is a list that has references to all the receiving functions or methods.&nbsp;</li>
<li><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">providing_args</span> is just a set of all the arguments the signal provides.</li>
</ul>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="./Python Closures Explained _ Shut Up and Ship_files/signal_class_diagram.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="./Python Closures Explained _ Shut Up and Ship_files/signal_class_diagram.png"></a></div>
<br>
<ul>
<li>If someone (as in some function or method) wants to receive messages from the signal, they can subscribe or connect to the signal by invoking the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">connect()</span> method of the signal.&nbsp;</li>
<li>If they want to stop receiving, they can unsubscribe or disconnect by invoking the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">disconnect()</span> method of the signal.&nbsp;</li>
<li>If someone wants to send a message to a signal, they can invoke the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">send()</span> method of the signal. This message will be received by all the receivers that are connected to it.</li>
</ul>
"What is a "message" that is passed?" you may ask. In case of Django signals, messages are just the function parameters (or arguments).&nbsp;That's all there is to it.<br>
<br>
Here is a silly program with a signal called <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">log_it</span> that sends a message and a logging level to a couple of receivers.<br>
<br>
<table class="syntaxtable" style="-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; background-color: #f0f0f0; border-collapse: collapse; color: black; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><tbody style="-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; border-collapse: collapse; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">
<tr><td class="linenos" style="background-color: #a7bec4; color: white; padding-left: 20px; padding-right: 5px; text-align: right;"><pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre>
</td><td class="code" style="padding-left: 10px;"><div class="syntax" style="background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="kn" style="color: #007020; font-weight: bold;">from</span> <span class="nn" style="color: #0e84b5; font-weight: bold;">dispatch</span> <span class="kn" style="color: #007020; font-weight: bold;">import</span> <span class="n">Signal</span>

<span class="c" style="color: #60a0b0; font-style: italic;"># The Signal object (think of it as an exchange)</span>
<span class="n">log_it</span> <span class="o" style="color: #666666;">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">providing_args</span><span class="o" style="color: #666666;">=</span><span class="p">[</span><span class="s" style="color: #4070a0;">'level'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'message'</span><span class="p">])</span>

<span class="c" style="color: #60a0b0; font-style: italic;"># These functions are receivers (subscribers). They will receive </span>
<span class="c" style="color: #60a0b0; font-style: italic;"># the signal (message) sent (published) by the sender (publisher).</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">simple_receiver</span><span class="p">(</span><span class="o" style="color: #666666;">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">message</span><span class="p">,</span> <span class="n">level</span> <span class="o" style="color: #666666;">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s" style="color: #4070a0;">'message'</span><span class="p">],</span> <span class="n">kwargs</span><span class="p">[</span><span class="s" style="color: #4070a0;">'level'</span><span class="p">]</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'Receiver # 1'</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'</span><span class="se" style="color: #4070a0; font-weight: bold;">\t</span><span class="s" style="color: #4070a0;">Level: </span><span class="si" style="color: #70a0d0; font-style: italic;">%d</span><span class="s" style="color: #4070a0;">, Message: </span><span class="si" style="color: #70a0d0; font-style: italic;">%s</span><span class="se" style="color: #4070a0; font-weight: bold;">\n</span><span class="s" style="color: #4070a0;">'</span> <span class="o" style="color: #666666;">%</span> <span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>

<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">picky_receiver</span><span class="p">(</span><span class="o" style="color: #666666;">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="n">message</span><span class="p">,</span> <span class="n">level</span> <span class="o" style="color: #666666;">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s" style="color: #4070a0;">'message'</span><span class="p">],</span> <span class="n">kwargs</span><span class="p">[</span><span class="s" style="color: #4070a0;">'level'</span><span class="p">]</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'Receiver # 2'</span>
    <span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">level</span> <span class="o" style="color: #666666;">&lt;</span> <span class="mf" style="color: #40a070;">2</span><span class="p">:</span>
        <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"</span><span class="se" style="color: #4070a0; font-weight: bold;">\t</span><span class="s" style="color: #4070a0;">Some unimportant message was sent. Ignoring it!</span><span class="se" style="color: #4070a0; font-weight: bold;">\n</span><span class="s" style="color: #4070a0;">"</span>

<span class="c" style="color: #60a0b0; font-style: italic;"># Okay, now time to connect these receivers to the log_it signal object.</span>
<span class="n">log_it</span><span class="o" style="color: #666666;">.</span><span class="n">connect</span><span class="p">(</span><span class="n">simple_receiver</span><span class="p">)</span>
<span class="n">log_it</span><span class="o" style="color: #666666;">.</span><span class="n">connect</span><span class="p">(</span><span class="n">picky_receiver</span><span class="p">)</span>

<span class="c" style="color: #60a0b0; font-style: italic;"># The sender (publisher) that sends (publishes) a signal (message).</span>
<span class="c" style="color: #60a0b0; font-style: italic;"># This message will received by all connected (subscribed)</span>
<span class="c" style="color: #60a0b0; font-style: italic;"># receivers (subscribers).</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">a_cool_sender</span><span class="p">():</span>
    <span class="c" style="color: #60a0b0; font-style: italic;"># Do something cool here</span>
    <span class="c" style="color: #60a0b0; font-style: italic;"># Now send a signal to all receivers</span>
    <span class="n">log_it</span><span class="o" style="color: #666666;">.</span><span class="n">send</span><span class="p">(</span><span class="n">sender</span><span class="o" style="color: #666666;">=</span><span class="s" style="color: #4070a0;">'a_cool_sender'</span><span class="p">,</span> <span class="n">message</span><span class="o" style="color: #666666;">=</span><span class="s" style="color: #4070a0;">'Hello!'</span><span class="p">,</span> <span class="n">level</span><span class="o" style="color: #666666;">=</span><span class="mf" style="color: #40a070;">1</span><span class="p">)</span>
<span class="n">a_cool_sender</span><span class="p">()</span></pre>
</div>
</td></tr>
</tbody></table>
<br>
As soon as signal is instantiated with no receivers, it starts its life with an empty list of receivers.<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-kg7wWWMDYHs/T5AUW9AwBmI/AAAAAAAACmQ/r8hGOt6L3_M/s1600/Signals_1.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="80" width="400" src="./Python Closures Explained _ Shut Up and Ship_files/Signals_1.png"></a></div>
Once you connect some receivers, the receivers are added to the list of receivers. They will receive any signal sent to the signal.<br>
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-s9GVtTb-5Wc/T5AU8bc2lBI/AAAAAAAACmg/U5g7lDFNk8M/s1600/Selection_004.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="147" width="640" data-src="http://4.bp.blogspot.com/-s9GVtTb-5Wc/T5AU8bc2lBI/AAAAAAAACmg/U5g7lDFNk8M/s640/Selection_004.png" src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="deferred"></a></div>
Once the sender sends the message, all of the receivers are executed as shown below.<br>
<br>
<table class="syntaxtable" style="-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; background-color: #f0f0f0; border-collapse: collapse; color: black; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;"><tbody style="-webkit-border-horizontal-spacing: 0px; -webkit-border-vertical-spacing: 0px; border-collapse: collapse; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">
<tr><td class="linenos" style="background-color: #a7bec4; color: white; padding-left: 20px; padding-right: 5px; text-align: right;"><pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;">1
2
3
4
5</pre>
</td><td class="code" style="padding-left: 10px;"><div class="syntax" style="background-attachment: initial; background-clip: initial; background-image: initial; background-origin: initial;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="go" style="color: grey;">Receiver # 1</span>
<span class="go" style="color: grey;"> Level: 1, Message: Hello!</span>

<span class="go" style="color: grey;">Receiver # 2</span>
<span class="go" style="color: grey;"> Some unimportant message was sent. Ignoring it!                  </span>
</pre>
</div>
</td></tr>
</tbody></table>
<br>
Note that the receiving functions have been executed as soon as we invoked the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">send()</span> method of the signal. That is the whole point of this design pattern. Here is a <a href="https://github.com/django/django/blob/9f3cd99b1d9b457ad479ff56a24ee28a9d49a7b9/django/dispatch/dispatcher.py#L171-172">sneak peek at the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">send()</span> method of the Signal in the django source code</a> that shows the receiving functions being called inside the body of the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">send()</span> method.&nbsp;Okay, so now you know what a Signal is and how write your own signals and how to use them.<br>
<br>
Django has a bunch of pre-defined signals like <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">pre_save</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">post_save</span>&nbsp;etc. The routine is the same for even these signals.&nbsp;Let's take for example the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">post_save</span>. The <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">post_save</span> is first <a href="https://github.com/django/django/blob/450634013fd76c7752f169ddbadaa36735e417e4/django/db/models/signals.py#L8">defined</a> (in <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">django.db.models.signals</span>). &nbsp;It&nbsp;is then imported into <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">django.db.models.base</span> and and it is <a href="https://github.com/django/django/blob/e74fd9dc8f3cd954a2cf608d1c7c1af4050caece/django/db/models/base.py#L564-565">triggered</a> (i.e. <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">send</span> method is called) soon after the logic to actually save the model in the database. If you want trigger something right after a model is saved, all you need to do is connect your function or method to the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">post_save</span>&nbsp;signal and you're&nbsp;done.<br>
<br>
Note that in Django signals are synchronous. The main program pauses until all the receivers are executed.<br>
<br>
Signals are by no means limited to Django. In fact Django Signals are based on&nbsp;<a href="http://pydispatcher.sourceforge.net/">PyDispatcher</a>&nbsp;library that implements Pub/Sub design pattern, and there are other libraries too, and you can even roll your own in a pinch. Signals are a great way to maintain loose coupling in your systems. It is especially beneficial to provide signals if you are writing a framework or a library, because it makes the library much more extensible. That said, signals can also make your code less obvious to debug. So use them with caution. As anything else, they are perfect solutions for some problems, if used right.<br>
<br>
<span style="font-size: large;"><b>See Also</b></span><br>
<ul>
<li><a href="http://www.mercurytide.co.uk/news/article/django-signals/">Django Signals</a> by Matt Riggott.</li>
<li>Django Signals <a href="https://docs.djangoproject.com/en/dev/topics/signals/">official documentation</a>.</li>
<li><a href="http://en.wikipedia.org/wiki/Observer_pattern">Observer pattern</a> on Wikipedia.</li>
</ul><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-04-20T13:00:00.000Z" itemprop="datePublished">20th April 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/django" target="_self">django</a> <a class="label" href="http://www.shutupandship.com/search/label/observer%20design%20pattern" target="_self">observer design pattern</a> <a class="label" href="http://www.shutupandship.com/search/label/pub-sub%20design%20pattern" target="_self">pub-sub design pattern</a> <a class="label" href="http://www.shutupandship.com/search/label/publish-subscribe%20design%20pattern" target="_self">publish-subscribe design pattern</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> <a class="label" href="http://www.shutupandship.com/search/label/signal" target="_self">signal</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/04/django-signals-and-observer-design.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="Django Signals and the Observer Design Pattern"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/04/django-signals-and-observer-design.html" data-count="" data-size="" data-text="Django Signals and the Observer Design Pattern"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/04/django-signals-and-observer-design.html" data-count="" data-layout="" data-text="Django Signals and the Observer Design Pattern"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="1 comment">
  <span class="bubble-content">1</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    View comments
    
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="7255801870461862498" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=7255801870461862498"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li><li class="item" data-id="2728778858004532089">
  
<div class="article hentry module pformat pprint pretty_printing prettyprinter python " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
    <meta itemprop="image_url" content="http://3.bp.blogspot.com/-g40-h1yR2EY/T1UYcwl_pcI/AAAAAAAACW8/1A8A-6YPeW4/s400/pprint_module.png">
    <meta itemprop="thumbnailUrl" content="http://3.bp.blogspot.com/-g40-h1yR2EY/T1UYcwl_pcI/AAAAAAAACW8/1A8A-6YPeW4/s400/pprint_module.png">
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="2728778858004532089">

  
  <div class="article-header">


<a class="ribbon date " title="6th March 2012" href="http://www.shutupandship.com/2012/03/python-pprint-pretty-printing-makes.html" itemprop="url">


  <div class="top ribbon-piece">Mar</div>
  <div class="bottom ribbon-piece">6</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/03/python-pprint-pretty-printing-makes.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="2728778858004532089">



Python pprint - pretty printing makes your output readable</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=2728778858004532089&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody">Python Standard Library has a little module called <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">pprint</span> that <i>pretty prints</i> the data structures. This module is very useful if you are printing any deeply nested data structures like deeply nested dictionaries, JSON converted to python objects etc. I think every new comer to Python should learn about this module right away because pretty printing data structures will help to make sense of the output much better.<br>
<br>
The module itself is very simple. It has two main functions <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">pprint()</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">pformat()</span>, that either print the supplied object directly or just return a formatted object that can be used elsewhere (like say to log it using a logger).<br>
<br>
Like many other Python Standard Library modules, the functions are just convenience functions, because the actual formatting is delegated to the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">PrettyPrinter</span> class. I found this to be a recurring theme in multiple Python modules, where the implementation is object oriented and is tucked away in a class, and the module provides convenience functions that create the object and invoke its methods.<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-g40-h1yR2EY/T1UYcwl_pcI/AAAAAAAACW8/1A8A-6YPeW4/s1600/pprint_module.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="107" width="400" data-src="http://3.bp.blogspot.com/-g40-h1yR2EY/T1UYcwl_pcI/AAAAAAAACW8/1A8A-6YPeW4/s400/pprint_module.png" src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="deferred"></a></div>
Here is a quick example of how to use the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">pprint()</span> function.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="kn" style="color: #007020; font-weight: bold;">import</span> <span class="nn" style="color: #0e84b5; font-weight: bold;">pprint</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">ds</span> <span class="o" style="color: #666666;">=</span> <span class="nb" style="color: #007020;">dict</span><span class="p">((</span><span class="nb" style="color: #007020;">chr</span><span class="p">(</span><span class="n">i</span><span class="p">),</span> <span class="nb" style="color: #007020;">range</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="o" style="color: #666666;">+</span><span class="mf" style="color: #40a070;">5</span><span class="p">))</span> <span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="nb" style="color: #007020;">range</span><span class="p">(</span><span class="mf" style="color: #40a070;">65</span><span class="p">,</span><span class="mf" style="color: #40a070;">70</span><span class="p">))</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">ds</span>
<span class="go" style="color: grey;">{'A': [65, 66, 67, 68, 69], 'C': [67, 68, 69, 70, 71], 'B': [66, 67, 68, 69, 70], '</span>
<span class="go" style="color: grey;">E': [69, 70, 71, 72, 73], 'D': [68, 69, 70, 71, 72]}</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o" style="color: #666666;">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
<span class="go" style="color: grey;">{'A': [65, 66, 67, 68, 69],</span>
<span class="go" style="color: grey;"> 'B': [66, 67, 68, 69, 70],</span>
<span class="go" style="color: grey;"> 'C': [67, 68, 69, 70, 71],</span>
<span class="go" style="color: grey;"> 'D': [68, 69, 70, 71, 72],</span>
<span class="go" style="color: grey;"> 'E': [69, 70, 71, 72, 73]}</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o" style="color: #666666;">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">width</span><span class="o" style="color: #666666;">=</span><span class="mf" style="color: #40a070;">20</span><span class="p">)</span>
<span class="go" style="color: grey;">{'A': [65,</span>
<span class="go" style="color: grey;">       66,</span>
<span class="go" style="color: grey;">       67,</span>
<span class="go" style="color: grey;">       68,</span>
<span class="go" style="color: grey;">       69],</span>
<span class="go" style="color: grey;"> 'B': [66,</span>
<span class="go" style="color: grey;">       67,</span>
<span class="go" style="color: grey;">       68,</span>
<span class="go" style="color: grey;">       69,</span>
<span class="go" style="color: grey;">       70],</span>
<span class="go" style="color: grey;"> 'C': [67,</span>
<span class="go" style="color: grey;">       68,</span>
<span class="go" style="color: grey;">       69,</span>
<span class="go" style="color: grey;">       70,</span>
<span class="go" style="color: grey;">       71],</span>
<span class="go" style="color: grey;"> 'D': [68,</span>
<span class="go" style="color: grey;">       69,</span>
<span class="go" style="color: grey;">       70,</span>
<span class="go" style="color: grey;">       71,</span>
<span class="go" style="color: grey;">       72],</span>
<span class="go" style="color: grey;"> 'E': [69,</span>
<span class="go" style="color: grey;">       70,</span>
<span class="go" style="color: grey;">       71,</span>
<span class="go" style="color: grey;">       72,</span>
<span class="go" style="color: grey;">       73]}</span><span style="color: #c65d09;"><b>
</b></span></pre>
And here is an example of&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">pformat()</span>.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">pretty_ds</span> <span class="o" style="color: #666666;">=</span> <span class="n">pprint</span><span class="o" style="color: #666666;">.</span><span class="n">pformat</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">width</span><span class="o" style="color: #666666;">=</span><span class="mf" style="color: #40a070;">20</span><span class="p">)</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: #007020;">type</span><span class="p">(</span><span class="n">pretty_ds</span><span class="p">)</span>
<span class="go" style="color: grey;">&lt;type 'str'&gt;</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="n">pretty_ds</span>
<span class="go" style="color: grey;">{'A': [65,</span>
<span class="go" style="color: grey;">       66,</span>
<span class="go" style="color: grey;">       67,</span>
<span class="go" style="color: grey;">       68,</span>
<span class="go" style="color: grey;">       69],</span>
<span class="go" style="color: grey;"> 'B': [66,</span>
<span class="go" style="color: grey;">       67,</span>
<span class="go" style="color: grey;">       68,</span>
<span class="go" style="color: grey;">       69,</span>
<span class="go" style="color: grey;">       70],</span>
<span class="go" style="color: grey;"> 'C': [67,</span>
<span class="go" style="color: grey;">       68,</span>
<span class="go" style="color: grey;">       69,</span>
<span class="go" style="color: grey;">       70,</span>
<span class="go" style="color: grey;">       71],</span>
<span class="go" style="color: grey;"> 'D': [68,</span>
<span class="go" style="color: grey;">       69,</span>
<span class="go" style="color: grey;">       70,</span>
<span class="go" style="color: grey;">       71,</span>
<span class="go" style="color: grey;">       72],</span>
<span class="go" style="color: grey;"> 'E': [69,</span>
<span class="go" style="color: grey;">       70,</span>
<span class="go" style="color: grey;">       71,</span>
<span class="go" style="color: grey;">       72,</span>
<span class="go" style="color: grey;">       73]}</span></pre>
<br>
<b>See Also</b><br>
<ul>
<li>Python Standard Library documentation for&nbsp;<a href="http://docs.python.org/library/pprint.html">pprint</a>.</li>
<li>PyMOTW -&nbsp;<a href="http://www.doughellmann.com/PyMOTW/pprint/index.html">pprint</a>.</li>
</ul><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-03-05T19:56:00.001Z" itemprop="datePublished">6th March 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/module" target="_self">module</a> <a class="label" href="http://www.shutupandship.com/search/label/pformat" target="_self">pformat</a> <a class="label" href="http://www.shutupandship.com/search/label/pprint" target="_self">pprint</a> <a class="label" href="http://www.shutupandship.com/search/label/pretty%20printing" target="_self">pretty printing</a> <a class="label" href="http://www.shutupandship.com/search/label/PrettyPrinter" target="_self">PrettyPrinter</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/03/python-pprint-pretty-printing-makes.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="Python pprint - pretty printing makes your output readable"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/03/python-pprint-pretty-printing-makes.html" data-count="" data-size="" data-text="Python pprint - pretty printing makes your output readable"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/03/python-pprint-pretty-printing-makes.html" data-count="" data-layout="" data-text="Python pprint - pretty printing makes your output readable"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="4 comments">
  <span class="bubble-content">4</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    View comments
    
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="2728778858004532089" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=2728778858004532089"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li><li class="item" data-id="2342725924793913107">
  
<div class="article hentry compile match module pattern python re regex regular_expression " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="2342725924793913107">

  
  <div class="article-header">


<a class="ribbon date " title="28th February 2012" href="http://www.shutupandship.com/2012/02/regular-expressions-in-python-re-module.html" itemprop="url">


  <div class="top ribbon-piece">Feb</div>
  <div class="bottom ribbon-piece">28</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/02/regular-expressions-in-python-re-module.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="2342725924793913107">



Regular expressions in Python - the re module</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=2342725924793913107&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody">If you have used regular expressions in other languages like Perl, Python regular expressions may seem cumbersome. This article briefly goes over how the Python <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">re</span> module is laid out. Note that regular expressions is a vast subject. The article does not deal with how to write regular expressions. If you are not aware of how to write regular expressions&nbsp;<a href="http://www.regular-expressions.info/">http://www.regular-expressions.info/</a> is an excellent place to start.<br>
<br>
<b><span style="font-size: large;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">re.compile()</span><span style="font-family: inherit;"> and the&nbsp;</span></span></b><b><span style="font-size: large;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Pattern</span> Objects&nbsp;</span></b><br>
<br>
There are two main actors in the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">re</span> module - the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Pattern</span>&nbsp;object&nbsp;(also called as<span style="font-family: &#39;Courier New&#39;, Courier, monospace;"> RegExObject</span> in Python documentation) and the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Match</span>&nbsp;object.<br>
<br>
All the usual services that you expect out of regular expressions, such as scanning a text and finding all matches, checking whether there is a match etc., are available as <i>methods of the </i><span style="font-family: &#39;Courier New&#39;, Courier, monospace;"><i>Pattern</i></span><i> object</i>. So, for example, if you want to find all portions of a string that match a particular RegEx, you should first <i>compile</i> a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Pattern</span> object and then invoke its <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">findall()</span> method. Here is a trivial example.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">patt</span> <span class="o" style="color: #666666;">=</span> <span class="n">re</span><span class="o" style="color: #666666;">.</span><span class="n">compile</span><span class="p">(</span><span class="s" style="color: #4070a0;">"\w+"</span><span class="p">)</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">words</span> <span class="o" style="color: #666666;">=</span> <span class="n">patt</span><span class="o" style="color: #666666;">.</span><span class="n">findall</span><span class="p">(</span><span class="s" style="color: #4070a0;">"Hello World"</span><span class="p">)</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">words</span>
<span class="go" style="color: grey;">['Hello', 'World']</span></pre>
<b><span style="font-size: large;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">re</span> module <i>convenience</i> functions</span></b><br>
<br>
The&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">re</span>&nbsp;module also provides <i>all</i> the methods of the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Pattern</span>&nbsp;object as <i>convenience functions</i> directly at the module level. For example, instead of compiling a&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Pattern</span>&nbsp;object and calling the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">findall()</span>&nbsp;method on it, you can directly use the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">findall()</span>&nbsp;<i>function</i>&nbsp;in the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">re</span>&nbsp;module. So the example above can also be written as.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">words</span> <span class="o" style="color: #666666;">=</span> <span class="n">re</span><span class="o" style="color: #666666;">.</span><span class="n">findall</span><span class="p">(</span><span class="s" style="color: #4070a0;">r"\w+"</span><span class="p">,</span> <span class="s" style="color: #4070a0;">"Hello World"</span><span class="p">)</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">words</span>
<span class="go" style="color: grey;">['Hello', 'World']</span></pre>
Behind the scenes, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">re</span> module just creates a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Pattern</span> object and calls its&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">findall()</span> method.<br>
<a href="http://yuml.me/56d22369" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="222" width="640" data-src="http://yuml.me/56d22369" src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="deferred"></a><br>
<b><span style="font-size: large;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">match()</span><span style="font-family: inherit;">, </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">search()</span><span style="font-family: inherit;"> and the&nbsp;</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Match</span> object</span></b><br>
<span style="font-family: inherit;">The </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">match()</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">search()</span>&nbsp;methods of the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Pattern</span> object return either&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Match</span> objects if there is a match or <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">None</span> if there is no match. &nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">match()</span>&nbsp;and&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">search()</span>&nbsp;are&nbsp;both are very similar except that <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">match()</span> looks for a match only at the <i>beginning</i> of the string where as <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">search()</span> looks for a match anywhere in the string. If there are multiple sub-strings that match the given RegEx pattern, the&nbsp;<i>first</i>&nbsp;location that matches is returned as the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Match</span> object. <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Match</span> objects always have a boolean value of <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">True</span>. So in simple cases, if you just want to check if a RegEx pattern matches anywhere in a text, you can use it simply like this.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">re</span><span class="o" style="color: #666666;">.</span><span class="n">search</span><span class="p">(</span><span class="s" style="color: #4070a0;">r"\w+@\w+\.\w+"</span><span class="p">,</span> <span class="s" style="color: #4070a0;">"My name is ABC"</span><span class="p">):</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">... </span>    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"The text has email address"</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">... </span><span class="k" style="color: #007020; font-weight: bold;">else</span><span class="p">:</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">... </span>    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"The text has no email address"</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">... </span>
<span class="go" style="color: grey;">The text has no email address</span>

<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">re</span><span class="o" style="color: #666666;">.</span><span class="n">search</span><span class="p">(</span><span class="s" style="color: #4070a0;">r"\w+@\w+\.\w+"</span><span class="p">,</span> <span class="s" style="color: #4070a0;">"My email is abc@efg.com"</span><span class="p">):</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">... </span>    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"The text has email address"</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">... </span><span class="k" style="color: #007020; font-weight: bold;">else</span><span class="p">:</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">... </span>    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"The text has no email address"</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">... </span>
<span class="go" style="color: grey;">The text has email address</span></pre>
<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Match</span> objects have other properties and methods that give a lot more information about the match, such as all the groups that were captured by the match, start and end positions of the string that was matched etc.<br>
<br>
<b><span style="font-size: large;">Other methods of the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Pattern</span> object</span></b><br>
<br>
Pattern object provides other methods&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">findall()</span>,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">finditer()</span>,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">split()</span>,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">sub()</span><span style="font-family: inherit;">and&nbsp;</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">subn()</span>&nbsp;(which are also available as convenience functions in the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">re</span> module). These methods are simple to use and the documentation is very clear about how they work. They just return a list (or iterator) of the matches or the new string with matched replaced with the alternate text supplied. In most cases, for simple lookups, substituions etc., these methods will do in a pinch.<br>
<br>
<b><span style="font-size: large;">An example</span></b><br>
<br>
Here is a simple example that looks for email addresses (and captures the username and domain name). All the the methods and properties of the pattern object, as well as the Match object are printed out. Note: The RegEx pattern to look for email addresses is very simplified and is meant for demonstration only.<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="kn" style="color: #007020; font-weight: bold;">import</span> <span class="nn" style="color: #0e84b5; font-weight: bold;">re</span>

<span class="n">patt</span> <span class="o" style="color: #666666;">=</span> <span class="n">re</span><span class="o" style="color: #666666;">.</span><span class="n">compile</span><span class="p">(</span>
   <span class="s" style="color: #4070a0;">r"""</span>
<span class="s" style="color: #4070a0;">    # The username (capture it)</span>
<span class="s" style="color: #4070a0;">    (?P&lt;username&gt;\w+)</span>
<span class="s" style="color: #4070a0;">    # followed by @</span>
<span class="s" style="color: #4070a0;">    @</span>
<span class="s" style="color: #4070a0;">    # followed by the domain (also capture it)</span>
<span class="s" style="color: #4070a0;">    (?P&lt;domain&gt;\w+\.\w+)"""</span><span class="p">,</span>
    <span class="n">re</span><span class="o" style="color: #666666;">.</span><span class="n">VERBOSE</span> <span class="o" style="color: #666666;">|</span> <span class="n">re</span><span class="o" style="color: #666666;">.</span><span class="n">IGNORECASE</span><span class="p">)</span>

<span class="n">txt</span> <span class="o" style="color: #666666;">=</span> <span class="s" style="color: #4070a0;">"My emails are derp@dm1.net and herp@dm2.com."</span>

<span class="c" style="color: #60a0b0; font-style: italic;"># print the attributes of the Pattern object</span>
<span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">attr</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="p">[</span><span class="s" style="color: #4070a0;">'pattern'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'groups'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'groupindex'</span><span class="p">]:</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'patt.{0:&lt;12}: {1}'</span><span class="o" style="color: #666666;">.</span><span class="n">format</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb" style="color: #007020;">getattr</span><span class="p">(</span><span class="n">patt</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span>
<span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"patt.{0:&lt;12}: {1}"</span><span class="o" style="color: #666666;">.</span><span class="n">format</span><span class="p">(</span><span class="s" style="color: #4070a0;">'flags'</span><span class="p">,</span> <span class="n">bin</span><span class="p">(</span><span class="n">patt</span><span class="o" style="color: #666666;">.</span><span class="n">flags</span><span class="p">))</span>
<span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"patt.search(txt) :</span><span class="se" style="color: #4070a0; font-weight: bold;">\n\t</span><span class="si" style="color: #70a0d0; font-style: italic;">%s</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span><span class="n">patt</span><span class="o" style="color: #666666;">.</span><span class="n">search</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
<span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"patt.findall(txt):</span><span class="se" style="color: #4070a0; font-weight: bold;">\n\t</span><span class="si" style="color: #70a0d0; font-style: italic;">%s</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span><span class="n">patt</span><span class="o" style="color: #666666;">.</span><span class="n">findall</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
<span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"patt.split(txt)  :</span><span class="se" style="color: #4070a0; font-weight: bold;">\n\t</span><span class="si" style="color: #70a0d0; font-style: italic;">%s</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span><span class="n">patt</span><span class="o" style="color: #666666;">.</span><span class="n">split</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
<span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"patt.sub('abc@efg.com', txt):</span><span class="se" style="color: #4070a0; font-weight: bold;">\n\t</span><span class="si" style="color: #70a0d0; font-style: italic;">%s</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span><span class="n">patt</span><span class="o" style="color: #666666;">.</span><span class="n">sub</span><span class="p">(</span><span class="s" style="color: #4070a0;">'abc@efg.com'</span><span class="p">,</span> <span class="n">txt</span><span class="p">)</span>
<span class="k" style="color: #007020; font-weight: bold;">print</span>

<span class="n">mtch</span> <span class="o" style="color: #666666;">=</span> <span class="n">patt</span><span class="o" style="color: #666666;">.</span><span class="n">search</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
<span class="c" style="color: #60a0b0; font-style: italic;"># print the attributes and the methods of the Match object  </span>
<span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">attr</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="p">[</span><span class="s" style="color: #4070a0;">'re'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'pos'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'endpos'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'lastindex'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'lastgroup'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'string'</span><span class="p">]:</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'mtch.{0:&lt;12}: {1}'</span><span class="o" style="color: #666666;">.</span><span class="n">format</span><span class="p">(</span><span class="n">attr</span><span class="p">,</span> <span class="nb" style="color: #007020;">getattr</span><span class="p">(</span><span class="n">mtch</span><span class="p">,</span> <span class="n">attr</span><span class="p">))</span>
<span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">method</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="p">[</span><span class="s" style="color: #4070a0;">'group'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'groups'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'groupdict'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'start'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'end'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'span'</span><span class="p">]:</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'mtch.{0:&lt;12}: {1}'</span><span class="o" style="color: #666666;">.</span><span class="n">format</span><span class="p">(</span><span class="n">method</span><span class="o" style="color: #666666;">+</span><span class="s" style="color: #4070a0;">'()'</span><span class="p">,</span> <span class="nb" style="color: #007020;">getattr</span><span class="p">(</span><span class="n">mtch</span><span class="p">,</span> <span class="n">method</span><span class="p">)())</span></pre>
</div>
Here is the output. As you can see, the match object only has details about the first match in the text (<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">derp@dm1.net</span>).<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="go" style="color: grey;">patt.pattern     : </span>
<span class="go" style="color: grey;">    # The username (capture it)</span>
<span class="go" style="color: grey;">    (?P&lt;username&gt;\w+)</span>
<span class="go" style="color: grey;">    # followed by @</span>
<span class="go" style="color: grey;">    @</span>
<span class="go" style="color: grey;">    # followed by the domain (also capture it)</span>
<span class="go" style="color: grey;">    (?P&lt;domain&gt;\w+\.\w+)</span>
<span class="go" style="color: grey;">patt.groups      : 2</span>
<span class="go" style="color: grey;">patt.groupindex  : {'username': 1, 'domain': 2}</span>
<span class="go" style="color: grey;">patt.flags       : 0b1000010</span>
<span class="go" style="color: grey;">patt.search(txt) :</span>
<span class="go" style="color: grey;"> &lt;_sre.SRE_Match object at 0xb788dc80&gt;</span>
<span class="go" style="color: grey;">patt.findall(txt):</span>
<span class="go" style="color: grey;"> [('derp', 'dm1.net'), ('herp', 'dm2.com')]</span>
<span class="go" style="color: grey;">patt.split(txt)  :</span>
<span class="go" style="color: grey;"> ['My emails are ', 'derp', 'dm1.net', ' and ', 'herp', 'dm2.com', '.']</span>
<span class="go" style="color: grey;">patt.sub('abc@efg.com', txt):</span>
<span class="go" style="color: grey;"> My emails are abc@efg.com and abc@efg.com.</span>

<span class="go" style="color: grey;">mtch.re          : &lt;_sre.SRE_Pattern object at 0xb78b6110&gt;</span>
<span class="go" style="color: grey;">mtch.pos         : 0</span>
<span class="go" style="color: grey;">mtch.endpos      : 44</span>
<span class="go" style="color: grey;">mtch.lastindex   : 2</span>
<span class="go" style="color: grey;">mtch.lastgroup   : domain</span>
<span class="go" style="color: grey;">mtch.string      : My emails are derp@dm1.net and herp@dm2.com.</span>
<span class="go" style="color: grey;">mtch.group()     : derp@dm1.net</span>
<span class="go" style="color: grey;">mtch.groups()    : ('derp', 'dm1.net')</span>
<span class="go" style="color: grey;">mtch.groupdict() : {'username': 'derp', 'domain': 'dm1.net'}</span>
<span class="go" style="color: grey;">mtch.start()     : 14</span>
<span class="go" style="color: grey;">mtch.end()       : 26</span>
<span class="go" style="color: grey;">mtch.span()      : (14, 26)</span></pre>
<br>
<b><span style="font-size: large;">Also see</span></b><br>
<ul>
<li>Doug Hellmann's PyMOTW chapter on <a href="http://www.doughellmann.com/PyMOTW/re/">re module</a>&nbsp;</li>
<li>The Python Standard Library <a href="http://docs.python.org/library/re.html">re module documentation</a></li>
<li><a href="http://docs.python.org/howto/regex.html">Regular Expression HOWTO</a></li>
</ul><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-02-27T23:16:00.000Z" itemprop="datePublished">28th February 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/compile" target="_self">compile</a> <a class="label" href="http://www.shutupandship.com/search/label/match" target="_self">match</a> <a class="label" href="http://www.shutupandship.com/search/label/module" target="_self">module</a> <a class="label" href="http://www.shutupandship.com/search/label/pattern" target="_self">pattern</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> <a class="label" href="http://www.shutupandship.com/search/label/re" target="_self">re</a> <a class="label" href="http://www.shutupandship.com/search/label/regex" target="_self">regex</a> <a class="label" href="http://www.shutupandship.com/search/label/regular%20expression" target="_self">regular expression</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/02/regular-expressions-in-python-re-module.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="Regular expressions in Python - the re module"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/02/regular-expressions-in-python-re-module.html" data-count="" data-size="" data-text="Regular expressions in Python - the re module"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/02/regular-expressions-in-python-re-module.html" data-count="" data-layout="" data-text="Regular expressions in Python - the re module"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="2 comments">
  <span class="bubble-content">2</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    View comments
    
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="2342725924793913107" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=2342725924793913107"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li><li class="item" data-id="5404832157828016614">
  
<div class="article hentry accept bind close connect handler http implementation listen python select server simplehttprequesthandler socket tcp tcpserver web_server " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="5404832157828016614">

  
  <div class="article-header">


<a class="ribbon date " title="20th February 2012" href="http://www.shutupandship.com/2012/02/how-web-server-is-implemented-in-python.html" itemprop="url">


  <div class="top ribbon-piece">Feb</div>
  <div class="bottom ribbon-piece">20</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/02/how-web-server-is-implemented-in-python.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="5404832157828016614">



How a web server is implemented in the Python Standard Library</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=5404832157828016614&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody"><div style="text-align: justify;">
</div>
<div class="separator" style="clear: both; text-align: center;">
</div>
<div style="text-align: -webkit-auto;">
<div>
<span style="font-family: inherit; line-height: 20px;">This article gives a brief overview of how&nbsp;</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace; line-height: 20px;">TCPServer</span><span style="font-family: inherit; line-height: 20px;">&nbsp;and&nbsp;</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace; line-height: 20px;">SimpleHTTPRequestHandler</span><span style="font-family: inherit; line-height: 20px;">&nbsp;are implemented in Python. Hopefully this will demystify the implementation details of a web server (albeit a very simple one)</span><span style="font-family: Times, &#39;Times New Roman&#39;, serif; line-height: 20px;">.</span></div>
<div>
<span style="line-height: 20px;"><span style="font-family: Times, &#39;Times New Roman&#39;, serif;"><br></span></span></div>
<div>
<span style="line-height: 20px;"><span style="font-family: Times, &#39;Times New Roman&#39;, serif;">Here is a demo web server that can&nbsp;</span></span><span style="font-family: Times, &#39;Times New Roman&#39;, serif; line-height: 20px;">serve files on the&nbsp;</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace; line-height: 20px;">localhost</span><span style="font-family: Times, &#39;Times New Roman&#39;, serif; line-height: 20px;">&nbsp;at port&nbsp;</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace; line-height: 20px;">8000</span><span style="font-family: Times, &#39;Times New Roman&#39;, serif; line-height: 20px;">&nbsp;by directly mapping the HTTP request URLs to the directory structure</span><span style="font-family: Times, &#39;Times New Roman&#39;, serif; line-height: 20px;">&nbsp;.</span></div>
<div>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="c" style="color: #60a0b0; font-style: italic;"># file: serve_local.py</span>
<span class="kn" style="color: #007020; font-weight: bold;">import</span> <span class="nn" style="color: #0e84b5; font-weight: bold;">SimpleHTTPServer</span><span class="o" style="color: #666666;">,</span> <span class="nn" style="color: #0e84b5; font-weight: bold;">SocketServer</span>
<span class="n">Handler</span> <span class="o" style="color: #666666;">=</span> <span class="n">SimpleHTTPServer</span><span class="o" style="color: #666666;">.</span><span class="n">SimpleHTTPRequestHandler</span>
<span class="n">httpd</span> <span class="o" style="color: #666666;">=</span> <span class="n">SocketServer</span><span class="o" style="color: #666666;">.</span><span class="n">TCPServer</span><span class="p">((</span><span class="s" style="color: #4070a0;">""</span><span class="p">,</span> <span class="mf" style="color: #40a070;">8000</span><span class="p">),</span> <span class="n">Handler</span><span class="p">)</span>
<span class="n">httpd</span><span class="o" style="color: #666666;">.</span><span class="n">serve_forever</span><span class="p">()</span></pre>
</div>
<div style="line-height: 20px;">
<span style="font-family: inherit;">Let's assume that&nbsp;</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">serve_local.py</span><span style="font-family: inherit;">&nbsp;and&nbsp;</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">sample.html</span><span style="font-family: inherit;">&nbsp;are both in the same folder.</span></div>
<div style="line-height: 20px;">
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px; line-height: normal;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="nv" style="color: #bb60d5;">$ </span>ls
serve_local.py 
sample.html
</pre>
</div>
</div>
<div style="line-height: 20px;">
<span style="font-family: inherit;">If you run </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">serve_local.py</span><span style="font-family: inherit;">, open</span><span style="font-family: inherit;">&nbsp;your browser and go to </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">http://localhost:8000/sample.html</span><span style="font-family: inherit;">, you will be able to view the contents of </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">sample.html</span><span style="font-family: inherit;"> in your browser.&nbsp;</span></div>
<div style="line-height: 20px;">
<span style="font-family: inherit;"><br></span></div>
<div>
<span style="font-family: inherit; line-height: 20px;">To understand the implementation, you need to have a prior knowledge of </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace; line-height: 20px;">socket</span><span style="font-family: inherit; line-height: 20px;">s and </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace; line-height: 20px;">select()</span><span style="font-family: inherit; line-height: 20px;">. If you don't know about either this article isn't really for you. I suggest you start with <a href="http://docs.python.org/howto/sockets.html">Socket Programming HOW TO</a> and Doug Hellman's PyMOTW chapters about sockets -&nbsp;</span><span style="line-height: 20px;"><a href="http://www.doughellmann.com/PyMOTW/socket/tcp.html">TCP/IP Client and Server</a>, and&nbsp;<a href="http://www.doughellmann.com/PyMOTW/select/">select – Wait for I/O Efficiently</a>.</span></div>
<div style="line-height: 20px;">
<span style="font-family: inherit;"><br></span></div>
</div>
<div style="text-align: -webkit-auto;">
<span style="line-height: 20px;"><span style="font-size: large;"><b><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">TCPServer</span><span style="font-family: inherit;"> under the hood</span></b></span></span></div>
<br>
<ul>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__init__</span>: When the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">TCPServer</span> is instantiated, a new <i>server</i> socket&nbsp;is created,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">socket.socket()</span>.&nbsp;</span></li>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">server_bind()</span>: The server socket is bound to the supplied server address and port,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">socket.bind()</span>.</span></li>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">server_activate()</span>: The server socket is then&nbsp;<i>activated</i> &nbsp;i.e. the socket is set to <i>listen</i> to incoming connections,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">socket.listen()</span>.</span></li>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">serve_forever()</span>: Now the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">TCPServer</span> object serves forever, i.e.</span><span style="line-height: 20px;">&nbsp;it uses &nbsp;the </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace; line-height: 20px;">select()</span><span style="font-family: inherit; line-height: 20px;">&nbsp;</span><span style="line-height: 20px;">system call to continually examine the status of the file descriptor associated with the server socket and check if there are any pending requests on it. When the socket is in listening mode, a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">socket.connect()</span> initiated by a client counts as a pending request.</span></li>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">get_request()</span>: &nbsp;when the server <i>gets</i> a request to connect,&nbsp;the server socket <i>accepts</i> the request,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">socket.accept()</span><span style="font-family: inherit;">,&nbsp;</span>and creates a new <i>request socket</i> for communicating with the client that sent that request.</span></li>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">process_request()</span>: After creating the request socket, the TCP server needs to process and close the request. Handling the request is delegated to <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">SimpleHTTPRequestHandler </span><span style="font-family: inherit;">(see the next section).</span></span></li>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">close_request()</span>: After the request is handled, the TCP server then closes the request socket,<span style="font-family: inherit;"> </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">socket.close()</span><span style="font-family: inherit;">.</span></span></li>
</ul>
<div>
<a href="http://yuml.me/3446a24" imageanchor="1" style="margin-left: 1em; margin-right: 1em; text-align: center;"><img border="0" height="156" width="640" data-src="http://yuml.me/3446a24" src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="deferred"></a></div>
<div>
<span style="line-height: 20px;"><br></span></div>
<div>
<span style="line-height: 20px;"><span style="font-size: large;"><b><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">SimpleHTTPRequestHandler</span> under the hood</b></span></span></div>
<div>
<ul>
<li><span style="line-height: 20px;">A soon as the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">RequestHandler</span>&nbsp;is instantiated, the request is&nbsp;<i>setup</i>,&nbsp;<i>handled</i>&nbsp;and&nbsp;<i>closed</i>.</span></li>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">setup()</span>: During the setup phase,&nbsp;<i>file like objects</i>&nbsp;(<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">rfile</span>&nbsp;and&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">wfile</span>) are created for the request socket to read from and to write to the request socket,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">socket.makefile(). </span><span style="font-family: inherit;">These file objects are used to&nbsp;communicate with the client.</span></span></li>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">handle()</span>: The HTTP request sent by the client is read from the request socket&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">rfile</span>&nbsp;(using&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">readline</span>) and the HTTP message is&nbsp;<span style="font-family: inherit;"><i>parsed</i></span>. The file location that needs to be served is translated to the directory location. The HTML file is copied to the output file object (<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">wfile</span>) using&nbsp;</span><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">shutil.copyfileobj</span><span style="font-family: inherit;">&nbsp;which is then read by the client from the socket.</span></span></li>
<li><span style="line-height: 20px;"><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">close()</span>: To finish up,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">rfile</span>&nbsp;and&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">wfile</span>&nbsp;file objects associated with the request socket are closed.</span></li>
</ul>
<div>
<span style="line-height: 20px;">At a very basic level, the TCP server is just an object oriented implementation of the chain of events that must happen at a socket level to establish the communication with the client and the Handler handles the details about how a request must be responded to. This keeps the two concerns nicely separated and we can easily change the way a request is handled, just by changing the request handler class that the server is initialized with.</span></div>
</div>
<br><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-02-20T15:00:00.000Z" itemprop="datePublished">20th February 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/accept" target="_self">accept</a> <a class="label" href="http://www.shutupandship.com/search/label/bind" target="_self">bind</a> <a class="label" href="http://www.shutupandship.com/search/label/close" target="_self">close</a> <a class="label" href="http://www.shutupandship.com/search/label/connect" target="_self">connect</a> <a class="label" href="http://www.shutupandship.com/search/label/Handler" target="_self">Handler</a> <a class="label" href="http://www.shutupandship.com/search/label/HTTP" target="_self">HTTP</a> <a class="label" href="http://www.shutupandship.com/search/label/implementation" target="_self">implementation</a> <a class="label" href="http://www.shutupandship.com/search/label/listen" target="_self">listen</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> <a class="label" href="http://www.shutupandship.com/search/label/select" target="_self">select</a> <a class="label" href="http://www.shutupandship.com/search/label/server" target="_self">server</a> <a class="label" href="http://www.shutupandship.com/search/label/SimpleHTTPRequestHandler" target="_self">SimpleHTTPRequestHandler</a> <a class="label" href="http://www.shutupandship.com/search/label/socket" target="_self">socket</a> <a class="label" href="http://www.shutupandship.com/search/label/TCP" target="_self">TCP</a> <a class="label" href="http://www.shutupandship.com/search/label/TCPServer" target="_self">TCPServer</a> <a class="label" href="http://www.shutupandship.com/search/label/web%20server" target="_self">web server</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/02/how-web-server-is-implemented-in-python.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="How a web server is implemented in the Python Standard Library"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/02/how-web-server-is-implemented-in-python.html" data-count="" data-size="" data-text="How a web server is implemented in the Python Standard Library"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/02/how-web-server-is-implemented-in-python.html" data-count="" data-layout="" data-text="How a web server is implemented in the Python Standard Library"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="0 comments">
  <span class="bubble-content">0</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    
    Add a comment
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="5404832157828016614" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=5404832157828016614"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li><li class="item" data-id="5716367654576351462">
  
<div class="article hentry associative_array cpython data_structure dict dictionary eq hash hash hash_collision hash_function hash_table hashing implementation open_addressing probing python " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="5716367654576351462">

  
  <div class="article-header">


<a class="ribbon date " title="13th February 2012" href="http://www.shutupandship.com/2012/02/how-hash-collisions-are-resolved-in.html" itemprop="url">


  <div class="top ribbon-piece">Feb</div>
  <div class="bottom ribbon-piece">13</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/02/how-hash-collisions-are-resolved-in.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="5716367654576351462">



How hash collisions are resolved in Python dictionaries</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=5716367654576351462&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody">After reading about the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__hash__</span> method in Python, I was curious to find out what would happen if I create a class where all the instances have the hash value, but do not compare equal. In the following code, the dictionary <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">d</span> has three keys with all the same hash value, but are not equal (i.e. <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">C() != C(), but hash(C()) == hash(C())</span>).<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">class</span> <span class="nc" style="color: #0e84b5; font-weight: bold;">C</span><span class="p">(</span><span class="nb" style="color: #007020;">object</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__hash__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="mf" style="color: #40a070;">42</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__eq__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="bp" style="color: #007020;">False</span>
<span class="n">d</span> <span class="o" style="color: #666666;">=</span> <span class="p">{</span><span class="n">C</span><span class="p">():</span> <span class="mf" style="color: #40a070;">1</span><span class="p">,</span> <span class="n">C</span><span class="p">():</span> <span class="mf" style="color: #40a070;">2</span><span class="p">,</span> <span class="n">C</span><span class="p">():</span> <span class="mf" style="color: #40a070;">3</span><span class="p">}</span>
<span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="n">d</span></pre>
Here is the output<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="p">{</span><span class="o" style="color: #666666;">&lt;</span><span class="n">__main__</span><span class="o" style="color: #666666;">.</span><span class="n">C</span> <span class="nb" style="color: #007020;">object</span> <span class="n">at</span> <span class="mf" style="color: #40a070;">0</span><span class="n">x10162c5d0</span><span class="o" style="color: #666666;">&gt;</span><span class="p">:</span> <span class="mf" style="color: #40a070;">2</span><span class="p">,</span>
 <span class="o" style="color: #666666;">&lt;</span><span class="n">__main__</span><span class="o" style="color: #666666;">.</span><span class="n">C</span> <span class="nb" style="color: #007020;">object</span> <span class="n">at</span> <span class="mf" style="color: #40a070;">0</span><span class="n">x10162c6d0</span><span class="o" style="color: #666666;">&gt;</span><span class="p">:</span> <span class="mf" style="color: #40a070;">1</span><span class="p">,</span>
 <span class="o" style="color: #666666;">&lt;</span><span class="n">__main__</span><span class="o" style="color: #666666;">.</span><span class="n">C</span> <span class="nb" style="color: #007020;">object</span> <span class="n">at</span> <span class="mf" style="color: #40a070;">0</span><span class="n">x10162c710</span><span class="o" style="color: #666666;">&gt;</span><span class="p">:</span> <span class="mf" style="color: #40a070;">3</span><span class="p">}</span></pre>
As you can see, even though the hashes of all the keys are equal, the dict can happily accept them as keys.<br>
This lead me to try and understand how Python dictionaries resolve hash collisions, a question that made me go spelunking into the source code of CPython.<br>
<br>
A <b>dictionary</b> (a.k.a. <b>associative array</b>) is just a data structure that is composed of key value pairs and each key can appear only once. There are many ways of implementing dictionaries. Dictionaries can be implemented in a variety of ways - for example using linked list, binary search trees, hash tables etc.&nbsp;Here is a quick summary of how dictionaries are implemented in Python.<br>
<ul>
<li>Python dictionaries are implemented as <b>hash tables</b>. Hash tables consist of slots, and keys are mapped to the <b>slots</b> via a <i>hashing function</i>.</li>
<li>Hash table implementations must allow for <b>hash collisions</b> i.e. even if two keys have same hash value, the implementation of the table must have a strategy to insert and retrieve the key and value pairs unambiguously.</li>
<li>Python dict uses <b>open addressing</b> to resolve hash collisions (see <a href="http://hg.python.org/cpython/file/52f68c95e025/Objects/dictobject.c">dictobject.c</a>:296-297). In open addressing, hash collisions are resolved by <b>probing</b> (explained below) .</li>
<li>The hash table is just a contiguous block of memory (like an array, so you can do <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">O(1)</span> lookup by index).&nbsp;</li>
<li><b>Each slot in the hash table can store one and only one entry.</b> This is important.</li>
<li>Each entry in the table actually a combination of the three items -<b>&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">&lt;hash, key, value&gt;</span>.</b> This is implemented as a C struct (see <a href="http://hg.python.org/cpython/file/52f68c95e025/Include/dictobject.h">dictobject.h</a>:51-56).</li>
<li>When a new dict is initialized, it starts with 8 slots. (see&nbsp;<a href="http://hg.python.org/cpython/file/52f68c95e025/Include/dictobject.h">dictobject.h</a>:49)</li>
<li>When adding entries to the table, we start with some slot, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">i</span> that is based on the hash of the key. CPython uses initial<span style="font-family: &#39;Courier New&#39;, Courier, monospace;"> i = hash(key) &amp; mask</span>, where <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">mask = PyDictMINSIZE - 1</span>, but that's not really important. Just note that the initial slot, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">i</span>, that is checked depends on the hash of the key.</li>
<li>If that slot is empty, the entry is added to the slot (by entry, I mean, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">&lt;hash|key|value&gt;</span>). But what if that slot is occupied!? Most likely because another entry has the same hash (hash collision!)</li>
<li>If the slot is occupied, CPython (and even PyPy) compares the hash <i>and </i>the key (by compare I mean == comparison not the<span style="font-family: Times, &#39;Times New Roman&#39;, serif;"> </span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">is</span> comparison) of the entry in the slot against the key of the current entry to be inserted (<a href="http://hg.python.org/cpython/file/52f68c95e025/Objects/dictobject.c">dictobject.c</a>337,344-345). If both match, then it thinks the entry already exists, gives up and moves on to the next entry to be inserted. If either hash or the key don't match, it starts probing.</li>
<li><b>Probing</b> just means it searches the slots by slot to find an empty slot. Technically we could just go one by one, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">i+1</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">i+2</span>, ... and use the first available one (that's linear probing). But for reasons explained beautifully in the comments (see&nbsp;<a href="http://hg.python.org/cpython/file/52f68c95e025/Objects/dictobject.c">dictobject.c</a>:33-126), CPython uses random probing. In random probing, the next slot is picked in a pseudo random order. The entry is added to the first empty slot. For this discussion, the actual algorithm used to pick the next slot is not really important (see&nbsp;<a href="http://hg.python.org/cpython/file/52f68c95e025/Objects/dictobject.c">dictobject.c</a>:33-126 for the algorithm for probing). What is important is that the slots are probed until first empty slot is found.</li>
<li>The same thing happens for lookups, just starts with the initial slot <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">i</span> (where <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">i</span> depends on the hash of the key). If the hash and the key both don't match the entry in the slot, it starts probing, until it finds a slot with a match. If all slots are exhausted, it reports a fail.</li>
<li>To avoid slowing down lookups, the dict will be resized when it is two-thirds full (see&nbsp;<a href="http://hg.python.org/cpython/file/52f68c95e025/Include/dictobject.h">dictobject.h</a>:64-65).</li>
</ul>
<div>
There you go! The Python implementation of dict checks for both hash equality of two keys and the normal equality (==) of the keys when inserting items. So in summary, if there are two keys, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">a</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">b</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">hash(a)==hash(b)</span>, but <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">a!=b</span>, then both can exist harmoniously as keys in a Python dict. But if <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">hash(a)==hash(b)</span> <i>and</i> <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">a==b</span>, then they cannot both be the keys in the same dict.&nbsp;</div>
<div>
<br></div>
<div>
<div>
<span style="font-size: large;">See Also</span></div>
<div>
<ul>
<li>Laurent Luce's blog post about <a href="http://www.laurentluce.com/posts/python-dictionary-implementation/">Python dictionary implementation</a>. This is an extremely detailed explanation of Python dictionary implementation. This is a blog post that I wish I had read before I started going through the source code. Would have saved me a lot of time. BTW, Laurent also has blog posts about how strings, lists, integers are implemented in Python too. Check them out!</li>
<li>The <a href="http://stackoverflow.com/questions/9010222/">Stack Overflow question</a> that lead me to do the research for this blog post.</li>
<li>You should definitely check out the CPython source code for&nbsp;<a href="http://hg.python.org/cpython/file/52f68c95e025/Objects/dictobject.c">dictobject.c</a>&nbsp;and&nbsp;<a href="http://hg.python.org/cpython/file/52f68c95e025/Include/dictobject.h">dictobject.h</a>. Even if you don't understand C, the comments at the beginning of those files are invaluable.&nbsp;</li>
</ul>
</div>
</div><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-02-13T15:00:00.000Z" itemprop="datePublished">13th February 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/__eq__" target="_self">__eq__</a> <a class="label" href="http://www.shutupandship.com/search/label/__hash__" target="_self">__hash__</a> <a class="label" href="http://www.shutupandship.com/search/label/associative%20array" target="_self">associative array</a> <a class="label" href="http://www.shutupandship.com/search/label/cpython" target="_self">cpython</a> <a class="label" href="http://www.shutupandship.com/search/label/data%20structure" target="_self">data structure</a> <a class="label" href="http://www.shutupandship.com/search/label/dict" target="_self">dict</a> <a class="label" href="http://www.shutupandship.com/search/label/dictionary" target="_self">dictionary</a> <a class="label" href="http://www.shutupandship.com/search/label/hash" target="_self">hash</a> <a class="label" href="http://www.shutupandship.com/search/label/hash%20collision" target="_self">hash collision</a> <a class="label" href="http://www.shutupandship.com/search/label/hash%20function" target="_self">hash function</a> <a class="label" href="http://www.shutupandship.com/search/label/hash%20table" target="_self">hash table</a> <a class="label" href="http://www.shutupandship.com/search/label/hashing" target="_self">hashing</a> <a class="label" href="http://www.shutupandship.com/search/label/implementation" target="_self">implementation</a> <a class="label" href="http://www.shutupandship.com/search/label/open%20addressing" target="_self">open addressing</a> <a class="label" href="http://www.shutupandship.com/search/label/probing" target="_self">probing</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/02/how-hash-collisions-are-resolved-in.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="How hash collisions are resolved in Python dictionaries"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/02/how-hash-collisions-are-resolved-in.html" data-count="" data-size="" data-text="How hash collisions are resolved in Python dictionaries"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/02/how-hash-collisions-are-resolved-in.html" data-count="" data-layout="" data-text="How hash collisions are resolved in Python dictionaries"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="3 comments">
  <span class="bubble-content">3</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    View comments
    
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="5716367654576351462" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=5716367654576351462"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li><li class="item" data-id="8110401007933673551">
  
<div class="article hentry logging module overview python " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
    <meta itemprop="image_url" content="http://2.bp.blogspot.com/-leSV7wGIIoU/TyxxkDOkesI/AAAAAAAACSI/y2P5lOVcOTg/s640/logging_main_classes.png">
    <meta itemprop="thumbnailUrl" content="http://2.bp.blogspot.com/-leSV7wGIIoU/TyxxkDOkesI/AAAAAAAACSI/y2P5lOVcOTg/s640/logging_main_classes.png">
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="8110401007933673551">

  
  <div class="article-header">


<a class="ribbon date " title="6th February 2012" href="http://www.shutupandship.com/2012/02/how-python-logging-module-works.html" itemprop="url">


  <div class="top ribbon-piece">Feb</div>
  <div class="bottom ribbon-piece">6</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/02/how-python-logging-module-works.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="8110401007933673551">



How Python logging module works</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=8110401007933673551&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody">Have you have ever tried debugging your code by adding a bunch of print statements all over? Did you quickly lose track of what you were trying to find in a sea of messages that were printed out? Did you feel like you needed a better way to log the messages in production mode to go back and debug when there is an error? If yes, you might want to check out the built-in <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">logging</span> module in Python. It is very flexible and allows you to log to multiple destinations with a lot of options to filter the messages before logging. Here is an overview of how this module works along with a glimpse of its internal architecture.<br>
<br>
<b><span style="font-size: large;">How the logging process works - the basics</span></b><br>
<br>
First let me introduce the main cast of the logging module - <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handler</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Formatter</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">LogRecord</span>.<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-leSV7wGIIoU/TyxxkDOkesI/AAAAAAAACSI/y2P5lOVcOTg/s1600/logging_main_classes.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="284" width="640" data-src="http://2.bp.blogspot.com/-leSV7wGIIoU/TyxxkDOkesI/AAAAAAAACSI/y2P5lOVcOTg/s640/logging_main_classes.png" src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="deferred"></a></div>
<br>
This is how the logging process works.<br>
<ul>
<li><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Loggers</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handlers</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">LogRecords</span> have a <i>severity level</i>. These are the default levels defined in the module - <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">CRITICAL = 50</span><span style="font-family: inherit;">,</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;"> ERROR = 40<span style="font-family: Times;">,</span>&nbsp;WARNING = 30<span style="font-family: Times;">,</span>&nbsp;INFO = 20<span style="font-family: Times;">,</span>&nbsp;DEBUG = 10<span style="font-family: Times;">,</span>&nbsp;NOTSET = 0</span>. You can create your own or customize them.</li>
<li>You send messages to be logged to a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span> using the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">log</span> method of the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span>. The log method needs two parameters - a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">msg</span> (message) and the severity <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">level</span>.</li>
<li><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span> also has a few convenience methods defined - <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">debug<span style="font-family: Times;">,</span>&nbsp;warning<span style="font-family: Times;">,</span>&nbsp;error<span style="font-family: Times;">,</span>&nbsp;critical</span> etc. each of which has a pre-defined severity level. These methods are identical to the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">log</span> method (except that you don’t have to specify the level, because the level is implicit).</li>
<li><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span> looks at the message and ignores it if the message level is less severe than its own level. If not, it’ll create a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">LogRecord</span> object from the message string and pass the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">LogRecord</span> to its <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handlers</span> (and also to its parents; more on that in a moment).</li>
<li>The <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handler</span> is responsible for outputting your message - to a file, stream, socket or where ever you want it to go. You can add a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handler</span> to the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span> by using the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">addHandler</span> method of the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span>. A <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span> can have multiple <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handlers</span> attached. There are a lot of custom handlers (like <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">FileHandler<span style="font-family: Times;">,</span>&nbsp;RotatingFileHandler<span style="font-family: Times;">,</span>&nbsp;HTTPHandler</span>, etc.) in the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">logging</span> module. Use them to make your life easier.</li>
<li>The <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handler</span> also has a level. Once the Handler receives the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">LogRecord</span> from the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span>, it will ignore any <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">LogRecord</span> that has a severity level that is smaller than its own level. Otherwise it passes the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">LogRecord</span> to its <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Formatter</span>.</li>
<li>Each <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handler</span> has one <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Formatter</span> (which you can customize to your taste). The <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Formatter</span> formats the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">LogRecord</span> message to the desired format and sends the formatted text back to the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handler</span>. You can set the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Formatter</span> for a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handler</span> with the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">setFormatter</span> method.</li>
<li>Finally the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handler</span> receives the message as formatted text back from the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Formatter</span> and emits it to your destination. That’s it!</li>
</ul>
One more thing.<br>
<ul>
<li>All loggers are arranged in a hierarchy based on their name. This hierarchy is a dotted namespace hierarchy of logger names. Just a fancy way of saying that <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span> named '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">A</span>' is a parent of '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">A.B</span>' which in turn is a parent of '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">A.B.C</span>' and so on.</li>
<li>The <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">root</span> logger is at the top of this hierarchy. The name of the root logger is an empty string: ''. In the case above, the parent of '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">A</span>' is the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">root</span>.</li>
<li>The hierarchy is created and managed automatically by the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">logging</span> module. If you create a new logger '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">A.B.E</span>' it’s parent will automatically be '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">A.B</span>', and if you create a new logger '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">B</span>' it’s parent will be the root.</li>
<li>Any message sent to a logger is automatically sent to its parent which in turn sends it to its parent and so on. For example message sent to '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">A.B.C</span>' is sent to '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">A.B</span>' and then to '<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">A</span>' and so on. You can turn off this upward propagation by setting the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">propagate</span> attribute of a logger to <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">0</span>. Once the parent logger receives the message all steps outlined above are restarted.</li>
</ul>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-pnf_Uv4NVi8/TyxyWZhL9BI/AAAAAAAACSQ/8EEy8NQrS5s/s1600/logger_hierarchy.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="152" width="400" data-src="http://3.bp.blogspot.com/-pnf_Uv4NVi8/TyxyWZhL9BI/AAAAAAAACSQ/8EEy8NQrS5s/s400/logger_hierarchy.png" src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="deferred"></a></div>
<br>
<b><span style="font-size: large;">How the logging process works - advanced</span></b><br>
<br>
Now that you know the basic plot, let me introduce one more character - the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Filter</span>.<br>
<ul>
<li><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Filter</span> as the name suggests, allows you to filter a message before you log it. Yes, messages are filtered based on the level setting, but adding a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Filter</span> gives you more fine grained control of messages you log.</li>
<li>Both <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Loggers</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handlers</span> can have multiple <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Filters</span>. You can add <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Filters</span> using <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">addFilter</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">removeFilter</span> methods.</li>
<li>When a <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Logger</span>/<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Handler</span> receives a message, it consults all of its filters. If the filter(record) method on any of the Filters attached returns False (or 0) the message is dropped.</li>
<li>The official documentation, though detailed, is actually pretty confusing about the role of <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Filters</span>. This is a pity; because Filters can be handy when you want to drop a message based on a regular expression, error code, contextual information and pretty much anything else. The default <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Filter</span> is pretty much useless (and the doc string is very confusing too). Just inherit from the default filter and override the filter method according to what you want to filter out. (Be sure to download the source for <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">logging</span> module and check out the unit tests which have some good examples. See the references at the end of this post.)</li>
</ul>
<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-tKaXIr1egUk/TyygjbZ4ASI/AAAAAAAACSY/WAGB6mUY1Y0/s1600/logging_advanced_classes.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" width="350" data-src="http://2.bp.blogspot.com/-tKaXIr1egUk/TyygjbZ4ASI/AAAAAAAACSY/WAGB6mUY1Y0/s640/logging_advanced_classes.png" src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="deferred"></a></div>
<br>
<span style="font-size: large;"><b>How to use the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">logging</span> module</b></span><br>
<br>
Here is a quick demo of how you can use the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">logging</span> module.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="kn" style="color: #007020; font-weight: bold;">import</span> <span class="nn" style="color: #0e84b5; font-weight: bold;">logging</span>
<span class="c" style="color: #60a0b0; font-style: italic;"># create logger</span>
<span class="n">lgr</span> <span class="o" style="color: #666666;">=</span> <span class="n">logging</span><span class="o" style="color: #666666;">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s" style="color: #4070a0;">'myapp'</span><span class="p">)</span>
<span class="n">lgr</span><span class="o" style="color: #666666;">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o" style="color: #666666;">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="c" style="color: #60a0b0; font-style: italic;"># add a file handler</span>
<span class="n">fh</span> <span class="o" style="color: #666666;">=</span> <span class="n">logging</span><span class="o" style="color: #666666;">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="s" style="color: #4070a0;">'myapp.log'</span><span class="p">)</span>
<span class="n">fh</span><span class="o" style="color: #666666;">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o" style="color: #666666;">.</span><span class="n">WARNING</span><span class="p">)</span>
<span class="c" style="color: #60a0b0; font-style: italic;"># create a formatter and set the formatter for the handler.</span>
<span class="n">frmt</span> <span class="o" style="color: #666666;">=</span> <span class="n">logging</span><span class="o" style="color: #666666;">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s" style="color: #4070a0;">'</span><span class="si" style="color: #70a0d0; font-style: italic;">%(asctime)s</span><span class="s" style="color: #4070a0;"> - </span><span class="si" style="color: #70a0d0; font-style: italic;">%(name)s</span><span class="s" style="color: #4070a0;"> - </span><span class="si" style="color: #70a0d0; font-style: italic;">%(levelname)s</span><span class="s" style="color: #4070a0;"> - </span><span class="si" style="color: #70a0d0; font-style: italic;">%(message)s</span><span class="s" style="color: #4070a0;">'</span><span class="p">)</span>
<span class="n">fh</span><span class="o" style="color: #666666;">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">frmt</span><span class="p">)</span>
<span class="c" style="color: #60a0b0; font-style: italic;"># add the Handler to the logger</span>
<span class="n">lgr</span><span class="o" style="color: #666666;">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">fh</span><span class="p">)</span>
<span class="c" style="color: #60a0b0; font-style: italic;"># You can now start issuing logging statements in your code</span>
<span class="n">lgr</span><span class="o" style="color: #666666;">.</span><span class="n">debug</span><span class="p">(</span><span class="s" style="color: #4070a0;">'debug message'</span><span class="p">)</span> <span class="c" style="color: #60a0b0; font-style: italic;"># This won't print to myapp.log</span>
<span class="n">lgr</span><span class="o" style="color: #666666;">.</span><span class="n">info</span><span class="p">(</span><span class="s" style="color: #4070a0;">'info message'</span><span class="p">)</span> <span class="c" style="color: #60a0b0; font-style: italic;"># Neither will this.</span>
<span class="n">lgr</span><span class="o" style="color: #666666;">.</span><span class="n">warn</span><span class="p">(</span><span class="s" style="color: #4070a0;">'Checkout this warning.'</span><span class="p">)</span> <span class="c" style="color: #60a0b0; font-style: italic;"># This will show up in the log file.</span>
<span class="n">lgr</span><span class="o" style="color: #666666;">.</span><span class="n">error</span><span class="p">(</span><span class="s" style="color: #4070a0;">'An error goes here.'</span><span class="p">)</span> <span class="c" style="color: #60a0b0; font-style: italic;"># and so will this.</span>
<span class="n">lgr</span><span class="o" style="color: #666666;">.</span><span class="n">critical</span><span class="p">(</span><span class="s" style="color: #4070a0;">'Something critical happened.'</span><span class="p">)</span> <span class="c" style="color: #60a0b0; font-style: italic;"># and this one too.</span></pre>
Here is a sample output of the log file myapp.log.<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="go" style="color: grey;">2011-10-24 10:16:34,164 - myapp - WARNING - Checkout this warning.</span>
<span class="go" style="color: grey;">2011-10-24 10:16:34,164 - myapp - ERROR - An error goes here.</span>
<span class="go" style="color: grey;">2011-10-24 10:16:34,164 - myapp - CRITICAL - Something critical happened.</span></pre>
</div>
Note that this is a very simple example. The official documentation for the logging module is excellent and has a lot of examples.<br>
<br>
<span style="font-size: large;"><b>Summary</b></span><br>
<br>
The <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">logging</span> module makes it very easy to log the messages with varying degrees of severity to various different destinations. Use it instead of relying on print statements to debug your code. As you code grows in complexity, having the right logs will make debugging much easier.<br>
<br>
<b><span style="font-size: large;">See also</span></b><br>
<ul>
<li><a href="http://www.red-dove.com/python_logging.html">A logging System for Python</a> by Vinay Sajip (the original author and maintainer of the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">logging</span> module). Be sure to download the source code from the site and check out the unit tests especially <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">log_test18.py</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">log_test20.py</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">log_test21.py</span> which have good examples on using <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Filters</span>.</li>
<li><a href="http://www.python.org/dev/peps/pep-0282">PEP 282</a> - A Logging system.</li>
<li><a href="http://docs.python.org/library/logging.html">Python official documentation</a> for the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">logging</span> Module (of course).</li>
</ul><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-02-06T14:00:00.000Z" itemprop="datePublished">6th February 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/logging" target="_self">logging</a> <a class="label" href="http://www.shutupandship.com/search/label/module" target="_self">module</a> <a class="label" href="http://www.shutupandship.com/search/label/overview" target="_self">overview</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/02/how-python-logging-module-works.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="How Python logging module works"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/02/how-python-logging-module-works.html" data-count="" data-size="" data-text="How Python logging module works"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/02/how-python-logging-module-works.html" data-count="" data-layout="" data-text="How Python logging module works"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="0 comments">
  <span class="bubble-content">0</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    
    Add a comment
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="8110401007933673551" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=8110401007933673551"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li><li class="item" data-id="7711113635579802789">
  
<div class="article hentry codec encoding file python text_processing unicode utf8 " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="7711113635579802789">

  
  <div class="article-header">


<a class="ribbon date " title="30th January 2012" href="http://www.shutupandship.com/2012/01/working-with-text-in-python-use-unicode.html" itemprop="url">


  <div class="top ribbon-piece">Jan</div>
  <div class="bottom ribbon-piece">30</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/01/working-with-text-in-python-use-unicode.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="7711113635579802789">



Working with text in Python? Use Unicode!</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=7711113635579802789&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody">If you work with plain text, HTML/XML, or any other text-based files, do yourself a favor and convert the data to unicode as soon as you read the file!. This will let you treat text as sequence of characters (as it is supposed to be treated) and not as a sequence of bytes. Let’s go over some gotchas of not using unicode. BTW, this article deals with the 2.X flavor of Python. In Python 3.X, str holds unicode by default and to work with sequence of bytes, there is a new data type called bytes. This is great because it reduces a lot of headaches and mistakes by mixing text and bytes together.<br>
<br>
<b><span style="font-size: large;">Quick overview</span></b><br>
<br>
But before we get started, don’t know what Unicode is? Never heard of UTF-8? Let’s <i>zip through </i>some of the Unicode fundamentals.<br>
<br>
Unicode is a standard that assigns a unique number (called a <i>code point</i>) for every character that you can think of in any language (from English to Arabic to Devanagari to Chinese and beyond). Code points are represented as <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">U+ </span>followed by the code point value. For example, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">U+73AB</span> is the code point for the Chinese character&nbsp;玫&nbsp;(<i>rose</i>).<br>
<br>
Encoding defines a way of representing a given character as a sequence of bits (or bytes) so that they can be physically stored, transmitted etc. There are many encodings, like UTF-8, ASCII, etc. each of which may represent the same character differently (i.e. using different byte sequences of different lengths).<br>
<br>
Not all characters can represented in all encodings. Many of the encodings are old, and were defined before Unicode standard was defined. <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">UTF-8,</span> <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">UTF-16</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">UTF-32</span> are completely unicode compatible and can represent any unicode character.<br>
<br>
In Python unicode objects can be created using the a literal syntax similar to that of strings. All of these are unicode objects - <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">u'Hello'</span>,<span style="font-family: &#39;Courier New&#39;, Courier, monospace;"> u'Andr\xe9'</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">u'Rose is a \u73ab' </span>etc. (note the <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">u</span> in front of the quoted literal). There are three escape sequences to represent a character by a code point directly-<span style="font-family: &#39;Courier New&#39;, Courier, monospace;"> \x</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\u</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\U</span> - and they must be followed by 2, 4 and 8 hex digits respectively. In the preceding example <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\xe9</span> is an escape sequence that represents the code point <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">U+00E9</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\u73ab</span> is an escape sequence that represents the code point <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">U+73AB</span>.<br>
<br>
<b>Note</b>:&nbsp;<i>A Unicode object is a sequence of code points and a python string is a sequence of bytes. They may look similiar, but they are not the same!</i><br>
<br>
<span style="font-size: large;"><b>A rose in many encodings</b></span><br>
<br>
Let’s encode 玫 (rose in Chinese, unicode code point: <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">U+73AB</span>), in multiple encodings and examine the bytes.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="n">encodings</span> <span class="o" style="color: #666666;">=</span> <span class="p">[</span><span class="s" style="color: #4070a0;">'big5'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'big5hkscs'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'cp950'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'gb2312'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'gbk'</span><span class="p">,</span>
            <span class="s" style="color: #4070a0;">'gb18030'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'hz'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'iso2022_jp_2'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'utf_16'</span><span class="p">,</span>
            <span class="s" style="color: #4070a0;">'utf_16_be'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'utf_16_le'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'utf_8'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'utf_8_sig'</span><span class="p">]</span>
<span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"Rose (code point U+73AB) in various encodings"</span>
<span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"*"</span><span class="o" style="color: #666666;">*</span><span class="mf" style="color: #40a070;">45</span>
<span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">e</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="n">encodings</span><span class="p">:</span>
    <span class="n">rose_encoded</span> <span class="o" style="color: #666666;">=</span> <span class="n">rose_uni</span><span class="o" style="color: #666666;">.</span><span class="n">encode</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'</span><span class="si" style="color: #70a0d0; font-style: italic;">%12s</span><span class="s" style="color: #4070a0;">:'</span> <span class="o" style="color: #666666;">%</span><span class="n">e</span><span class="p">,</span>
    <span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">c</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="n">rose_encoded</span><span class="p">:</span>
        <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'</span><span class="si" style="color: #70a0d0; font-style: italic;">%02X</span><span class="s" style="color: #4070a0;">'</span> <span class="o" style="color: #666666;">%</span><span class="nb" style="color: #007020;">ord</span><span class="p">(</span><span class="n">c</span><span class="p">),</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'</span><span class="se" style="color: #4070a0; font-weight: bold;">\n</span><span class="s" style="color: #4070a0;">'</span></pre>
Here is the output. As you can notice, the encoded representation is anywhere between 2 and 9 bytes depending on how it’s encoded.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="go" style="color: grey;">Rose (code point U+73AB) in various encodings</span>
<span class="go" style="color: grey;">*********************************************</span>
<span class="go" style="color: grey;">        big5: AA B4 </span>
<span class="go" style="color: grey;">   big5hkscs: AA B4 </span>
<span class="go" style="color: grey;">       cp950: AA B4 </span>
<span class="go" style="color: grey;">      gb2312: C3 B5 </span>
<span class="go" style="color: grey;">         gbk: C3 B5 </span>
<span class="go" style="color: grey;">     gb18030: C3 B5 </span>
<span class="go" style="color: grey;">          hz: 7E 7B 43 35 7E 7D </span>
<span class="go" style="color: grey;">iso2022_jp_2: 1B 24 28 44 4B 60 1B 28 42 </span>
<span class="go" style="color: grey;">      utf_16: FF FE AB 73 </span>
<span class="go" style="color: grey;">   utf_16_be: 73 AB </span>
<span class="go" style="color: grey;">   utf_16_le: AB 73 </span>
<span class="go" style="color: grey;">       utf_8: E7 8E AB </span>
<span class="go" style="color: grey;">   utf_8_sig: EF BB BF E7 8E AB </span>
<span class="go" style="color: grey;">Characters and Bytes</span></pre>
A byte or a sequence of bytes does not have any meaning by itself. It only derives meaning from the context in which it is interpreted. For example, let’s say you read a byte - <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">0x41</span> - from a file. What does this byte mean? <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">0x41</span> is ASCII for A. So it must be the letter A. Are you sure? What if the file you read is an image file? Does the byte <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">0x41</span> still <i>mean</i> A?<br>
<br>
When dealing with text files, it helps to forget all about reading and writing bytes and to shift the thinking to reading and writing characters. And this is where unicode helps.<br>
<br>
<b>Note</b>:<i>&nbsp;Remember, a character ain’t just one byte long!</i><br>
<br>
<b><span style="font-size: large;">Why should you use Unicode?</span></b><br>
<br>
Okay, now that we have the basics, let’s see why we should really work with unicode (sequence of characters or code points) and avoid strings (sequence of bytes) as much as possible when processing text files. Let’s write a Chinese character to a file in UTF-8 encoding.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">save_utf8_file</span><span class="p">():</span>
    <span class="k" style="color: #007020; font-weight: bold;">with</span> <span class="nb" style="color: #007020;">open</span><span class="p">(</span><span class="s" style="color: #4070a0;">'aroseisarose.txt'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'wb'</span><span class="p">)</span> <span class="k" style="color: #007020; font-weight: bold;">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o" style="color: #666666;">.</span><span class="n">write</span><span class="p">(</span><span class="s" style="color: #4070a0;">u'A </span><span class="se" style="color: #4070a0; font-weight: bold;">\u73ab</span><span class="s" style="color: #4070a0;"> is a rose'</span><span class="o" style="color: #666666;">.</span><span class="n">encode</span><span class="p">(</span><span class="s" style="color: #4070a0;">'utf_8'</span><span class="p">))</span>
        
<span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">__name__</span> <span class="o" style="color: #666666;">==</span> <span class="s" style="color: #4070a0;">'__main__'</span><span class="p">:</span>
    <span class="n">save_utf8_file</span><span class="p">()</span></pre>
Now let’s try to read the text from the file and see why unicode makes our life simple.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">read_utf8_file</span><span class="p">():</span>
    <span class="k" style="color: #007020; font-weight: bold;">with</span> <span class="nb" style="color: #007020;">open</span><span class="p">(</span><span class="s" style="color: #4070a0;">'aroseisarose.txt'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'rb'</span><span class="p">)</span> <span class="k" style="color: #007020; font-weight: bold;">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">f</span><span class="o" style="color: #666666;">.</span><span class="n">read</span><span class="p">()</span>

<span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">__name__</span> <span class="o" style="color: #666666;">==</span> <span class="s" style="color: #4070a0;">'__main__'</span><span class="p">:</span>
    <span class="n">rose</span> <span class="o" style="color: #666666;">=</span> <span class="n">read_utf8_file</span><span class="p">()</span>
    <span class="n">rose_uni</span> <span class="o" style="color: #666666;">=</span> <span class="nb" style="color: #007020;">unicode</span><span class="p">(</span><span class="n">read_utf8_file</span><span class="p">(),</span> <span class="s" style="color: #4070a0;">'utf8'</span><span class="p">)</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"len(rose): </span><span class="si" style="color: #70a0d0; font-style: italic;">%d</span><span class="s" style="color: #4070a0;">, len(rose_uni): </span><span class="si" style="color: #70a0d0; font-style: italic;">%d</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span> <span class="p">(</span><span class="nb" style="color: #007020;">len</span><span class="p">(</span><span class="n">rose</span><span class="p">),</span> <span class="nb" style="color: #007020;">len</span><span class="p">(</span><span class="n">rose_uni</span><span class="p">))</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"rose: </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">, rose_uni: </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span><span class="p">(</span><span class="n">rose</span><span class="p">,</span> <span class="n">rose_uni</span><span class="p">)</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"rose[2]: </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">, rose_uni[2]: </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span><span class="p">(</span><span class="n">rose</span><span class="p">[</span><span class="mf" style="color: #40a070;">2</span><span class="p">],</span> <span class="n">rose_uni</span><span class="p">[</span><span class="mf" style="color: #40a070;">2</span><span class="p">])</span></pre>
<br>
Here is the outupt.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="go" style="color: grey;">len(rose): 15, len(rose_uni): 13</span>
<span class="go" style="color: grey;">rose: 'A \xe7\x8e\xab is a rose', rose_uni: u'A \u73ab is a rose'</span>
<span class="go" style="color: grey;">rose[2]: '\xe7', rose_uni[2]: u'\u73ab'</span></pre>
For all text processing purposes, all we care is that A 玫 is a rose has 13 characters and that the third item is 玫 (<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">U+73AB</span>). In the first case when we treat the input as bytes, the length is 15 (bytes) and second item (byte) is <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">0xE7</span> - which while true is not really useful for text processing purposes. When input is changed to unicode soon after it is read, the length is 13 and third character is <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">U+73AB</span> - <i>exactly what we expect</i>.<br>
<br>
We don’t have to read the bytes and then convert them to unicode. Python has a codecs module that allows us to read files as unicode objects directly. All you need to specify is the file name, mode, and the encoding the file is in and it will read the file and return unicode objects directly. He is an example.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="kn" style="color: #007020; font-weight: bold;">import</span> <span class="nn" style="color: #0e84b5; font-weight: bold;">codecs</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">read_utf8_file_as_uni</span><span class="p">():</span>
    <span class="k" style="color: #007020; font-weight: bold;">with</span> <span class="n">codecs</span><span class="o" style="color: #666666;">.</span><span class="n">open</span><span class="p">(</span><span class="s" style="color: #4070a0;">'aroseisarose.txt'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'rb'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'UTF-8'</span><span class="p">)</span> <span class="k" style="color: #007020; font-weight: bold;">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">f</span><span class="o" style="color: #666666;">.</span><span class="n">read</span><span class="p">()</span>

<span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">__name__</span> <span class="o" style="color: #666666;">==</span> <span class="s" style="color: #4070a0;">'__main__'</span><span class="p">:</span>
    <span class="n">rose_uni</span> <span class="o" style="color: #666666;">=</span> <span class="n">read_utf8_file_as_uni</span><span class="p">()</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"len(rose_uni): </span><span class="si" style="color: #70a0d0; font-style: italic;">%d</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span><span class="nb" style="color: #007020;">len</span><span class="p">(</span><span class="n">rose_uni</span><span class="p">)</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"rose_uni: </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span><span class="n">rose_uni</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">"rose_uni[2]: </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span><span class="n">rose_uni</span><span class="p">[</span><span class="mf" style="color: #40a070;">2</span><span class="p">]</span></pre>
And here are the results.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="go" style="color: grey;">len(rose_uni): 13</span>
<span class="go" style="color: grey;">rose_uni: u'A \u73ab is a rose'</span>
<span class="go" style="color: grey;">rose_uni[2]: u'\u73ab'</span></pre>
<b>Note</b>:&nbsp;<i>Treat text as sequence of characters, not as a sequence of bytes. Use unicode!</i><br>
<br>
<span style="font-size: large;"><b>Summary</b></span><br>
<ul>
<li>So there you go, work with <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">unicode</span> not with <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">str</span> when reading and writing text files. It will make your life a lot easier. I guarantee it!</li>
</ul>
<br>
<span style="font-size: large;"><b>See also</b></span><br>
<ul>
<li>All about Python and Unicode by Frank McIngvale. Very comprehensive tutorial.</li>
<li>Unicode in Python - Completely Demystified by Kumar McMillan. Very detailed presentation. Includes discussion of unicode in Python 3.</li>
<li>Python official HOWTO about Unicode.</li>
</ul>
<br><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-01-30T11:00:00.000Z" itemprop="datePublished">30th January 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/codec" target="_self">codec</a> <a class="label" href="http://www.shutupandship.com/search/label/encoding" target="_self">encoding</a> <a class="label" href="http://www.shutupandship.com/search/label/file" target="_self">file</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> <a class="label" href="http://www.shutupandship.com/search/label/text%20processing" target="_self">text processing</a> <a class="label" href="http://www.shutupandship.com/search/label/unicode" target="_self">unicode</a> <a class="label" href="http://www.shutupandship.com/search/label/utf8" target="_self">utf8</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/01/working-with-text-in-python-use-unicode.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="Working with text in Python? Use Unicode!"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/01/working-with-text-in-python-use-unicode.html" data-count="" data-size="" data-text="Working with text in Python? Use Unicode!"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/01/working-with-text-in-python-use-unicode.html" data-count="" data-layout="" data-text="Working with text in Python? Use Unicode!"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="0 comments">
  <span class="bubble-content">0</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    
    Add a comment
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="7711113635579802789" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=7711113635579802789"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li><li class="item" data-id="1993808704934065204">
  
<div class="article hentry binary cr crlf eol file_mode lf python text universal_newline " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
    <meta itemprop="image_url" content="http://2.bp.blogspot.com/-jLKyj3TdLrc/TywnEaapOwI/AAAAAAAACSA/vSWvgiqWsP4/s320/file_modes.png">
    <meta itemprop="thumbnailUrl" content="http://2.bp.blogspot.com/-jLKyj3TdLrc/TywnEaapOwI/AAAAAAAACSA/vSWvgiqWsP4/s320/file_modes.png">
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="1993808704934065204">

  
  <div class="article-header">


<a class="ribbon date " title="23rd January 2012" href="http://www.shutupandship.com/2012/01/file-modes-in-python-text-binary-and.html" itemprop="url">


  <div class="top ribbon-piece">Jan</div>
  <div class="bottom ribbon-piece">23</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/01/file-modes-in-python-text-binary-and.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="1993808704934065204">



File modes in Python - Text, Binary and Universal Newline</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=1993808704934065204&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody">Files in Python can be opened in either text mode or binary mode. What’s the difference?<br>
<br>
The difference lies in how the end-of-line (EOL) is handled. Different operating systems use different characters to mark EOL - <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\n</span> in Unix, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\r</span> in Mac versions prior to OS X, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\r\n</span> in Windows. When a file is opened in <i>text</i> mode, when the file is read, Python replaces the OS specific end-of-line character read from the file with just <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\n</span>. And vice versa, i.e. when you try to write <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\n</span> to a file opened in text mode, it is going to write the OS specific EOL character. You can find what your OS default EOL by checking <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">os.linesep</span>.<br>
<br>
When a file is opened in <i>binary</i> mode, no mapping takes place. What you read is what you get. Remember, text mode is the default mode. So if you are handling non-text files (images, video, etc.), make sure you open the file in binary mode, otherwise you’ll end up messing up the file by introducing (or removing) some bytes.<br>
<br>
Python also has a <i>universal newline</i> mode. When a file is opened in this mode, Python maps all of the characters <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\r</span>, <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\n</span> and <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\r\n</span> to <span style="font-family: &#39;Courier New&#39;, Courier, monospace;">\n</span>.<br>
<br>
Here is a short example demonstrating various file modes. We will read <a href="http://shutupandship.com/_downloads/file_modes.txt">this file</a> (which contains all the three different EOL types) in Python and examine the contents.<br>
Here are the file contents when examined in a Hex Editor, just to show you that it indeed does contain the different EOL characters.<br>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-jLKyj3TdLrc/TywnEaapOwI/AAAAAAAACSA/vSWvgiqWsP4/s1600/file_modes.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="113" width="320" data-src="http://2.bp.blogspot.com/-jLKyj3TdLrc/TywnEaapOwI/AAAAAAAACSA/vSWvgiqWsP4/s320/file_modes.png" src="data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="deferred"></a></div>
Here is the code to open the file in different modes and display its contents.<br>
<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'os.linesep: </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">'</span> <span class="o" style="color: #666666;">%</span> <span class="n">os</span><span class="o" style="color: #666666;">.</span><span class="n">linesep</span>
<span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">mode</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="p">[</span><span class="s" style="color: #4070a0;">'r'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'rU'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'rb'</span><span class="p">]:</span>
    <span class="k" style="color: #007020; font-weight: bold;">with</span> <span class="nb" style="color: #007020;">open</span><span class="p">(</span><span class="s" style="color: #4070a0;">'file_new_lines.txt'</span><span class="p">,</span> <span class="n">mode</span><span class="p">)</span> <span class="k" style="color: #007020; font-weight: bold;">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'</span><span class="si" style="color: #70a0d0; font-style: italic;">%02s</span><span class="s" style="color: #4070a0;">: </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">'</span> <span class="o" style="color: #666666;">%</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">f</span><span class="o" style="color: #666666;">.</span><span class="n">read</span><span class="p">())</span></pre>
<br>
And here are the results (on Windows XP).<br>
<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="go" style="color: grey;">os.linesep: '\r\n'</span>
<span class="go" style="color: grey;"> r: 'Line 1 [CR]\rLine 2 [LF]\nLine 3 [CR+LF]\nLine 4'</span>
<span class="go" style="color: grey;">rU: 'Line 1 [CR]\nLine 2 [LF]\nLine 3 [CR+LF]\nLine 4'</span>
<span class="go" style="color: grey;">rb: 'Line 1 [CR]\rLine 2 [LF]\nLine 3 [CR+LF]\r\nLine 4'</span>
</pre>
</div>
<br><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-01-23T11:00:00.000Z" itemprop="datePublished">23rd January 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/binary" target="_self">binary</a> <a class="label" href="http://www.shutupandship.com/search/label/CR" target="_self">CR</a> <a class="label" href="http://www.shutupandship.com/search/label/CRLF" target="_self">CRLF</a> <a class="label" href="http://www.shutupandship.com/search/label/EOL" target="_self">EOL</a> <a class="label" href="http://www.shutupandship.com/search/label/file%20mode" target="_self">file mode</a> <a class="label" href="http://www.shutupandship.com/search/label/LF" target="_self">LF</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> <a class="label" href="http://www.shutupandship.com/search/label/text" target="_self">text</a> <a class="label" href="http://www.shutupandship.com/search/label/universal%20newline" target="_self">universal newline</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/01/file-modes-in-python-text-binary-and.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="File modes in Python - Text, Binary and Universal Newline"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/01/file-modes-in-python-text-binary-and.html" data-count="" data-size="" data-text="File modes in Python - Text, Binary and Universal Newline"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/01/file-modes-in-python-text-binary-and.html" data-count="" data-layout="" data-text="File modes in Python - Text, Binary and Universal Newline"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="0 comments">
  <span class="bubble-content">0</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    
    Add a comment
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="1993808704934065204" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=1993808704934065204"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li><li class="item" data-id="5278085634842187419">
  
<div class="article hentry decorator function python wraps " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="5278085634842187419">

  
  <div class="article-header">


<a class="ribbon date " title="16th January 2012" href="http://www.shutupandship.com/2012/01/python-decorators-i-functions-that.html" itemprop="url">


  <div class="top ribbon-piece">Jan</div>
  <div class="bottom ribbon-piece">16</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/01/python-decorators-i-functions-that.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="5278085634842187419">



Python Decorators I - Functions that decorate functions</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=5278085634842187419&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody">Decorators have been in Python since version 2.4. They are the lines that start with&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">@</span>&nbsp;symbol just before a function or a class definition. Probably you encountered them when you defined class methods, properties etc. Or perhaps you encountered them in a web framework like Django and used them to magically add login requirements for certain pages by adding a&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">@login_required</span>&nbsp;line before your view function. Have you wondered how they exactly work and what they are? This article explores what function decorators are and how to write decorators.<br>
<br>
<b><span style="font-size: large;">Decorator formalities</span></b><br>
<br>
First let us deal with the formalities like definition, syntax, etc. What is a decorator? A decorator is a callable that returns a callable. Here is what Python does when it sees a decorator above a function definition.<br>
<br>
Here is the template of a decorator&nbsp;<i>without</i>&nbsp;arguments.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="nd" style="color: #555555; font-weight: bold;">@decorator</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">F</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">pass</span>

<span class="c" style="color: #60a0b0; font-style: italic;"># is same as</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">F</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">pass</span>
<span class="n">F</span> <span class="o" style="color: #666666;">=</span> <span class="n">decorator</span><span class="p">(</span><span class="n">f</span><span class="p">)</span></pre>
And here is a decorator&nbsp;<i>with</i>&nbsp;arguments.<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="nd" style="color: #555555; font-weight: bold;">@decorator</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">F</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">pass</span>

<span class="c" style="color: #60a0b0; font-style: italic;"># is same as</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">F</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">pass</span>
<span class="n">F</span> <span class="o" style="color: #666666;">=</span> <span class="n">decorator</span><span class="p">(</span><span class="n">n</span><span class="p">)(</span><span class="n">F</span><span class="p">)</span></pre>
</div>
As you can see, strictly speaking we don’t need the decorator syntax. We can accomplish the goal, by rebinding the function name after definition. But having decorator syntax is a nice language feature and experts have already commented on the virtues of having the decorator syntax in Python (see references). So I’ll just move on. Technically, decorator just needs to be a callable. So it can either be a function or a class with&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__call__</span>&nbsp;method defined. In this article I’ll only focus on decorator functions. With minor modifications the same will apply to decorator classes.<br>
<br>
<span style="font-size: large;"><b>Writing our own decorators</b></span><br>
<br>
Let us pretend we are writing a module with various business math functions and we decide that we cannot accept values of n (the term of the loan) less than or equal to zero. Of course, we can always embed that in our function logic, but that is repetitive, boring and also doesn’t play well with this demonstration of decorators. So let us all just agree that we want to use decorators to accomplish this objective.<br>
<br>
Here are a couple of functions in our module.<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">simpleinterest</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">n</span><span class="o" style="color: #666666;">*</span><span class="n">p</span><span class="o" style="color: #666666;">*</span><span class="n">r</span><span class="o" style="color: #666666;">/</span><span class="mf" style="color: #40a070;">100.0</span>

<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">compoundinterest</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">p</span><span class="o" style="color: #666666;">*</span><span class="p">(</span><span class="mf" style="color: #40a070;">1</span><span class="o" style="color: #666666;">+</span><span class="n">r</span><span class="o" style="color: #666666;">/</span><span class="mf" style="color: #40a070;">100.0</span><span class="p">)</span><span class="o" style="color: #666666;">**</span><span class="n">n</span><span class="o" style="color: #666666;">-</span><span class="n">p</span></pre>
</div>
Let’s start with what we need to accomplish. We should write a decorator&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">accept_n_gt_zero_only</span>&nbsp;and once we are done, we should be able to decorate the functions like this.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="nd" style="color: #555555; font-weight: bold;">@accept_n_gt_zero_only</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">simpleinterest</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
    <span class="o" style="color: #666666;">...</span></pre>
Such that when you call the functions with&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">n&lt;=0</span>, the functions raise an exception, and return the correct answer when called with&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">n&gt;0</span>. In other words, the function returned by&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">accept_n_gt_zero_only&nbsp;</span>i.e.<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">&nbsp;</span><span style="font-family: &#39;Courier New&#39;, Courier, monospace;">accept_n_gt_zero_only(simpleinterest)</span>&nbsp;must have this behavior. So our decorator&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">accept_n_gt_zero_only</span>&nbsp;must take a function as an argument and return&nbsp;<i>another function</i>. Let’s flesh it out.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="c" style="color: #60a0b0; font-style: italic;"># first draft ... incomplete</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">accept_n_gt_zero_only</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">f_n_gt_zero</span><span class="p">():</span>
        <span class="k" style="color: #007020; font-weight: bold;">pass</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">f_n_gt_zero</span></pre>
Let’s apply this decorator to&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">simpleinterest</span>&nbsp;function and see what we get.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="nd" style="color: #555555; font-weight: bold;">@accept_n_gt_zero_only</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">simpleinterest</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">n</span><span class="o" style="color: #666666;">*</span><span class="n">p</span><span class="o" style="color: #666666;">*</span><span class="n">r</span><span class="o" style="color: #666666;">/</span><span class="mf" style="color: #40a070;">100.0</span></pre>
Here are the results<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">simpleinterest</span>
<span class="go" style="color: grey;">&lt;function f_n_gt_zero at 0xb76da48c&gt;</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">simpleinterest</span><span class="p">(</span><span class="mf" style="color: #40a070;">10</span><span class="p">,</span> <span class="mf" style="color: #40a070;">100</span><span class="p">,</span> <span class="mf" style="color: #40a070;">5</span><span class="p">)</span>
<span class="go" style="color: grey;">TypeError: f_n_gt_zero() takes no arguments (3 given)</span></pre>
</div>
After decoration,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">simpleinterest</span>&nbsp;is actually a&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">f_n_gt_zero</span>&nbsp;function object. When we call&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">simpleinterest(10, 100, 5)</span>&nbsp;we are actually calling&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">f_n_gt_zero(10, 100, 5)</span>. But out definition is incomplete and so it fails. Let’s modify&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">f_n_gt_zero</span>&nbsp;to accept the same arguments as the func being decorated (<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">simpleinterest</span>&nbsp;or&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">compoundinterest</span>&nbsp;or whatever it is) and complete the definition of the decorator.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="c" style="color: #60a0b0; font-style: italic;"># final version</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">accept_n_gt_zero_only</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">f_n_gt_zero</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o" style="color: #666666;">*</span><span class="n">args</span><span class="p">,</span> <span class="o" style="color: #666666;">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">n</span> <span class="o" style="color: #666666;">&lt;=</span> <span class="mf" style="color: #40a070;">0</span><span class="p">:</span>
            <span class="k" style="color: #007020; font-weight: bold;">raise</span> <span class="ne" style="color: #007020;">Exception</span><span class="p">(</span><span class="s" style="color: #4070a0;">"n must be &gt; 0"</span><span class="p">)</span>
        <span class="k" style="color: #007020; font-weight: bold;">else</span><span class="p">:</span>
            <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o" style="color: #666666;">*</span><span class="n">args</span><span class="p">,</span> <span class="o" style="color: #666666;">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">f_n_gt_zero</span></pre>
Let’s try calling&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">simpleinterest</span>&nbsp;again.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">simpleinterest</span>
<span class="go" style="color: grey;">&lt;function f_n_gt_zero at 0xa0bc41c&gt;</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">simpleinterest</span><span class="p">(</span><span class="mf" style="color: #40a070;">10</span><span class="p">,</span> <span class="mf" style="color: #40a070;">100</span><span class="p">,</span> <span class="mf" style="color: #40a070;">5</span><span class="p">)</span>
<span class="go" style="color: grey;">50</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">simpleinterest</span><span class="p">(</span><span class="o" style="color: #666666;">-</span><span class="mf" style="color: #40a070;">7</span><span class="p">,</span> <span class="mf" style="color: #40a070;">100</span><span class="p">,</span> <span class="mf" style="color: #40a070;">5</span><span class="p">)</span>
<span class="go" style="color: grey;">Exception: n must be &gt; 0</span></pre>
It works! Great!<br>
<br>
<b><span style="font-size: large;">It’s me ... It’s all me!</span></b><br>
<br>
<i>Note:&nbsp;This section and the next are advanced. You can safely skip to Decorators with arguments if you are just looking for a quick intro.</i><br>
<br>
Let’s see if compound interest works.<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">compoundinterest</span><span class="p">(</span><span class="mf" style="color: #40a070;">10</span><span class="p">,</span> <span class="mf" style="color: #40a070;">100</span><span class="p">,</span> <span class="mf" style="color: #40a070;">5</span><span class="p">)</span>
<span class="go" style="color: grey;">62.8894626777</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">compoundinterest</span>
<span class="go" style="color: grey;">&lt;function f_n_gt_zero at 0xb77bd48c&gt;</span></pre>
</div>
Houston, we have a problem. All the decorated functions are going to have the same name -&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">f_n_gt_zero</span>. This may not be a problem for only a couple of functions. But what if the number of functions increase? You can see where this is going to go ... straight to debug hell!<br>
<br>
<span style="font-size: large;"><b>There’s a decorator for that!</b></span><br>
<br>
The&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">functools</span>&nbsp;library has a decorator called&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">wraps</span>&nbsp;that can be used to remedy this situation.&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">wraps</span>&nbsp;is a decorator with one argument, the function that is being wrapped, and it updates a wrapper function to look like the wrapped function (attributes like<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">&nbsp;__name__</span>,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__module__</span>,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__dict__</span>,&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__doc__</span>&nbsp;etc. are updated). We’ll talk more about decorators with arguments in next section. But for now let’s look at it in action.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="kn" style="color: #007020; font-weight: bold;">from</span> <span class="nn" style="color: #0e84b5; font-weight: bold;">functools</span> <span class="kn" style="color: #007020; font-weight: bold;">import</span> <span class="n">wraps</span>
<span class="c" style="color: #60a0b0; font-style: italic;"># final version which retains the decorated function name etc.</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">accept_n_gt_zero_only</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
    <span class="nd" style="color: #555555; font-weight: bold;">@wraps</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">f_n_gt_zero</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o" style="color: #666666;">*</span><span class="n">args</span><span class="p">,</span> <span class="o" style="color: #666666;">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c" style="color: #60a0b0; font-style: italic;"># ... same as above ...</span></pre>
Let’s see what&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">simpleinterest</span>&nbsp;and&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">compoundinterest</span>&nbsp;look like now.<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">simpleinterest</span><span class="p">;</span> <span class="n">compoundinterest</span>
<span class="go" style="color: grey;">&lt;function simpleinterest at 0x9d2d3e4&gt;</span>
<span class="go" style="color: grey;">&lt;function compoundinterest at 0x9d2d454&gt;</span></pre>
</div>
Much better! Each decorated function has its own name (also doc string etc.) and the world is a happy place again!<br>
<br>
<span style="font-size: large;"><b>Decorators with arguments</b></span><br>
<br>
Let’s do something more interesting. Let’s modify the above decorator to take arguments, i.e. instead of&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">accept_n_gt_zero_only</span>&nbsp;let’s write&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">accept_n_gt_N_only(N)</span>&nbsp;i.e. something like this.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="nd" style="color: #555555; font-weight: bold;">@accept_n_gt_N_only</span><span class="p">(</span><span class="n">N</span><span class="o" style="color: #666666;">=</span><span class="mf" style="color: #40a070;">7</span><span class="p">)</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">simpleinterest</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">n</span><span class="o" style="color: #666666;">*</span><span class="n">p</span><span class="o" style="color: #666666;">*</span><span class="n">r</span><span class="o" style="color: #666666;">/</span><span class="mf" style="color: #40a070;">100.0</span></pre>
This is same as ...<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="n">simpleinterest</span> <span class="o" style="color: #666666;">=</span> <span class="n">accept_n_gt_N_only</span><span class="p">(</span><span class="n">N</span><span class="o" style="color: #666666;">=</span><span class="mf" style="color: #40a070;">7</span><span class="p">)(</span><span class="n">simpleinterest</span><span class="p">)</span></pre>
</div>
In other words,<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">&nbsp;accept_n_gt_N_only(N=7)</span>&nbsp;must return a function (let’s call this function a&nbsp;<i>wrapper</i>), which must take a function like&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">simpleinterest</span>&nbsp;as an argument and return another function. Is your head reeling yet?<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">accept_n_gt_N_only</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
    <span class="c" style="color: #60a0b0; font-style: italic;"># ... something here ...</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">wrapper</span></pre>
But wait! It’s not that complicated! We already wrote a version of wrapper that takes a function like&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">simpleinterest</span>&nbsp;as an argument and returns the required function ... remember? Our own&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">accept_n_gt_zero_only</span>&nbsp;from above! All we need to do is change a bit of logic.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">accept_n_gt_N_only</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">wrapper</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">f_n_gt_zero</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o" style="color: #666666;">*</span><span class="n">args</span><span class="p">,</span> <span class="o" style="color: #666666;">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">n</span> <span class="o" style="color: #666666;">&lt;=</span> <span class="n">N</span><span class="p">:</span>
                <span class="k" style="color: #007020; font-weight: bold;">raise</span> <span class="ne" style="color: #007020;">Exception</span><span class="p">(</span><span class="s" style="color: #4070a0;">"n must be &gt; </span><span class="si" style="color: #70a0d0; font-style: italic;">%s</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span> <span class="n">N</span><span class="p">)</span>
            <span class="k" style="color: #007020; font-weight: bold;">else</span><span class="p">:</span>
                <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">f</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="o" style="color: #666666;">*</span><span class="n">args</span><span class="p">,</span> <span class="o" style="color: #666666;">*</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">f_n_gt_zero</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">wrapper</span></pre>
In essence, wrapper actually takes our function&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">simpleinterest</span>&nbsp;and transforms it. We just code&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">accept_n_gt_N_only</span>&nbsp;to produce wrapper.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="nd" style="color: #555555; font-weight: bold;">@accept_n_gt_N_only</span><span class="p">(</span><span class="mf" style="color: #40a070;">7</span><span class="p">)</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">simpleinterest</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">n</span><span class="o" style="color: #666666;">*</span><span class="n">p</span><span class="o" style="color: #666666;">*</span><span class="n">r</span><span class="o" style="color: #666666;">/</span><span class="mf" style="color: #40a070;">100.0</span></pre>
Let's test this.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">simpleinterest</span><span class="p">(</span><span class="mf" style="color: #40a070;">10</span><span class="p">,</span> <span class="mf" style="color: #40a070;">100</span><span class="p">,</span> <span class="mf" style="color: #40a070;">5</span><span class="p">)</span>
<span class="go" style="color: grey;">50</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">simpleinterest</span><span class="p">(</span><span class="mf" style="color: #40a070;">4</span><span class="p">,</span> <span class="mf" style="color: #40a070;">100</span><span class="p">,</span> <span class="mf" style="color: #40a070;">5</span><span class="p">)</span>
<span class="go" style="color: grey;">Exception: n must be &gt; 7</span></pre>
Volia! Success!<br>
<br>
<b><span style="font-size: large;">A practical decorator example</span></b><br>
<br>
Let us now look at a real life example where using a decorator makes our life easy and code more elegant. Here is an example from Django. In Django if you want to restrict your view function to accept only certain types of HTTP methods (say only ‘GET’) you can quite magically (and elegantly) do it by just adding @require_http_methods(['GET']) above your function.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="nd" style="color: #555555; font-weight: bold;">@require_http_methods</span><span class="p">([</span><span class="s" style="color: #4070a0;">'GET'</span><span class="p">])</span>
<span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">myview</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">pass</span></pre>
Here is a look at the innards of the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">require_http_methods</span>&nbsp;decorator (Note: I eliminated some unnecessary cruft from the original code to keep it simple. So the actual definition in Django library will not look exactly like this.)<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">require_http_methods</span><span class="p">(</span><span class="n">request_method_list</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
        <span class="nd" style="color: #555555; font-weight: bold;">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
        <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">inner</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o" style="color: #666666;">*</span><span class="n">args</span><span class="p">,</span> <span class="o" style="color: #666666;">**</span><span class="n">kwargs</span><span class="p">):</span>
            <span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">request</span><span class="o" style="color: #666666;">.</span><span class="n">method</span> <span class="ow" style="color: #007020; font-weight: bold;">not</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="n">request_method_list</span><span class="p">:</span>
                <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">HttpResponseNotAllowed</span><span class="p">(</span><span class="n">requrest_method_list</span><span class="p">)</span>
            <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">func</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o" style="color: #666666;">*</span><span class="n">args</span><span class="p">,</span> <span class="o" style="color: #666666;">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">inner</span>
    <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">decorator</span></pre>
I am sure this looks very simple by now.&nbsp;Hope this article gave you enough material to get you started with writing your own decorators.<br>
<br>
<b><span style="font-size: large;">Summary</span></b><br>
<ul>
<li>Decorators are functions that just return other functions and they aren’t really that complicated once you get a hang of them.</li>
<li>Used right, they can really help keep the code clean and elegant.&nbsp;</li>
</ul>
<span style="font-size: large;"><b>See also</b></span><br>
<ul>
<li>Decorators for functions and methods -&nbsp;<a href="http://www.python.org/dev/peps/pep-0318">PEP 318</a></li>
<li><a href="http://wiki.python.org/moin/PythonDecoratorLibrary">Python Decorator Library</a>&nbsp;- Python wiki page with a lot of examples of various decorators.</li>
<li>Bruce Eckels articles on decorators.</li>
<ul>
<li><a href="http://www.artima.com/weblogs/viewpost.jsp?thread=240808">Decorators I - Introduction to Python Decorators</a></li>
<li><a href="http://www.artima.com/weblogs/viewpost.jsp?thread=240845">Decorators II - Decorators with Arguments</a></li>
<li><a href="http://www.artima.com/weblogs/viewpost.jsp?thread=241209">Decorators III: A Decorator-Based Build System</a></li>
</ul>
<li><a href="http://www.siafoo.net/article/68">Python decorators don’t have to be (that) scary</a></li>
<li>Ariel Oritz’s post about&nbsp;<a href="http://programmingbits.pythonblogs.com/27_programmingbits/archive/50_function_decorators.html">how to use decorators to memoize</a>. A really neat trick to speed up computations of recursive functions.</li>
<li><a href="http://stackoverflow.com/questions/489720/what-are-some-common-uses-for-python-decorators">What are some common uses for Python Decorators?</a>&nbsp;- StackOverflow answers.</li>
<li>In case you want to know how the nested functions remember the state from the outer functions, you may want to look at my article on <a href="./Python Closures Explained _ Shut Up and Ship_files/Python Closures Explained _ Shut Up and Ship.html">closures</a>.</li>
</ul><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-01-16T11:00:00.000Z" itemprop="datePublished">16th January 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/decorator" target="_self">decorator</a> <a class="label" href="http://www.shutupandship.com/search/label/function" target="_self">function</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> <a class="label" href="http://www.shutupandship.com/search/label/wraps" target="_self">wraps</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/01/python-decorators-i-functions-that.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="Python Decorators I - Functions that decorate functions"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/01/python-decorators-i-functions-that.html" data-count="" data-size="" data-text="Python Decorators I - Functions that decorate functions"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/01/python-decorators-i-functions-that.html" data-count="" data-layout="" data-text="Python Decorators I - Functions that decorate functions"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="0 comments">
  <span class="bubble-content">0</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    
    Add a comment
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="5278085634842187419" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=5278085634842187419"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li><li class="item" data-id="1330361138892871517">
  
<div class="article hentry for_loop iterable iterator iterator_protocol python " itemscope="" itemtype="http://schema.org/BlogPosting">
  
  
  <meta itemprop="blogId" content="9152575394739018798">
  <meta itemprop="postId" content="1330361138892871517">

  
  <div class="article-header">


<a class="ribbon date " title="9th January 2012" href="http://www.shutupandship.com/2012/01/understanding-python-iterables-and.html" itemprop="url">


  <div class="top ribbon-piece">Jan</div>
  <div class="bottom ribbon-piece">9</div>
  <div class="tail">
    <div class="left ribbon-piece"></div>
    <div class="right ribbon-piece"></div>
  </div>

</a>



<h1 class="title entry-title" itemprop="name">
  
  
  <a href="http://www.shutupandship.com/2012/01/understanding-python-iterables-and.html" rel="bookmark" itemprop="url" data-item-type="post" data-id="1330361138892871517">



Understanding Python Iterables and Iterators</a>
  
  

<span class="blog-admin"><a class="edit" href="http://www.blogger.com/post-edit.g?blogID=9152575394739018798&postID=1330361138892871517&from=pencil" target="_self" title="Edit"></a></span>


</h1>
</div>
  <div class="article-content entry-content" itemprop="articleBody">The&nbsp;<i>for loop</i>, just like everything else in Python, is really simple. For a wide range of containers you can just do&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">for i in container: do something</span>. How does this work? And more importantly, if you create your own container how can you make sure that it supports this syntax?<br>
<br>
<span style="font-size: large;"><b>for loop under the hood</b></span><br>
<br>
First let’s look at the for loop under the hood. When Python executes the for loop, it first invokes the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__iter__()</span>&nbsp;method of the container to get the iterator of the container. It then repeatedly calls the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">next()</span>&nbsp;method (<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__next__()</span>&nbsp;method in Python 3.x) of the iterator until the iterator raises a&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">StopIteration</span>&nbsp;exception. Once the exception is raised, the for loop ends.<br>
<br>
<span style="font-size: large;"><b>A couple of definitions</b></span><br>
<br>
Time for a couple of definitions ...<br>
<ul>
<li><b>Iterable&nbsp;</b>-<b>&nbsp;</b>A container is said to be&nbsp;<i>iterable</i>&nbsp;if it has the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__iter__</span>&nbsp;method defined.</li>
<li><b>Iterator</b>&nbsp;-&nbsp;An&nbsp;<i>iterator</i>&nbsp;is an object that supports the iterator protocol which basically means that the following two methods need to be defined.</li>
<ul>
<li>It has an&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__iter__</span>&nbsp;method defined which returns itself.</li>
<li>It has a&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">next</span>&nbsp;method defined (<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__next__</span>&nbsp;in Python 3.x) which returns the next value every time the&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">next&nbsp;</span>method is invoked on it.</li>
</ul>
</ul>
For example consider a list. A list is&nbsp;<i>iterable</i>, but a list is not its own iterator.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o" style="color: #666666;">=</span> <span class="p">[</span><span class="mf" style="color: #40a070;">1</span><span class="p">,</span> <span class="mf" style="color: #40a070;">2</span><span class="p">,</span> <span class="mf" style="color: #40a070;">3</span><span class="p">,</span> <span class="mf" style="color: #40a070;">4</span><span class="p">]</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="c" style="color: #60a0b0; font-style: italic;"># a list is iterable because it has the __iter__ method</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">a</span><span class="o" style="color: #666666;">.</span><span class="n">__iter__</span>
<span class="go" style="color: grey;">&lt;method-wrapper '__iter__' of list object at 0x014E5D78&gt;</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="c" style="color: #60a0b0; font-style: italic;"># However a list does not have the next method, so it's not an iterator</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">a</span><span class="o" style="color: #666666;">.</span><span class="n">next</span>
<span class="go" style="color: grey;">AttributeError: 'list' object has no attribute 'next'</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="c" style="color: #60a0b0; font-style: italic;"># a list is not its own iterator</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: #007020;">iter</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="ow" style="color: #007020; font-weight: bold;">is</span> <span class="n">a</span>
<span class="go" style="color: grey;">False</span></pre>
The iterator of a list is actually a&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">listiterator</span>&nbsp;object. A&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">listiterator</span>&nbsp;is its own iterator.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="c" style="color: #60a0b0; font-style: italic;"># a iterator for a list is actually a 'listiterator' object</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">ia</span> <span class="o" style="color: #666666;">=</span> <span class="nb" style="color: #007020;">iter</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="n">ia</span>
<span class="go" style="color: grey;">&lt;listiterator object at 0x014DF2F0&gt;</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="c" style="color: #60a0b0; font-style: italic;"># a listiterator object is its own iterator</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="nb" style="color: #007020;">iter</span><span class="p">(</span><span class="n">ia</span><span class="p">)</span> <span class="ow" style="color: #007020; font-weight: bold;">is</span> <span class="n">ia</span>
<span class="go" style="color: grey;">True</span></pre>
<span style="font-size: large;"><b>How to make your object an iterable</b></span><br>
<br>
Let us try and define a subclass of the list class called&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">MyList</span>&nbsp;with a custom iterator.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">class</span> <span class="nc" style="color: #0e84b5; font-weight: bold;">MyList</span><span class="p">(</span><span class="nb" style="color: #007020;">list</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__iter__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="n">MyListIter</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">)</span>
    
<span class="k" style="color: #007020; font-weight: bold;">class</span> <span class="nc" style="color: #0e84b5; font-weight: bold;">MyListIter</span><span class="p">(</span><span class="nb" style="color: #007020;">object</span><span class="p">):</span>
    <span class="sd" style="color: #4070a0; font-style: italic;">""" A sample implementation of a list iterator. NOTE: This is just a </span>
<span class="sd" style="color: #4070a0; font-style: italic;">    demonstration of concept!!! YOU SHOULD NEVER IMPLEMENT SOMETHING LIKE THIS!</span>
<span class="sd" style="color: #4070a0; font-style: italic;">    Even if you have to (for any reason), there are many better ways to </span>
<span class="sd" style="color: #4070a0; font-style: italic;">    implement this."""</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__init__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">,</span> <span class="n">lst</span><span class="p">):</span>
        <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">lst</span> <span class="o" style="color: #666666;">=</span> <span class="n">lst</span>
        <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">i</span> <span class="o" style="color: #666666;">=</span> <span class="o" style="color: #666666;">-</span><span class="mf" style="color: #40a070;">1</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__iter__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="bp" style="color: #007020;">self</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">next</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">i</span><span class="o" style="color: #666666;">&lt;</span><span class="nb" style="color: #007020;">len</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">lst</span><span class="p">)</span><span class="o" style="color: #666666;">-</span><span class="mf" style="color: #40a070;">1</span><span class="p">:</span>
            <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">i</span> <span class="o" style="color: #666666;">+=</span> <span class="mf" style="color: #40a070;">1</span>         
            <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">lst</span><span class="p">[</span><span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">i</span><span class="p">]</span>
        <span class="k" style="color: #007020; font-weight: bold;">else</span><span class="p">:</span>
            <span class="k" style="color: #007020; font-weight: bold;">raise</span> <span class="ne" style="color: #007020;">StopIteration</span>

<span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">__name__</span> <span class="o" style="color: #666666;">==</span> <span class="s" style="color: #4070a0;">'__main__'</span><span class="p">:</span>
    <span class="n">a</span> <span class="o" style="color: #666666;">=</span> <span class="n">MyList</span><span class="p">([</span><span class="mf" style="color: #40a070;">1</span><span class="p">,</span> <span class="mf" style="color: #40a070;">2</span><span class="p">,</span> <span class="mf" style="color: #40a070;">3</span><span class="p">,</span> <span class="mf" style="color: #40a070;">4</span><span class="p">])</span>
    <span class="n">ia</span> <span class="o" style="color: #666666;">=</span> <span class="nb" style="color: #007020;">iter</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
    <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="s" style="color: #4070a0;">'type(a): </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">, type(ia): </span><span class="si" style="color: #70a0d0; font-style: italic;">%r</span><span class="s" style="color: #4070a0;">'</span> <span class="o" style="color: #666666;">%</span><span class="p">(</span><span class="nb" style="color: #007020;">type</span><span class="p">(</span><span class="n">a</span><span class="p">),</span> <span class="nb" style="color: #007020;">type</span><span class="p">(</span><span class="n">ia</span><span class="p">))</span>
    <span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">i</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="n">a</span><span class="p">:</span> 
        <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="n">i</span><span class="p">,</span></pre>
</pre>
Here is the output of the program above.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="go" style="color: grey;">type(a): &lt;class '__main__.MyList'&gt;, type(ia): &lt;class '__main__.MyListIter'&gt;</span>
<span class="go" style="color: grey;">1 2 3 4</span></pre>
</pre>
Now for a more practical example. Let us say you are implementing a game of cards and you have defined a card and a deck as follows.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">class</span> <span class="nc" style="color: #0e84b5; font-weight: bold;">Card</span><span class="p">(</span><span class="nb" style="color: #007020;">object</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__init__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">,</span> <span class="n">rank</span><span class="p">,</span> <span class="n">suit</span><span class="p">):</span>
        <span class="n">FACE_CARD</span> <span class="o" style="color: #666666;">=</span> <span class="p">{</span><span class="mf" style="color: #40a070;">11</span><span class="p">:</span> <span class="s" style="color: #4070a0;">'J'</span><span class="p">,</span> <span class="mf" style="color: #40a070;">12</span><span class="p">:</span> <span class="s" style="color: #4070a0;">'Q'</span><span class="p">,</span> <span class="mf" style="color: #40a070;">13</span><span class="p">:</span> <span class="s" style="color: #4070a0;">'K'</span><span class="p">}</span>
        <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">suit</span> <span class="o" style="color: #666666;">=</span> <span class="n">suit</span>
        <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">rank</span> <span class="o" style="color: #666666;">=</span> <span class="n">rank</span> <span class="k" style="color: #007020; font-weight: bold;">if</span> <span class="n">rank</span> <span class="o" style="color: #666666;">&lt;=</span><span class="mf" style="color: #40a070;">10</span> <span class="k" style="color: #007020; font-weight: bold;">else</span> <span class="n">FACE_CARD</span><span class="p">[</span><span class="n">rank</span><span class="p">]</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__str__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="s" style="color: #4070a0;">"</span><span class="si" style="color: #70a0d0; font-style: italic;">%s%s</span><span class="s" style="color: #4070a0;">"</span> <span class="o" style="color: #666666;">%</span> <span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">rank</span><span class="p">,</span> <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">suit</span><span class="p">)</span>
    
<span class="k" style="color: #007020; font-weight: bold;">class</span> <span class="nc" style="color: #0e84b5; font-weight: bold;">Deck</span><span class="p">(</span><span class="nb" style="color: #007020;">object</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__init__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">):</span>
        <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">cards</span> <span class="o" style="color: #666666;">=</span> <span class="p">[]</span>
        <span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">s</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="p">[</span><span class="s" style="color: #4070a0;">'S'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'D'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'C'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'H'</span><span class="p">]:</span>
            <span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">r</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="nb" style="color: #007020;">range</span><span class="p">(</span><span class="mf" style="color: #40a070;">1</span><span class="p">,</span> <span class="mf" style="color: #40a070;">14</span><span class="p">):</span>
                <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">cards</span><span class="o" style="color: #666666;">.</span><span class="n">append</span><span class="p">(</span><span class="n">Card</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span></pre>
Now to iterate over the cards in the deck, you have to do ...<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">c</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="n">Deck</span><span class="p">()</span><span class="o" style="color: #666666;">.</span><span class="n">cards</span><span class="p">:</span> <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="n">c</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">...</span>
<span class="go" style="color: grey;">1S</span>
<span class="go" style="color: grey;">2S</span>
<span class="go" style="color: grey;">#... snip ...#</span></pre>
But&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">Deck</span>&nbsp;is a container that has multiple cards. Wouldn’t it be nice if you could just write&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">for c in Deck()</span>&nbsp;instead of writing&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">for c in Deck().cards</span>? Let’s try that!<br>
<div class="syntax" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; font-family: &#39;Trebuchet MS&#39;, sans-serif; font-size: 15px;">
<pre style="font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">c</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="n">Deck</span><span class="p">():</span> <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="n">c</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">...</span>
<span class="go" style="color: grey;">TypeError: 'Deck' object is not iterable</span></pre>
</div>
Oops! It doesn’t work. For the syntax to work, we need to make Deck an iterable. It is in fact very easy. We just need to add an&nbsp;<span style="font-family: &#39;Courier New&#39;, Courier, monospace;">__iter__</span>&nbsp;method to our class that returns an iterator.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="k" style="color: #007020; font-weight: bold;">class</span> <span class="nc" style="color: #0e84b5; font-weight: bold;">Deck</span><span class="p">(</span><span class="nb" style="color: #007020;">object</span><span class="p">):</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__init__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">):</span>
<span class="bp">        </span><span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">cards</span> <span class="o" style="color: #666666;">=</span> <span class="p">[]</span>
        <span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">s</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="p">[</span><span class="s" style="color: #4070a0;">'S'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'D'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'C'</span><span class="p">,</span> <span class="s" style="color: #4070a0;">'H'</span><span class="p">]:</span>
            <span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">r</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="nb" style="color: #007020;">range</span><span class="p">(</span><span class="mf" style="color: #40a070;">1</span><span class="p">,</span> <span class="mf" style="color: #40a070;">14</span><span class="p">):</span>
                <span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">cards</span><span class="o" style="color: #666666;">.</span><span class="n">append</span><span class="p">(</span><span class="n">Card</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">s</span><span class="p">))</span>
    <span class="k" style="color: #007020; font-weight: bold;">def</span> <span class="nf" style="color: #06287e;">__iter__</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="p">):</span>
        <span class="k" style="color: #007020; font-weight: bold;">return</span> <span class="nb" style="color: #007020;">iter</span><span class="p">(</span><span class="bp" style="color: #007020;">self</span><span class="o" style="color: #666666;">.</span><span class="n">cards</span><span class="p">)</span></pre>
Let’s try the syntax again.<br>
<pre style="background-color: #f0f0f0; font-family: &#39;Bitstream Vera Sans Mono&#39;, monospace; font-size: 13px; padding-bottom: 5px; padding-left: 0px; padding-right: 0px; padding-top: 5px;"><span class="gp" style="color: #c65d09; font-weight: bold;">&gt;&gt;&gt; </span><span class="k" style="color: #007020; font-weight: bold;">for</span> <span class="n">c</span> <span class="ow" style="color: #007020; font-weight: bold;">in</span> <span class="n">Deck</span><span class="p">():</span> <span class="k" style="color: #007020; font-weight: bold;">print</span> <span class="n">c</span>
<span class="gp" style="color: #c65d09; font-weight: bold;">...</span>
<span class="go" style="color: grey;">1S</span>
<span class="go" style="color: grey;">2S</span>
<span class="go" style="color: grey;">#... snip ...#</span></pre>
Works perfectly. That’s it!<br>
<br>
<span style="font-size: large;"><b>Summary</b></span><br>
<ul>
<li>If you define a custom container class, think about whether it should also be an iterable.&nbsp;</li>
<li>It is quite easy to make a class support the iterator protocol.&nbsp;</li>
<li>Doing so will make the syntax more natural.</li>
</ul>
<span style="font-size: large;"><b>See also</b></span><br>
<ul>
<li><a href="http://www.ibm.com/developerworks/library/l-pycon/index.html">Charming Python: Iterators and simple generators</a>&nbsp;by David Mertz.</li>
<li><a href="http://diveintopython3.ep.io/iterators.html">Classes and Iterators</a>&nbsp;in Dive Into Python3 by Mark Pilgrim.</li>
<li>Iterators -&nbsp;<a href="http://www.python.org/dev/peps/pep-0234/">PEP 234</a>.</li>
<li>StackOverflow&nbsp;<a href="http://stackoverflow.com/questions/19151/build-a-basic-python-iterator/24377#24377">answer</a>&nbsp;about Python Iterators.</li>
</ul><div class="blogger-post-footer"><hr>
Thank You for your interest in this <a href="http://www.shutupandship.com/">Shut Up and Ship</a> blog post. Like what you just read? Have something to say? I would <b>love</b> to hear from you! Start a conversation. Add comments! Share it! Follow me <a href="http://twitter.com/pgollakota"> @pgollakota </a> or on <a href="http://plus.google.com/112186891518609351818">Google+</a>. Thanks!</div></div>
  <div class="article-footer">
    
<div class="publish-info">
  
    Posted <abbr class="time published" title="2012-01-09T11:00:00.000Z" itemprop="datePublished">9th January 2012</abbr> by <a class="url fn" href="https://plus.google.com/112186891518609351818" rel="author" itemprop="author">Praveen Gollakota</a>
  
  
</div>

    


    
    <div class="labels" itemprop="keywords">
      Labels: <a class="label" href="http://www.shutupandship.com/search/label/for%20loop" target="_self">for loop</a> <a class="label" href="http://www.shutupandship.com/search/label/iterable" target="_self">iterable</a> <a class="label" href="http://www.shutupandship.com/search/label/iterator" target="_self">iterator</a> <a class="label" href="http://www.shutupandship.com/search/label/iterator%20protocol" target="_self">iterator protocol</a> <a class="label" href="http://www.shutupandship.com/search/label/python" target="_self">python</a> 
    </div>
    
    
    
<div class="share-controls defer delay" data-defer="true" data-delay="1000">
<span class="share-plusone g-plusone defer" data-href="http://www.shutupandship.com/2012/01/understanding-python-iterables-and.html" data-hl="en" data-size="" data-source="blogger:blog:plusone" data-annotation="" data-width="90" data-text="Understanding Python Iterables and Iterators"></span>

<span data-href="http://twitter.com/share" class="share-twitter twitter-share-button defer" data-url="http://www.shutupandship.com/2012/01/understanding-python-iterables-and.html" data-count="" data-size="" data-text="Understanding Python Iterables and Iterators"></span>


<span class="share-facebook defer" data-url="http://www.shutupandship.com/2012/01/understanding-python-iterables-and.html" data-count="" data-layout="" data-text="Understanding Python Iterables and Iterators"></span>

</div>

    
  </div>

  
  
    
    
<div class="comments" data-defer="view">
  <div class="comments-header toggle-switch">
    
<span class="bubble  comments-count " title="0 comments">
  <span class="bubble-content">0</span>
  <span class="bubble-tail"></span>
</span>

    <h3>
    
    Add a comment
    </h3>
  </div>
  
<div class="comments-wrapper blogger-comments toggle-container toggle-active" data-itemid="1330361138892871517" style="display: none;">
  <div class="comments-content"></div>
  <div class="comments-footer">
    <iframe frameborder="0" class="comments-replybox" data-src="//www.blogger.com/comment-iframe.g?blogID=9152575394739018798&amp;postID=1330361138892871517"></iframe>
  </div>
</div>

</div>

    
    
  
  

  
</div>

  
</li></ol>
</div>


<div id="gadget-dock" class=""><div class="gadget-item" data-gadget-id="0">
<div class="gadget-menu">
    <div class="gadget-icons">
      <img class="gadget-icon" src="./Python Closures Explained _ Shut Up and Ship_files/photo.jpg">
      <img class="gadget-icon-selected" src="./Python Closures Explained _ Shut Up and Ship_files/photo.jpg">
    </div>
    <span class="gadget-title">About Me</span>
  </div>
  <div class="gadget-container">
    <div class="gadget">
      <span class="gadget-title">About Me</span>
      <div class="gadget-content"><div class="profile">
  
    
    
      
<dl class="profile-data">
  
  <dt class="profile-name">
  <a href="https://plus.google.com/112186891518609351818" class="profile-name-link g-profile" rel="author" style="background-image: url(&#39;//www.google.com/images/icons/ui/gprofile_button-16.png&#39;);" data-gapiscan="true" data-gapiattached="true">Praveen Gollakota</a>
  </dt>
  
  <br>
  <div class="g-follow" data-href="https://plus.google.com/112186891518609351818" data-height="20" data-annotation="bubble" id="___follow_0"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: absolute; top: -10000px; width: 450px; margin: 0px; border-style: none; display: none !important;" tabindex="0" vspace="0" width="100%" id="I0_1445478967406" name="I0_1445478967406" src="./Python Closures Explained _ Shut Up and Ship_files/saved_resource.html" data-gapiattached="true"></iframe></div>
  
  
  
    
    <dd class="profile-photo">
      <a href="https://plus.google.com/112186891518609351818">
        <img src="./Python Closures Explained _ Shut Up and Ship_files/photo.jpg" width="80" height="80" alt="My Photo">
      </a>
    </dd>
    
  
  
  
  
  <dd class="profile-aboutme">I love Python and Web technologies</dd>
  
</dl>

    
  
</div></div>
    </div>
  </div></div><div class="gadget-item" data-gadget-id="1">
<div class="gadget-menu">
    <div class="gadget-icons">
      <img class="gadget-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAgUlEQVQ4y6XTwQ3AIAgFUEZyhI7gCIzuCGzwe9HWKhgo/2SUvBBFgi8XGQFAtBQ3AxEAxYPUvlkj0Iy05cDdUbQTFYrciQlpSCQCoGSRt6O+SEHUW8pAMm44A/H83n8gBrBNXwTi54mVMfZA/Bk241OdIF5qyYwBsVJHx0yQaMBAblcXSj0+j7awAAAAAElFTkSuQmCC">
      <img class="gadget-icon-selected" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAgklEQVQ4jaXSAQrAIAgAQJ8U9IE9YU/w6T2hH7gVWxPR0BlIUXJYBrVWcsQBxiAiAJHcDKTfUTzIOTbHHIE40vhBpKJoJSoUeRMT0pBITCiLfBU9ixQ0kJKE+tvSDIT8b/yBcD6s+GQRCFeL5XBC6woq4oCQ55rIBkKZt0UE1DXgRS6+HFtDSeJYlgAAAABJRU5ErkJggg==">
    </div>
    <span class="gadget-title">Labels</span>
  </div>
  <div class="gadget-container">
    <div class="gadget">
      <span class="gadget-title">Labels</span>
      <div class="gadget-content"><ul class="gadget-label gadget-label-list gadget-label-show-freq-numbers">
  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/__eq__">__eq__</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/__hash__">__hash__</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/accept">accept</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/associative%20array">associative array</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/binary">binary</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/bind">bind</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/cell%20object">cell object</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/close">close</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/closure">closure</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/codec">codec</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/compile">compile</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/connect">connect</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/cpython">cpython</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/CR">CR</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/CRLF">CRLF</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/data%20structure">data structure</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/decorator">decorator</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/dict">dict</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/dictionary">dictionary</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/django">django</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/encoding">encoding</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/EOL">EOL</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/file">file</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/file%20mode">file mode</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/for%20loop">for loop</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-2">
  <a href="http://www.shutupandship.com/search/label/function">function</a><span class="gadget-label-count">2</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/Handler">Handler</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/hash">hash</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/hash%20collision">hash collision</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/hash%20function">hash function</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/hash%20table">hash table</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/hashing">hashing</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/HTTP">HTTP</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-2">
  <a href="http://www.shutupandship.com/search/label/implementation">implementation</a><span class="gadget-label-count">2</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/iterable">iterable</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/iterator">iterator</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/iterator%20protocol">iterator protocol</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/LF">LF</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/listen">listen</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/logging">logging</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/match">match</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-3">
  <a href="http://www.shutupandship.com/search/label/module">module</a><span class="gadget-label-count">3</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/observer%20design%20pattern">observer design pattern</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/open%20addressing">open addressing</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/overview">overview</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/pattern">pattern</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/pformat">pformat</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/pprint">pprint</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/pretty%20printing">pretty printing</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/PrettyPrinter">PrettyPrinter</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/probing">probing</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/pub-sub%20design%20pattern">pub-sub design pattern</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/publish-subscribe%20design%20pattern">publish-subscribe design pattern</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-5">
  <a href="http://www.shutupandship.com/search/label/python">python</a><span class="gadget-label-count">11</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/re">re</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/regex">regex</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/regular%20expression">regular expression</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/select">select</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/server">server</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/signal">signal</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/SimpleHTTPRequestHandler">SimpleHTTPRequestHandler</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/socket">socket</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/TCP">TCP</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/TCPServer">TCPServer</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/text">text</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/text%20processing">text processing</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/unicode">unicode</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/universal%20newline">universal newline</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/utf8">utf8</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/web%20server">web server</a><span class="gadget-label-count">1</span>
</li>

  
  
<li class="gadget-label-item gadget-label-size-1">
  <a href="http://www.shutupandship.com/search/label/wraps">wraps</a><span class="gadget-label-count">1</span>
</li>

  
</ul></div>
    </div>
  </div></div><div class="gadget-item" data-gadget-id="2">
<div class="gadget-menu">
    <div class="gadget-icons">
      <img class="gadget-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEX///8AAAD///9+749PAAAAAnRSTlMAAHaTzTgAAAAwSURBVHherYyxCQAwCAR/yhTZy8ZeC6c0BETU1msOjucBeyBF54s1FHEs5fZYWb12TL8307RAxVQAAAAASUVORK5CYII=">
      <img class="gadget-icon-selected" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEX///8AAAAzMzMTx/ayAAAAAnRSTlMAAHaTzTgAAAAwSURBVHherYyxCQAwCAR/yhTZy8ZeC6c0BFS09pqD43nAHijR+WINZZxLuTN2Vq8dTL8301DjA9oAAAAASUVORK5CYII=">
    </div>
    <span class="gadget-title">Blog Archive</span>
  </div>
  <div class="gadget-container">
    <div class="gadget">
      <span class="gadget-title">Blog Archive</span>
      <div class="gadget-content"><div class="blogarchive-tree blogarchive-expanded">
  <ul class="blogarchive-dates">
  
  
<li class="blogarchive-date blogarchive-collapsed">
  <div class="blogarchive-title">
    <a href="http://www.shutupandship.com/search?updated-min=2012-01-01T00:00:00-05:00&updated-max=2013-01-01T00:00:00-05:00&max-results=11">2012</a><span class="blogarchive-post-count">11</span>
  </div>
  <ul class="blogarchive-dates">
  
    
<li class="blogarchive-date blogarchive-collapsed">
  <div class="blogarchive-title">
    <a href="http://www.shutupandship.com/2012_04_01_archive.html">April</a><span class="blogarchive-post-count">1</span>
  </div>
  <ul class="blogarchive-dates">
  
  

  
<li class="blogarchive-post">
  <a href="http://www.shutupandship.com/2012/04/django-signals-and-observer-design.html">Django Signals and the Observer Design Pattern</a>
</li>



  </ul>
</li>

  
    
<li class="blogarchive-date blogarchive-collapsed">
  <div class="blogarchive-title">
    <a href="http://www.shutupandship.com/2012_03_01_archive.html">March</a><span class="blogarchive-post-count">1</span>
  </div>
  <ul class="blogarchive-dates">
  
  


  </ul>
</li>

  
    
<li class="blogarchive-date blogarchive-collapsed">
  <div class="blogarchive-title">
    <a href="http://www.shutupandship.com/2012_02_01_archive.html">February</a><span class="blogarchive-post-count">4</span>
  </div>
  <ul class="blogarchive-dates">
  
  


  </ul>
</li>

  
    
<li class="blogarchive-date blogarchive-collapsed">
  <div class="blogarchive-title">
    <a href="http://www.shutupandship.com/2012_01_01_archive.html">January</a><span class="blogarchive-post-count">5</span>
  </div>
  <ul class="blogarchive-dates">
  
  


  </ul>
</li>

  
  


  </ul>
</li>

  
  </ul>
</div></div>
    </div>
  </div></div><div class="gadget-item" data-gadget-id="3">
<div class="gadget-menu">
    <div class="gadget-icons">
      <img class="gadget-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAt0lEQVQ4y62UWw3FIBBEkVAJlVAJSLgSKqESkIAEpFQCEioBB6c/kGw22xZuO19kQ05mhocDAu8VHB9JgvbqLtb136DghIAJWHuhEpQAD8xOCfgBpRckddSIs3KYR0FYke9gVrTN2JyBScDKSNleAbPq7PH4FxUlXcTce8uWQOlsrrO1t+zSYMAi5lG4vY0WhO3DiGLN7LLVQ26uNiNeHAEFcYpNXu97iibnSd25cBXt9Tfyycd2AhigSpokj0DUAAAAAElFTkSuQmCC">
      <img class="gadget-icon-selected" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAvUlEQVQ4y62UUQ3EIBBEkVAJSCB5BpBwEiqhEpCAhEqphEpAQh3QH5psNnttuYOEhEyWl5ndgAMSUP/cyQ2AVKBK0Nbc5Xb+GZScWMAEzG+hErQCEfBOLeADHG9BcpcW0SuHey+oWpHvYFa0xSjegUnADjqaHRVwVz17HH9QUdYvMbc3PSoKKJ35ps09zQ7tUhBaFm5voyVhuxhRLM1utnrIl6vFiJd7QElM8dKirnuKJnU5vVXXDf1GhnxsJxCDnsRGe0FLAAAAAElFTkSuQmCC">
    </div>
    <span class="gadget-title">Subscribe</span>
  </div>
  <div class="gadget-container">
    <div class="gadget">
      <span class="gadget-title">Subscribe</span>
      <div class="gadget-content"><div class="subscribe-rss-feed">
<div class="subscribe-rss-feed-title">RSS Feed</div>
<div>
  <a class="feed-reader-link subscribe-netvibes" href="http://www.netvibes.com/subscribe.php?url=http://www.shutupandship.com//feeds/posts/default" target="_blank">&nbsp;</a>
  <a class="feed-reader-link subscribe-myyahoo" href="http://add.my.yahoo.com/content?url=http://www.shutupandship.com//feeds/posts/default" target="_blank">&nbsp;</a>
  <a href="http://www.shutupandship.com//feeds/posts/default" class="subscribe-rss-feed-add-to">View RSS Feed</a>
</div>
</div></div>
    </div>
  </div></div></div>



<div id="loading">
  <span>Loading</span>
</div>



<div id="chromefix">
<!-- Fix Chrome 12+ bug with GPU accelerated composition causing
flickering/performance issues. Note: put this last, else text glitches. -->
</div>



<div id="attribution-container"><div class="attribution">Dynamic Views template. Powered by <a href="https://www.blogger.com/" target="_blank">Blogger</a>.</div></div><iframe name="oauth2relay650297756" id="oauth2relay650297756" src="./Python Closures Explained _ Shut Up and Ship_files/postmessageRelay.html" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe></body></html>